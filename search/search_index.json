{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to zz\u7684\u6742\u7269\u5806","text":"<p>\u4e00\u5806\u96f6\u788e\u4fe1\u606f\u7684\u6c47\u603b\u3002</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/","title":"DL \u76f8\u5173\u5de5\u5177","text":"<ul> <li>DL \u76f8\u5173\u5de5\u5177<ul> <li>\u8fd0\u7b97\u91cf\u7edf\u8ba1<ul> <li>pytorch \u7f51\u7edc\u8fd0\u7b97\u91cf\u7edf\u8ba1 torchstat (\u9700\u8981 3.6+)</li> </ul> </li> <li>\u6570\u636e\u589e\u5f3a<ul> <li>albumentations</li> <li>\u751f\u6210\u5404\u79cd\u80cc\u666f\u548c\u5b57\u4f53\u7684\u6587\u672c\u56fe\u6e32\u67d3\u5de5\u5177text_renderer</li> </ul> </li> <li>\u53ef\u89c6\u5316\u5de5\u5177<ul> <li>\u7f51\u7edc\u7ed3\u6784\u56fe\u5f62\u5316\u5de5\u5177<ul> <li>\u7b80\u5355\u7684\u5377\u79ef\u7f51\u7edc\uff1a</li> <li>\u8f83\u901a\u7528\uff1a</li> <li>\u5404\u6846\u67b6\u4e13\u7528\uff1a</li> <li>\u4e09\u7ef4\u53ef\u89c6\u5316\u5de5\u5177</li> </ul> </li> <li>Saliency maps\uff08\u663e\u8457\u56fe\uff09 &amp; activation maps</li> </ul> </li> <li>\u8d44\u6e90\u7ba1\u7406\u5de5\u5177<ul> <li>GPU \u7ba1\u7406\u548c\u5206\u5e03\u5f0f\u8bad\u7ec3</li> </ul> </li> <li>\u8bad\u7ec3\u8f85\u52a9\u5de5\u5177</li> </ul> </li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_1","title":"\u8fd0\u7b97\u91cf\u7edf\u8ba1","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#pytorch-torchstat-36","title":"pytorch \u7f51\u7edc\u8fd0\u7b97\u91cf\u7edf\u8ba1 torchstat (\u9700\u8981 3.6+)","text":"<p><pre><code>pip install torchstat\n</code></pre> <pre><code>from torchstat import stat\nimport torchvision.models as models\n\nmodel = models.alexnet()\nstat(model, (3, 224, 224))\n</code></pre></p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_2","title":"\u6570\u636e\u589e\u5f3a","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#albumentations","title":"albumentations","text":"<pre><code>pip install albumentations\n</code></pre> <p>\u53ef\u4ee5\u540c\u6b65\u8f6c\u6362 boundingbox\uff1a https://albumentations.ai/docs/getting_started/bounding_boxes_augmentation/</p> <p>\u8fd8\u6709 segmentation\uff1a https://albumentations.ai/docs/getting_started/mask_augmentation/</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#text_renderer","title":"\u751f\u6210\u5404\u79cd\u80cc\u666f\u548c\u5b57\u4f53\u7684\u6587\u672c\u56fe\u6e32\u67d3\u5de5\u5177text_renderer","text":"<p>https://github.com/oh-my-ocr/text_renderer \u652f\u6301\u4e2d\u6587</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_3","title":"\u53ef\u89c6\u5316\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_4","title":"\u7f51\u7edc\u7ed3\u6784\u56fe\u5f62\u5316\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_5","title":"\u7b80\u5355\u7684\u5377\u79ef\u7f51\u7edc\uff1a","text":"<ul> <li>https://github.com/gwding/draw_convnet</li> <li>http://alexlenail.me/NN-SVG/LeNet.html</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_6","title":"\u8f83\u901a\u7528\uff1a","text":"<ul> <li>https://github.com/HarisIqbal88/PlotNeuralNet</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_7","title":"\u5404\u6846\u67b6\u4e13\u7528\uff1a","text":"<ul> <li>TF\uff1ahttps://www.tensorflow.org/tensorboard/graphs</li> <li>caffe\uff1ahttps://github.com/BVLC/caffe/blob/master/python/caffe/draw.py</li> <li>matlab\uff1ahttp://www.mathworks.com/help/nnet/ref/view.html</li> <li>keras\uff1ahttps://transcranial.github.io/keras-js/#/inception-v3</li> <li>\u57fa\u4e8e Keras\uff1a https://conx.readthedocs.io/en/latest/index.html</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_8","title":"\u4e09\u7ef4\u53ef\u89c6\u5316\u5de5\u5177","text":"<ul> <li>https://github.com/julrog/nn_vis</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#saliency-maps-activation-maps","title":"Saliency maps\uff08\u663e\u8457\u56fe\uff09 &amp; activation maps","text":"<ul> <li>https://github.com/Zetane/viewer</li> <li>https://github.com/MisaOgura/flashtorch <p>\u53c2\u8003\uff1a https://towardsdatascience.com/feature-visualisation-in-pytorch-saliency-maps-a3f99d08f78a https://towardsdatascience.com/gaining-insights-on-transfer-learning-with-flashtorch-de344df0f410</p> </li> <li>https://microscope.openai.com/models \u5305\u542b\u4e86 CLIP \u7684\u7ed3\u679c\uff0cOpenAI \u5b98\u65b9\u51fa\u54c1</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_9","title":"\u8d44\u6e90\u7ba1\u7406\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#gpu","title":"GPU \u7ba1\u7406\u548c\u5206\u5e03\u5f0f\u8bad\u7ec3","text":"<ul> <li>Determined\uff1a\u652f\u6301\u901a\u8fc7\u7f51\u9875\u548c cli \u7ba1\u7406\uff0c\u4e3b\u9875 https://docs.determined.ai/latest/ \uff0c\u53c2\u8003 https://zhuanlan.zhihu.com/p/422462131</li> <li>OpenPAI\uff1a\u5fae\u8f6f\u51fa\u54c1\uff0c\u9664\u5f00 GPU\uff0c\u8fd8\u652f\u6301 TPU\uff0cFPGA \u7b49\u7684\u8d44\u6e90\u7ba1\u7406\uff0c\u5e26 vscode \u6269\u5c55\uff0c\u6709\u4e2d\u6587\u6587\u6863 https://openpai.readthedocs.io/zh_CN/latest/ \uff0c\u7531\u4e8e\u56fd\u5185\u8fde\u63a5\u5947\u6162\uff0c\u6709\u4e13\u95e8\u7684\u56fd\u5185\u5408\u4f5c\u670d\u52a1\u5668\uff0c\u89c1 https://openpai.readthedocs.io/zh_CN/latest/manual/cluster-admin/configuration-for-china.html</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/DL%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_10","title":"\u8bad\u7ec3\u8f85\u52a9\u5de5\u5177","text":"<ul> <li>w&amp;b\uff1a\u4f7f\u7528\u5d4c\u5165API\u5b9e\u73b0\u5728\u7ebf\u76d1\u63a7 https://wandb.ai/quickstart/pytorch</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/Python%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/","title":"Python\u6027\u80fd\u4f18\u5316","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/Python%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#cyphon","title":"Cyphon","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/Python%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#numba","title":"Numba","text":"<pre><code>pip install numba tbb\n</code></pre> <p>\u4e3b\u8981\u7528\u4e8e\u5faa\u73af\uff0c\u5f88\u591a\u573a\u666f\u4e0b\u4e00\u4e2a@njit\uff08\u7b49\u4ef7\u4e8e@jit(nopython=True)\uff09\u88c5\u9970\u7b26\u5c31\u53ef\u4ee5\u6709\u5f88\u597d\u7684\u6548\u679c\uff0c\u7528\u4e8e\u663e\u5f0f\u5e76\u884c\u7684@vectorize\u751a\u81f3\u53ef\u4ee5\u52a0\u901fnumpy\uff0c\u89c1numba\u7684notebook</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/Python%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#taichi","title":"Taichi","text":"<pre><code>pip install taichi\n</code></pre> <p>\u5bf9taichi scope\uff08\u4e5f\u5c31\u662f@ti.func\u548c@ti.kernel\u4fee\u9970\u7684\u51fd\u6570\uff09\u5185\u90e8\u7684\u4ee3\u7801\u5148\u7f16\u8bd1\u518d\u8fd0\u884c\uff0c\u5bf9GPU\u540e\u7aef\u8c03\u7528\u66f4\u52a0\u53cb\u597d\uff0c\u81ea\u79f0\u5bf9\u975e\u77e9\u9635\u7684\u52a0\u901f\u6548\u679c\u4e5f\u6bd4numba\u66f4\u597d\u3002\u51e0\u70b9hint\uff1a - \u7528arch=ti.xx(xx\u53ef\u4ee5\u662fcpu gpu cuda metal opengl vulkan dx11)\u5728ti.init\u4e2d\u6307\u5b9a\u540e\u7aef\uff0c<code>arch=ti.gpu</code>\u4f1a\u81ea\u52a8\u9009\u62e9\u53ef\u7528\u7684gpu\u540e\u7aef\u5e76\u5728\u6ca1\u6709\u53ef\u7528\u9009\u9879\u65f6\u56de\u9000\u5230cpu - taichi\u6709\u81ea\u5df1\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5305\u62ec\u6807\u91cf\uff08ti.i32, ti.f32\u4e4b\u7c7b\uff09\uff0cti.Matrix\u548cti.Vector - taichi scope\u4e2d\u53ef\u4ee5\u4f7f\u7528python\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u4f46\u5b9e\u9645\u4e0a\uff0ctaichi\u53ea\u662f\u5728\u521d\u6b21\u8c03\u7528\u67d0\u4e2akernel\u65f6\u5c06\u5176\u590d\u5236\u7ed9kernel\u5185\u90e8\u7684\u540c\u540d\u53d8\u91cf\uff0c\u5982\u679ckernel\u8fd0\u884c\u540e\u8be5\u5168\u5c40\u53d8\u91cf\u53d1\u751f\u53d8\u5316\uff0c\u8be5kernel\u5185\u7684\u503c\u4e0d\u4f1a\u8ddf\u7740\u53d8\uff0c\u53cd\u8fc7\u6765\u4e5f\u4e00\u6837\uff0c\u89c1\u4e0b\u4f8b\uff1a <pre><code>import taichi as ti\nti.init(arch=ti.gpu)\n\na = 1\n\n@ti.kernel\ndef kernel_1() -&gt; int:\n    a = a+2\n    return a\n\n@ti.kernel\ndef kernel_2() -&gt; int:\n    return a\n\nprint(kernel_1()) # 3\na = 2\nprint(kernel_1()) # 3 \u6ce8\u610fkernel_1\u4e2d\u7684a = a+2\u548c\u524d\u4e00\u53e5\u7684a = 2\u90fd\u6ca1\u6709\u751f\u6548\nprint(kernel_2()) # 2\n</code></pre> - \u6bcf\u4e2a@ti.kernel\u90fd\u72ec\u7acb\u7f16\u8bd1\u6267\u884c\uff0c\u5176\u5165\u53c2\u548c\u51fa\u53c2\u7684\u7c7b\u578b\u90fd\u5fc5\u987b\u663e\u5f0f\u6307\u660e - \u6bcf\u4e2a@ti.kernel\u6700\u591a\u53ea\u80fd\u6709\u4e00\u4e2a\u8fd4\u56de\u51fa\u53e3\u548c\u4e00\u4e2a\u8fd4\u56de\u503c\uff08\u53ef\u4ee5\u6ca1\u6709\uff09\uff0c\u7c7b\u4f3c<code>if a return b else return c</code>\u6216\u8005<code>return x1,x2</code>\u90fd\u662f\u9519\u8bef\u7684 - @ti.kernel\u5165\u53c2\u6570\u91cf\u6709\u9650\u5236\uff0c\u4e0d\u540c\u540e\u7aef\u652f\u6301\u7684\u6570\u91cf\u4e0d\u540c - @ti.function\u53ea\u80fd\u88ab@ti.kernel\u8c03\u7528\uff0c\u5bf9\u5916\u90e8python\u4ee3\u7801\u4e0d\u53ef\u89c1 - \u524d\u9762\u51e0\u6761\u5bf9@ti.kernel\u7684\u9650\u5236\u5bf9@ti.function\u90fd\u4e0d\u5b58\u5728\uff0c\u4f46\u4f9d\u7136\u63a8\u8350\u663e\u5f0f\u6307\u660e\u5165\u53c2\u548c\u51fa\u53c2\u7684\u7c7b\u578b</p> <p>\u4f8b\u7a0b\uff1a <pre><code>## \u7528##\u5f00\u5934\u7684\u662f\u4f7f\u7528numba\u7684\u52a0\u901f\u4ee3\u7801\uff0c\u65b9\u4fbf\u5bf9\u6bd4\uff0c\u5b9e\u6d4b\u4f7f\u7528cpu\u65f6\u4e24\u8005\u901f\u5ea6\u76f8\u5f53\n## from numba import njit, config, prange, int32\n## config.NUMBA_DEFAULT_NUM_THREADS=4 # \u5e76\u884c\u5ea6\u4e0d\u662f\u8d8a\u9ad8\u8d8a\u597d\uff0c\u901a\u5e38\u4e0d\u8d85\u8fc7CPU\u6838\u6570\n\nimport taichi as ti\nti.init(arch=ti.gpu)\n\n## @njit(int32(int32))\n@ti.func\ndef is_prime(n: int):\n    result = True\n    for k in range(2, int(n ** 0.5) + 1): ## numba\u4e0b\u6539\u6210prange\n        if n % k == 0:\n            result = False\n            break\n    return result\n\n## @njit(int32(int32),parallel=True,nogil=True) # \u5f00\u542f\u5e76\u884c\n@ti.kernel\ndef count_primes(n: int) -&gt; int:\n    count = 0\n    for k in range(2, n):  ## numba\u4e0b\u6539\u6210prange\n        if is_prime(k):\n            count += 1\n    return count\n\n%time count_primes(5000000)\n</code></pre></p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/Python%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#map","title":"map\u51fd\u6570","text":"<p>map() \u5c06\u63d0\u4f9b\u7684\u51fd\u6570\u5e94\u7528\u4e8e\u6307\u5b9a\u5e8f\u5217\u7684\u6240\u6709\u5143\u7d20\u3002\u76f8\u6bd4\u5faa\u73af\u5feb\u975e\u5e38\u591a\uff0cpython3\u4e4b\u540e\u8fd4\u56deiterable\uff0c\u53ef\u4ee5\u7528list()\u8f6c\u6362\u6210\u5217\u8868\u3002 \u6ce8\u610f\u5f88\u591a\u65f6\u5019\u4f7f\u7528map\u4f18\u5316\u540e\uff0cnumba\u7684\u6548\u679c\u5c31\u5f88\u6709\u9650\u4e86</p> <pre><code># from numba import jit,njit\n\n# @njit\ndef a(x):\n    sum = 0\n    for i in range(1,x):\n        kk = i**(-0.5)\n        sum += kk\n    return sum\n\nn = 10001\n%timeit a(n)\n%timeit map(a,(n,n))\n\nz = map(a,(n,n,n,n,n))\nlist(z)\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/Python%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#reduce","title":"reduce\u51fd\u6570","text":"<p>reduce() \u51fd\u6570\u5bf9\u53c2\u6570\u5e8f\u5217\uff08\u94fe\u8868\uff0c\u5143\u7ec4\u7b49\uff09\u4e2d\u7684\u5143\u7d20\u8fdb\u884c\u7d2f\u79ef\uff1a\u5148\u7528\u4f20\u7ed9 reduce \u4e2d\u7684\u51fd\u6570 function\uff08\u6709\u4e24\u4e2a\u53c2\u6570\uff09\u5bf9\u96c6\u5408\u4e2d\u7684\u7b2c 1\u30012 \u4e2a\u5143\u7d20\u8fdb\u884c\u64cd\u4f5c\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u518d\u4e0e\u7b2c\u4e09\u4e2a\u6570\u636e\u7528 function \u51fd\u6570\u8fd0\u7b97\uff0c\u76f4\u5230\u7ed3\u675f\u3002\u6709\u4e00\u5b9a\u52a0\u901f\u6548\u679c\uff0c\u4e14\u76f8\u6bd4\u5faa\u73af\u66f4\u4e3a\u6e05\u6670\u53ef\u8bfb</p> <pre><code>from functools import reduce\ndef a1(x,y):\n    return x+y**(-0.5)\n%timeit reduce(a1,range(1,101))\n\ndef a2():\n    t = a1(1,2)\n    for i in range(3,101):\n        t = a1(t,i)\n%timeit a2()\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/UI%E5%B7%A5%E5%85%B7/","title":"UI\u5f00\u53d1\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/UI%E5%B7%A5%E5%85%B7/#ui_1","title":"\u6570\u636e\u5206\u6790UI\u6784\u5efa","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/UI%E5%B7%A5%E5%85%B7/#streamlit","title":"streamlit","text":"<ul> <li>https://docs.streamlit.io/</li> <li>https://awesome-streamlit.org/</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/UI%E5%B7%A5%E5%85%B7/#gradio","title":"gradio","text":"<ul> <li>https://www.gradio.app/docs/</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/UI%E5%B7%A5%E5%85%B7/#_1","title":"\u57fa\u4e8e\u6d4f\u89c8\u5668\u7684\u5f00\u53d1","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/UI%E5%B7%A5%E5%85%B7/#_2","title":"\u5728\u7ebf\u4ee3\u7801\u7f16\u8f91\u5668","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/UI%E5%B7%A5%E5%85%B7/#monacovscodenpm","title":"monaco\uff1a\u5b9e\u9645\u4e0a\u5c31\u662fvscode\u7f16\u8f91\u5668\u90e8\u5206\u4ee3\u7801\u6253\u5305\u6210\u7684\u5e93\uff0c\u53ef\u4ee5\u76f4\u63a5npm\u5b89\u88c5","text":"<ul> <li>https://microsoft.github.io/monaco-editor/playground.html</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesomenontech/","title":"\u5404\u79cd\u975e\u6280\u672f\u7c7b\u7684\u8d44\u6e90\u7f51\u7ad9\u6536\u96c6","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesomenontech/#_2","title":"\u6570\u636e\u7c7b","text":"<p>\u5404\u79cd\u793e\u4f1a\u4e0e\u73af\u5883\u6570\u636e\uff1a https://ourworldindata.org/</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesomenontech/#_3","title":"\u5730\u56fe\u4e0b\u8f7d","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesomenontech/#_4","title":"\u73b0\u4ee3\u5730\u56fe","text":"<p>\u81ea\u7136\u8d44\u6e90\u90e8\u6807\u51c6\u5730\u56fe\u670d\u52a1\u7cfb\u7edf\uff1ahttp://bzdt.ch.mnr.gov.cn/</p> <p>\u5730\u56fe\u7a9d\uff1ahttp://www.onegreen.net/maps/m/</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesomenontech/#_5","title":"\u53e4\u5730\u56fe","text":"<p>\u5927\u536b\u62c9\u59c6\u9f50\u5730\u56fe\u56fe\u4e66\u9986\uff1ahttps://www.davidrumsey.com/</p> <p>\u6570\u4f4d\u65b9\u8206\uff1ahttps://digitalatlas.ascdc.sinica.edu.tw/</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesomenontech/#_6","title":"\u5178\u7c4d\u7c7b","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesomenontech/#_7","title":"\u5723\u7ecf","text":"<p>\u5404\u79cd\u7248\u672c\u5723\u7ecf\u5408\u96c6\uff1ahttp://www.godcom.net/ \u5e26\u8bc4\u6ce8\u56fe\u7247\u6d41\u8a00\u516b\u5366\u7248\u5723\u7ecf\u7efc\u5408\u89e3\u8bfb\uff1ahttps://cmcbiblereading.com</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesometutorials/","title":"\u6280\u672f\u7c7btutorial\u3001\u8bfe\u7a0b\u548c\u793a\u4f8b\u7f51\u7ad9","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesometutorials/#awesome-lists","title":"awesome lists\u5927\u96c6\u5408","text":"<ul> <li>https://github.com/sindresorhus/awesome</li> <li>https://github.com/topics/awesome-list</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesometutorials/#_1","title":"\u7b97\u6cd5","text":"<ul> <li>https://github.com/TheAlgorithms/Python</li> <li>https://github.com/tayllan/awesome-algorithms</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesometutorials/#_2","title":"\u6570\u5b66\u548c\u4fe1\u53f7\u5904\u7406\u57fa\u7840","text":"<ul> <li>https://github.com/rlabbe/Kalman-and-Bayesian-Filters-in-Python</li> <li>https://github.com/AllenDowney/ThinkDSP</li> <li>https://github.com/AllenDowney/ThinkBayes2</li> <li>https://github.com/AllenDowney/ThinkStats2</li> <li>https://github.com/CamDavidsonPilon/Probabilistic-Programming-and-Bayesian-Methods-for-Hackers MCMC\u8bb2\u7684\u5f88\u597d</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesometutorials/#_3","title":"\u6570\u5b66\u5de5\u5177","text":"<ul> <li>https://github.com/fmfn/BayesianOptimization</li> <li>Sympy\u7528\u7684\u5f88\u597d\u7684\u5904\u7406\u52a8\u6001\u63a7\u5236\u8fc7\u7a0b\u7684\u4e00\u672c\u4e66\uff1ahttps://dynamics-and-control.readthedocs.io/en/latest/index.html</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesometutorials/#python","title":"python","text":"<ul> <li>https://github.com/HanXinzi-AI/awesome-python-resources</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesometutorials/#_4","title":"\u6570\u636e\u5206\u6790\u4e0e\u53ef\u89c6\u5316","text":"<ul> <li>python\u6570\u636e\u4e4b\u9053\uff1ahttps://github.com/liyangbit/PyDataRoad.git</li> <li>Python for Data Analysis, 2nd Edition\uff1a https://github.com/wesm/pydata-book</li> <li>Bayesian data analysis\uff1ahttp://www.stat.columbia.edu/~gelman/book/</li> <li>https://github.com/wangyingsm/Python-Data-Science-Handbook \u8fd9\u662f\u4e2d\u6587\u7248\u3002\u539f\u7248\u5730\u5740\uff1ahttps://github.com/jakevdp/PythonDataScienceHandbook</li> <li>python\u6570\u636e\u53ef\u89c6\u5316\u5404\u79cd\u56fe\u6c47\u603b\uff1ahttps://github.com/holtzy/The-Python-Graph-Gallery</li> <li>Scientific Visualization Python + Matplotlib\uff1ahttps://github.com/rougier/scientific-visualization-book</li> <li>pyecharts\u7684\u793a\u4f8b\u96c6\uff1ahttps://github.com/pyecharts/pyecharts-gallery.git</li> <li>scikit-learn\u5165\u95e8\uff1a https://github.com/jakevdp/sklearn_tutorial</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesometutorials/#git","title":"git","text":"<ul> <li>github workflow syntax\uff1a https://docs.github.com/en/actions/learn-github-actions/workflow-syntax-for-github-actions</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesometutorials/#_5","title":"\u5fae\u8f6f\u5f00\u6e90\u7684\u56db\u4e2a\u5165\u95e8\u8bfe","text":"<ul> <li>https://github.com/microsoft/ML-For-Beginners</li> <li>https://github.com/microsoft/Web-Dev-For-Beginners</li> <li>https://github.com/microsoft/IoT-For-Beginners</li> <li>https://github.com/microsoft/Data-Science-For-Beginners</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesometutorials/#python_1","title":"python\u4f18\u5316","text":"<ul> <li>numba\u793a\u4f8b\u96c6\uff1a https://github.com/numba/numba-examples.git</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/awesometutorials/#chisel","title":"chisel","text":"<ul> <li>https://github.com/ucb-bar/chisel-tutorial</li> <li>https://github.com/freechipsproject/chisel-bootcamp</li> <li>https://github.com/freechipsproject/chisel-cheatsheet</li> <li>https://github.com/freechipsproject/chisel-template</li> <li>https://github.com/schoeberl/chisel-book</li> <li>https://github.com/schoeberl/chisel-examples</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/profiling%E5%B7%A5%E5%85%B7/","title":"profiling\u5de5\u5177\uff1a","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/profiling%E5%B7%A5%E5%85%B7/#python","title":"python","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/profiling%E5%B7%A5%E5%85%B7/#cprofile","title":"cprofile","text":"<p>cprofile\u662fpython\u81ea\u5e26\uff0c\u4e0d\u9700\u8981\u5b89\u88c5\uff0c\u53ef\u4ee5\u7528\u5982\u4e0b\u547d\u4ee4\u884c\u6267\u884c\uff0c\u4e5f\u53ef\u4ee5\u5728python\u4ee3\u7801\u5185\u90e8\u6267\u884c</p> <pre><code>  # \u76f4\u63a5\u628a\u5206\u6790\u7ed3\u679c\u6253\u5370\u5230\u63a7\u5236\u53f0\npython -m cProfile test.py\n  # \u628a\u5206\u6790\u7ed3\u679c\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\npython -m cProfile -o result.out test.py\n  # \u589e\u52a0\u6392\u5e8f\u65b9\u5f0f\npython -m cProfile -o result.out -s cumulative test.py\n</code></pre> <pre><code>import time\ndef func1():\n    sum = 0\n    for i in range(100000):\n        sum += i\ndef func2():\n    time.sleep(10)\n\ndef test():\n    func1()\n    func2()\n</code></pre> <pre><code>import cProfile\n\ncProfile.run(\"test()\")\n#cProfile.run(\"test()\", filename=\"result.out\") # \u7ed3\u679c\u4fdd\u5b58\u5230\u6587\u4ef6\n# cProfile.run(\"test()\", filename=\"result.out\", sort=\"cumulative\") # \u7ed3\u679c\u4fdd\u5b58\u5230\u6587\u4ef6\u5e76\u6392\u5e8f\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/profiling%E5%B7%A5%E5%85%B7/#pstats","title":"pstats","text":"<p>pstats\u4e5f\u662f\u5185\u7f6e\u6a21\u5757\uff0c\u7528\u4e8e\u89e3\u6790cProfile\u7684\u8f93\u51fa\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528</p> <pre><code>python -m pstats result.out\n</code></pre> <p>\u4ea4\u4e92\u5f0f\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u5728python\u4ee3\u7801\u4e2d\u4f7f\u7528</p> <pre><code>import pstats\n\n# \u521b\u5efaStats\u5bf9\u8c61\np = pstats.Stats(\"result.out\")\n\n# strip_dirs(): \u53bb\u6389\u65e0\u5173\u7684\u8def\u5f84\u4fe1\u606f\n# sort_stats(): \u6392\u5e8f\uff0c\u652f\u6301\u7684\u65b9\u5f0f\u548c\u4e0a\u8ff0\u7684\u4e00\u81f4\n# print_stats(): \u6253\u5370\u5206\u6790\u7ed3\u679c\uff0c\u53ef\u4ee5\u6307\u5b9a\u6253\u5370\u524d\u51e0\u884c\n\n# \u548c\u76f4\u63a5\u8fd0\u884ccProfile.run(\"test()\")\u7684\u7ed3\u679c\u662f\u4e00\u6837\u7684\np.strip_dirs().sort_stats(-1).print_stats()\n\n# \u6309\u7167\u51fd\u6570\u540d\u6392\u5e8f\uff0c\u53ea\u6253\u5370\u524d3\u884c\u51fd\u6570\u7684\u4fe1\u606f, \u53c2\u6570\u8fd8\u53ef\u4e3a\u5c0f\u6570,\u8868\u793a\u524d\u767e\u5206\u4e4b\u51e0\u7684\u51fd\u6570\u4fe1\u606f \np.strip_dirs().sort_stats(\"name\").print_stats(3)\n\n# \u6309\u7167\u8fd0\u884c\u65f6\u95f4\u548c\u51fd\u6570\u540d\u8fdb\u884c\u6392\u5e8f\uff0c\u5b9e\u9645\u652f\u6301\u7684\u6392\u5e8f\u65b9\u6cd5\u5305\u62eccalls, cumulative, file, line, module, name, nfl, pcalls, stdname, time\np.strip_dirs().sort_stats(\"cumulative\", \"name\").print_stats(0.5)\n\n# \u5982\u679c\u60f3\u77e5\u9053\u6709\u54ea\u4e9b\u51fd\u6570\u8c03\u7528\u4e86sum_num\np.print_callers(0.5, \"sum_num\")\n\n# \u67e5\u770btest()\u51fd\u6570\u4e2d\u8c03\u7528\u4e86\u54ea\u4e9b\u51fd\u6570\np.print_callees(\"test\")\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/profiling%E5%B7%A5%E5%85%B7/#snakeviz","title":"snakeviz","text":"<p>cProfile\u8f93\u51fa\u7684\u53ef\u89c6\u5316\u5de5\u5177</p> <pre><code>pip install snakeviz\n</code></pre> <p>\u76f4\u63a5\u7528\u5b83\u6253\u5f00\u8f93\u51fa\u6587\u4ef6\u5373\u53ef</p> <pre><code>snakeviz result.out\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/profiling%E5%B7%A5%E5%85%B7/#c","title":"C++","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/profiling%E5%B7%A5%E5%85%B7/#gperftools","title":"gperftools","text":"<p>https://github.com/gperftools/gperftools</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/profiling%E5%B7%A5%E5%85%B7/#gprof","title":"gprof","text":"<p>GNU binutils\u81ea\u5e26\uff0c\u624b\u518c\u5730\u5740\u3002</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7/","title":"\u4e0b\u8f7d\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7/#_2","title":"\u89c6\u9891\u4e0b\u8f7d","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7/#you-get","title":"you-get","text":"<p>https://github.com/soimort/you-get</p> <p>\u547d\u4ee4\u884c\uff1a <pre><code>    you-get 'https://www.youtube.com/watch?v=jNQXAC9IVRw' # \u76f4\u63a5\u4e0b\u8f7d\nyou-get -x 127.0.0.1:1081 -i 'https://www.youtube.com/watch?v=f78ZVLVdO0A' # -x \u540e\u9762\u63a5https proxy\uff0c-i \u5217\u51fa\u53ef\u80fd\u7684\u6e05\u6670\u5ea6\u9009\u9879\u53ca\u5176itag\nyou-get -x 127.0.0.1:1081 --itag=248 'https://www.youtube.com/watch?v=f78ZVLVdO0A' # \u4e0b\u8f7d\u9009\u5b9aitag\u7684\u89c6\u9891\u7248\u672c\n</code></pre></p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7/#yt-dlpyoutube-dl-fork","title":"yt-dlp\uff08youtube-dl fork\uff0c\u6301\u7eed\u7ef4\u62a4\u548c\u589e\u52a0\u529f\u80fd\u4e2d\uff09","text":"<p>https://github.com/yt-dlp/yt-dlp</p> <p>\u547d\u4ee4\u884c <pre><code>    yt-dlp --proxy socks5://127.0.0.1:1080/ https://www.youtube.com/watch?v=f78ZVLVdO0A\n</code></pre></p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7/#youtube-dl","title":"youtube-dl\uff08\u5df2\u505c\u6b62\u66f4\u65b0\uff09","text":"<p>https://ytdl-org.github.io/youtube-dl/index.html</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7/#_3","title":"\u56fd\u5bb6\u6807\u51c6\u4e0b\u8f7d","text":"<p>\u56fd\u5bb6\u6807\u51c6\u5168\u6587\u516c\u5f00\u7cfb\u7edf http://openstd.samr.gov.cn/  \u56e0\u4e3a\u56fd\u9645\u7248\u6743\u7684\u539f\u56e0\u4e0d\u63d0\u4f9bGB/T\u4e0b\u8f7d\uff0c\u4f46\u8be5\u7f51\u7ad9\u7528\u7684\u662fpdf.js\u6e32\u67d3PDF\uff08\u5728chrome\u3001\u706b\u72d0\u4e0a\u6d4b\u8bd5\u8fc7\uff09\uff0c\u53ea\u4e0d\u8fc7\u9690\u85cf\u4e86\u4e0b\u8f7d\u548c\u6253\u5370\u529f\u80fd\u3002</p> <p>\u90a3\u4e48\u53ea\u9700\u8981\u628a\u89c4\u8303\u62c9\u5230\u6700\u540e\u4e00\u9875\uff0c\u7b49\u5f85\u8fdb\u5ea6\u6761\u52a0\u8f7d\u5b8c\u6210\uff0c\u7136\u540eF12 console \u6267\u884c\u547d\u4ee4PDFViewerApplication.save()\u5c31\u53ef\u4ee5\u628a\u5f53\u524d\u6587\u4ef6\u4fdd\u5b58\u4e3adocument.pdf\u3002</p> <p>=========================================================================================</p> <p>\u7ed9\u5927\u5bb6\u4e00\u4e2a\u5c0f\u5efa\u8bae,\u88c5\u4e2aAcrobat DC https://www.52pojie.cn/thread-1217949-1-1.html \u7136\u540e\u6253\u5370\u89c4\u8303 \u6253\u5370\u9009\u62e9\u5c0f\u518c\u5b50 \u53cc\u9762,\u8fd9\u6837100\u9875\u7684\u89c4\u8303\u53ef\u4ee5\u6253\u572825\u5f20A4\u7eb8\u4e0a\u5bf9\u6298\u8d77\u6765\u770b,\u5c3a\u5bf8\u548c\u4f60\u4e70\u7684\u7eb8\u8d28\u7248B5\u5bf9\u6298\u5dee\u4e0d\u591a\u5927.\u7136\u540e\u518d\u4e70\u4e2a  \u65cb\u8f6c\u8ba2\u4e66\u673a \u8ba2\u4e2d\u7f1d https://item.jd.com/100007189323.html \u8fd9\u6837\u7528\u8d77\u6765\u723d\u591a\u4e86.</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/","title":"\u56fe\u50cf\u5904\u7406\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_2","title":"\u53bb\u9664\u56fe\u50cf\u80cc\u666f","text":"<p>\u7f51\u7ad9https://www.remove.bg/ \u6709\u53ef\u4e0b\u8f7d\u7684\u5de5\u5177\uff0c\u4e5f\u63d0\u4f9bpython\u7b49\u8bed\u8a00\u7684API</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_3","title":"\u4ece\u89c6\u9891\u4e2d\u79fb\u9664\u76ee\u6807","text":"<p>https://github.com/nbei/Deep-Flow-Guided-Video-Inpainting </p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_4","title":"\u53bb\u9a6c\u8d5b\u514b","text":"<p>https://github.com/HypoX64/DeepMosaics</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_5","title":"\u4e09\u6b21\u5143\u8f6c\u4e8c\u6b21\u5143","text":"<p>https://github.com/taki0112/UGATIT</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_6","title":"\u56fe\u7247\u53d8\u50cf\u7d20\u753b","text":"<p>https://github.com/nuno-faria/tiler</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_7","title":"\u4eba\u50cf\u53d8\u7ebf\u7a3f","text":"<p>https://github.com/xuebinqin/U-2-Net \u4f5c\u8005\u8fd8\u6536\u96c6\u4e86\u4e00\u5806\u57fa\u4e8eU2net\u7684\u7a00\u5947\u53e4\u602a\u5e94\u7528\u3002</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_8","title":"\u52a8\u6f2b\u8d85\u5206\u8fa8\u7387","text":"<p>https://github.com/xinntao/Real-ESRGAN</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/#_9","title":"\u9690\u5f62\u6c34\u5370","text":"<p>https://github.com/ShieldMnt/invisible-watermark \u57fa\u4e8e\u79bb\u6563\u5c0f\u6ce2\u53d8\u6362\u548cGAN\u5bf9\u56fe\u50cf\u52a0\u6c34\u5370\u7684\u7b97\u6cd5\u5e93\u3002dwtDct\u4f3c\u4e4e\u4e0d\u5de5\u4f5c\uff0c\u4f46dwtDctSvd\u53ef\u4ee5</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/","title":"\u6570\u636e\u5206\u6790\u4e0e\u53ef\u89c6\u5316","text":"<ul> <li>\u6570\u636e\u5206\u6790\u5de5\u5177<ul> <li>pandas-profiling</li> <li>Sweetviz</li> <li>Autoviz\uff08\u901f\u5ea6\u6162\u5916\u90e8\u4f9d\u8d56\u591a\uff0c\u4e0d\u597d\u7528\uff09</li> <li>D-Tale\uff08\u7f16\u7a0b\u4e60\u60ef\u5f88\u70c2\uff0c\u5916\u90e8\u4f9d\u8d56\u591a\u4e14\u9501\u7248\u672c\uff0c\u5f88\u5bb9\u6613\u51fa\u9519\uff0c\u975e\u865a\u62df\u73af\u5883\u614e\u88c5\u614e\u7528\uff09</li> </ul> </li> <li>\u6570\u636e\u53ef\u89c6\u5316\u5de5\u5177<ul> <li>\u5404\u79cd\u7c7b\u578b\u56fe\u7684\u6c47\u603b</li> <li>pandasgui</li> <li>Plotly</li> <li>Altair</li> <li>pyecharts</li> <li>yellowbrick\uff1aScikit-Learn\u53ef\u89c6\u5316\u6269\u5c55</li> <li>\u5fae\u8f6f\u51fa\u54c1\u7684\u53ef\u89c6\u5316\u5de5\u5177Charticulator</li> <li>\u53e6\u4e00\u4e2a\u5fae\u8f6f\u51fa\u54c1\u7684\u53ef\u89c6\u5316\u5de5\u5177SandDance\uff08\u6709vscode\u63d2\u4ef6\uff09</li> <li>\u5730\u56fe\u5de5\u5177<ul> <li>Folium</li> <li>Geopandas</li> </ul> </li> <li>hiplot</li> <li>pydeck</li> <li>pygmt</li> <li>geopy</li> <li>\u56fd\u5185\u5730\u56fe\u7f51\u7ad9</li> </ul> </li> <li>\u8bcd\u4e91\u5de5\u5177<ul> <li>\u5728\u7ebf\u8bcd\u4e91\u751f\u6210</li> <li>\u652f\u6301\u8bcd\u4e91\u7684python\u5e93<ul> <li>plotly:</li> <li>pyecharts</li> <li>wordcloud</li> </ul> </li> </ul> </li> <li>\u914d\u8272\u65b9\u6848<ul> <li>Haishoku\uff1a\u4ece\u56fe\u7247\u4e2d\u63d0\u53d6\u914d\u8272\u65b9\u6848</li> <li>matplotlib\u81ea\u5e26\u914d\u8272\u8868\uff1a</li> <li>palettable\uff1a</li> </ul> </li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#_1","title":"\u6570\u636e\u5206\u6790\u5de5\u5177","text":"<p>\u7b80\u4ecb\u6765\u81eahttps://towardsdatascience.com/4-libraries-that-can-perform-eda-in-one-line-of-python-code-b13938a06ae</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#pandas-profiling","title":"pandas-profiling","text":"<p>Pandas profiling is an open-source python library that automates the EDA process and creates a detailed report. Pandas Profiling can be used easily for large datasets as it is blazingly fast and creates reports in a few seconds. repo: https://github.com/ydataai/pandas-profiling</p> <pre><code># \u5bfc\u5165\u76f8\u5173\u5e93\nimport pandas as pd\nimport pandas_profiling\n\ndf = pd.read_csv('train.csv')\nreport = pandas_profiling.ProfileReport(df)\nreport.to_file('temp.html') # \u5bfc\u51fa\u62a5\u544a\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#sweetviz","title":"Sweetviz","text":"<p>Sweetviz is an open-source python auto-visualization library that generates a report, exploring the data with the help of high-density plots. It not only automates the EDA but is also used for comparing datasets and drawing inferences from it. A comparison of two datasets can be done by treating one as training and the other as testing.</p> <p>repo: https://github.com/fbdesignpro/sweetviz</p> <pre><code>import sweetviz as sv\n\nimport pandas as pd\ndf = pd.read_csv('train.csv')\n\nmy_report = sv.analyze(df) # \u4e09\u4e2a\u4e3b\u8981\u7684\u62a5\u544a\u751f\u6210\u51fd\u6570\uff1aanalyze, compare, compare_intra\nmy_report.show_html() # Default arguments will generate to \"SWEETVIZ_REPORT.html\"\n# my_report.show_notebook() # \u5728jupyterlab\u6216\u8005jupyter notebook\u4e2d\u663e\u793a\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#autoviz","title":"Autoviz\uff08\u901f\u5ea6\u6162\u5916\u90e8\u4f9d\u8d56\u591a\uff0c\u4e0d\u597d\u7528\uff09","text":"<p>Autoviz is an open-source python auto visualization library that mainly focuses on visualizing the relationship of the data by generating different types of plot.</p> <p>repo: https://github.com/AutoViML/AutoViz</p> <pre><code>from autoviz.AutoViz_Class import AutoViz_Class\n\nAV = AutoViz_Class()\n\nfilename = \"train.csv\" # \u8f93\u5165\u4e5f\u53ef\u4ee5\u662fdataframe\nsep = \",\"\ndft = AV.AutoViz(\n    filename,\n    sep=\",\",\n    depVar=\"\",\n    dfte=None,\n    header=0,\n    verbose=0,\n    lowess=False,\n    chart_format=\"html\",\n    max_rows_analyzed=150000,\n    max_cols_analyzed=30,\n    save_plot_dir=None\n)\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#d-tale","title":"D-Tale\uff08\u7f16\u7a0b\u4e60\u60ef\u5f88\u70c2\uff0c\u5916\u90e8\u4f9d\u8d56\u591a\u4e14\u9501\u7248\u672c\uff0c\u5f88\u5bb9\u6613\u51fa\u9519\uff0c\u975e\u865a\u62df\u73af\u5883\u614e\u88c5\u614e\u7528\uff09","text":"<p>D-Tale is an open-source python auto-visualization library. It is one of the best auto data-visualization libraries. D-Tale helps you to get a detailed EDA of the data. It also has a feature of code export, for every plot or analysis in the report.</p> <p>repo: https://github.com/man-group/dtale</p> <pre><code>import dtale\ndtale.show(open_browser=True) # \u8c8c\u4f3c\u5728notebook\u4e2d\u5de5\u4f5c\u6b63\u5e38\u4f46\u547d\u4ee4\u884c\u5c31\u4e0d\u884c\uff0c\u53e6\u5916windows\u4e0b\u4f1a\u88ab\u9632\u706b\u5899\u62e6\u622a\uff0c\u8981\u5141\u8bb8\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#_2","title":"\u6570\u636e\u53ef\u89c6\u5316\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#_3","title":"\u5404\u79cd\u7c7b\u578b\u56fe\u7684\u6c47\u603b","text":"<p>https://github.com/holtzy/The-Python-Graph-Gallery</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#pandasgui","title":"pandasgui","text":"<p><pre><code>pip install pandasgui\n</code></pre> <pre><code>import pandas as pd\nfrom pandasgui import show\n\ndf = pd.read_csv(\"train.csv\")\nshow(df)\n</code></pre></p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#plotly","title":"Plotly","text":"<p>\u6587\u6863\u5728\uff1ahttps://plotly.com/python/getting-started/ \u539f\u672c\u7684plotly express\u73b0\u5df2\u5408\u5165plotly v4\uff0c\u53ef\u4ee5\u901a\u8fc7\u6a21\u5757\u540dplotly.express\u5f15\u7528\u3002 jupyterlab\u5230v3.0\u4e3a\u6b62\uff0c\u8fd8\u9700\u8981\u5b89\u88c5\u63d2\u4ef6\u624d\u80fd\u6b63\u5e38\u663e\u793a</p> <pre><code> pip install plotly\n</code></pre> <pre><code>import plotly.graph_objects as go\nimport plotly.express as px\ngapminder = px.data.gapminder()\ngapminder2007 = gapminder.query('year == 2007')\npx.scatter(gapminder2007, x='gdpPercap', y='lifeExp')\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#altair","title":"Altair","text":"<p>\u4eae\u70b9\u662f\u53ef\u4ee5\u4e92\u52a8\u548c\u7528\u56fe\u7247\u753b\u70b9\u3002\u81ea\u8eab\u4e0d\u5e26\u6e32\u67d3\u5b9e\u73b0\uff0c\u8981\u901a\u8fc7jupyter notebook\u6216\u8005nteract\u663e\u793a\uff0c\u4f46\u53ef\u4ee5\u4fdd\u5b58\u4e3a\u6587\u4ef6\uff0c\u652f\u6301json/png/svg/html/pdf\u7b49 https://altair-viz.github.io/ https://altair-viz.github.io/gallery/</p> <pre><code>import altair as alt\nfrom vega_datasets import data\n\nsource = data.cars()\n\nbrush = alt.selection(type='interval')\n\npoints = alt.Chart(source).mark_point().encode(\n    x='Horsepower',\n    y='Miles_per_Gallon',\n    color=alt.condition(brush, 'Origin', alt.value('lightgray'))\n).add_selection(\n    brush\n)\n\nbars = alt.Chart(source).mark_bar().encode(\n    y='Origin',\n    color='Origin',\n    x='count(Origin)'\n).transform_filter(\n    brush\n)\n\npoints &amp; bars\n</code></pre> <pre><code>import altair as alt\nimport pandas as pd\n\nsource = pd.DataFrame.from_records([\n      {\"x\": 0.5, \"y\": 0.5, \"img\": \"https://vega.github.io/vega-datasets/data/ffox.png\"},\n      {\"x\": 1.5, \"y\": 1.5, \"img\": \"https://vega.github.io/vega-datasets/data/gimp.png\"},\n      {\"x\": 2.5, \"y\": 2.5, \"img\": \"https://vega.github.io/vega-datasets/data/7zip.png\"}\n])\n\nmychart = alt.Chart(source).mark_image(\n    width=50,\n    height=50\n).encode(\n    x='x',\n    y='y',\n    url='img'\n)\nmychart.save('chartoutput.html')\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#pyecharts","title":"pyecharts","text":"<p>https://github.com/pyecharts/pyecharts-gallery.git https://pyecharts.org/#/zh-cn/intro</p> <p>\u4e0d\u540c\u7684 Notebook \u73af\u5883\u6709\u81ea\u5df1\u4e0d\u540c\u7684\u6e32\u67d3\u8981\u6c42\uff0cpyecharts \u5728\u5e95\u5c42\u505a\u4e86\u9002\u914d\u5904\u7406\uff0c\u4f46\u56e0\u4e3a\u6211\u4eec\u65e0\u6cd5\u5728 import pyecharts \u7684\u65f6\u5019\u77e5\u9053\u7528\u6237\u5177\u4f53\u4f7f\u7528\u7684\u662f\u54ea\u79cd Notebook \u73af\u5883\uff0c\u6240\u4ee5\u9700\u8981\u7528\u6237\u5728\u4f7f\u7528\u65f6\u5728\u9876\u90e8\u58f0\u660e\u73af\u5883\u7c7b\u578b\u3002</p> <p>render_notebook \u968f\u65f6\u968f\u5730\u6e32\u67d3\u56fe\u8868\uff0c\u9ed8\u8ba4\u4e3a Jupter-Notebook\u3002</p> <p>Jupyter Lab \u6e32\u67d3\u7684\u65f6\u5019\u6709\u4e24\u70b9\u9700\u8981\u6ce8\u610f</p> <p>\u5728\u9876\u90e8\u58f0\u660e Notebook \u7c7b\u578b\uff0c\u5fc5\u987b\u5728\u5f15\u5165 pyecharts.charts \u7b49\u6a21\u5757\u524d\u58f0\u660e</p> <pre><code>from pyecharts.globals import CurrentConfig, NotebookType\nCurrentConfig.NOTEBOOK_TYPE = NotebookType.JUPYTER_LAB\n</code></pre> <p>\u5728\u7b2c\u4e00\u6b21\u6e32\u67d3\u7684\u65f6\u5019\u8c03\u7528 load_javascript() \u4f1a\u9884\u5148\u52a0\u8f7d\u57fa\u672c JavaScript \u6587\u4ef6\u5230 Notebook \u4e2d\u3002\u5982\u82e5\u540e\u9762\u5176\u4ed6\u56fe\u5f62\u6e32\u67d3\u4e0d\u51fa\u6765\uff0c\u5219\u8bf7\u5f00\u53d1\u8005\u5c1d\u8bd5\u518d\u6b21\u8c03\u7528\uff0c\u56e0\u4e3a load_javascript \u53ea\u4f1a\u9884\u5148\u52a0\u8f7d\u6700\u57fa\u672c\u7684 js \u5f15\u7528\u3002\u800c\u4e3b\u9898\u3001\u5730\u56fe\u7b49 js \u6587\u4ef6\u9700\u8981\u518d\u6b21\u6309\u9700\u52a0\u8f7d\u3002 load_javascript() \u548c render_notebook() \u65b9\u6cd5\u9700\u8981\u5728\u4e0d\u540c\u7684 cell \u4e2d\u8c03\u7528\uff0c\u8fd9\u662f Notebook \u7684\u5185\u8054\u673a\u5236\uff0c\u5176\u5b9e\u672c\u8d28\u4e0a\u6211\u4eec\u662f\u8fd4\u56de\u4e86\u5e26\u6709 html, javascript \u5bf9\u8c61\u7684 class\u3002notebook \u4f1a\u81ea\u52a8\u53bb\u8c03\u7528\u8fd9\u4e9b\u65b9\u6cd5\u3002</p> <pre><code>from pyecharts.globals import CurrentConfig, NotebookType\n# CurrentConfig.NOTEBOOK_TYPE = NotebookType.JUPYTER_LAB\n\nimport pyecharts.options as opts\nfrom pyecharts.charts import Bar, Line\n\nbar = (\n    Bar()\n    .add_xaxis([\"\u886c\u886b\", \"\u7f8a\u6bdb\u886b\", \"\u96ea\u7eba\u886b\", \"\u88e4\u5b50\", \"\u9ad8\u8ddf\u978b\", \"\u889c\u5b50\"])\n    .add_yaxis(\"\u5546\u5bb6A\", [5, 20, 36, 10, 75, 90])\n    .add_yaxis(\"\u5546\u5bb6B\", [15, 6, 45, 20, 35, 66])\n    .set_global_opts(title_opts=opts.TitleOpts(title=\"\u4e3b\u6807\u9898\", subtitle=\"\u526f\u6807\u9898\"))\n)\n</code></pre> <pre><code>bar.render_notebook()\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#yellowbrickscikit-learn","title":"yellowbrick\uff1aScikit-Learn\u53ef\u89c6\u5316\u6269\u5c55","text":"<p>https://www.scikit-yb.org/en/latest/index.html</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#charticulator","title":"\u5fae\u8f6f\u51fa\u54c1\u7684\u53ef\u89c6\u5316\u5de5\u5177Charticulator","text":"<p>https://charticulator.com/templates.html https://github.com/Microsoft/charticulator</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#sanddancevscode","title":"\u53e6\u4e00\u4e2a\u5fae\u8f6f\u51fa\u54c1\u7684\u53ef\u89c6\u5316\u5de5\u5177SandDance\uff08\u6709vscode\u63d2\u4ef6\uff09","text":"<p>https://github.com/Microsoft/SandDance</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#_4","title":"\u5730\u56fe\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#folium","title":"Folium","text":"<p>https://github.com/python-visualization/folium https://python-visualization.github.io/folium/quickstart.html \u4e16\u754c\u5730\u56fe\u548c\u56fd\u5bb6\u5730\u56fe\u4f3c\u4e4e\u8981\u7ffb\u5899\u624d\u80fd\u6b63\u5e38\u663e\u793a\uff0c\u800c\u57ce\u5e02\u5730\u56fe\u53ef\u4ee5\uff0c\u539f\u56e0\u4e0d\u660e\u3002 \u4e00\u4e2a\u5f88\u597d\u7684\u5b9e\u4f8b\uff1a https://towardsdatascience.com/data-101s-spatial-visualizations-and-analysis-in-python-with-folium-39730da2adf</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#geopandas","title":"Geopandas","text":"<p>https://github.com/geopandas/geopandas https://www.zhihu.com/question/24590883/answer/1632399054</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#hiplot","title":"hiplot","text":"<p>https://hiplot.com.cn/  \u4ea4\u5927openbiox\u53d1\u8d77\u7684\u4e00\u4e2a\u5728\u7ebf\u753b\u56fe\u5de5\u5177</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#pydeck","title":"pydeck","text":"<p>https://pydeck.gl/index.html \u63d0\u4f9b\u4e0d\u5c11\u5448\u73b0\u683c\u5f0f\uff0c\u4f46map_provider\u73b0\u4ec5\u652f\u6301carto\u3001mapbox\u548cgooglemap\uff0c\u9700\u8981\u7ffb\u5899\u624d\u80fd\u8bbf\u95ee</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#pygmt","title":"pygmt","text":"<p>https://www.pygmt.org/ \uff1aGMT\u5de5\u5177\u5305\u5b98\u65b9\u63d0\u4f9b\u7684python API</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#geopy","title":"geopy","text":"<p>https://geopy.readthedocs.io/en/latest/ \u652f\u6301\u5305\u62ec\u767e\u5ea6\u5730\u56fe\u5728\u5185\u7684\u591a\u79cd\u5730\u56feAPI\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5730\u70b9\u67e5\u7ecf\u7eac\u5ea6\u6216\u8005\u7ecf\u7eac\u5ea6\u53cd\u67e5\u5730\u70b9\uff0c\u8ba1\u7b97\u8ddd\u79bb\uff0c\u5355\u4f4d\u6362\u7b97\u7b49\u529f\u80fd</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#_5","title":"\u56fd\u5185\u5730\u56fe\u7f51\u7ad9","text":"<p>http://datav.aliyun.com/portal/school/atlas/area_selector \u53ef\u4e0b\u8f7d\u7ec6\u5230\u53bf\u57ce\u7684svg\u683c\u5f0f\u5730\u56fe https://nbcharts.com/map/map.php 3D\u5730\u56fe</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#_6","title":"\u8bcd\u4e91\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#_7","title":"\u5728\u7ebf\u8bcd\u4e91\u751f\u6210","text":"<p>https://wordart.com/</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#python","title":"\u652f\u6301\u8bcd\u4e91\u7684python\u5e93","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#plotly_1","title":"plotly:","text":"<p>https://plotly.com/python/</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#pyecharts_1","title":"pyecharts","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#wordcloud","title":"wordcloud","text":"<p>\u53ef\u4ee5\u6307\u5b9a\u8499\u7248\u56fe\u50cf\u548c\u5b57\u4f53\u7684\u8bcd\u4e91\u5e93\uff1a <pre><code>from wordcloud import WordCloud\nimport collections\nimport jieba\nimport re\nfrom PIL import Image\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# \u8bfb\u53d6\u6570\u636e\nwith open('barrages.txt') as f:\n    data = f.read()\njieba.load_userdict(\"./\u8bcd\u4e91\u56fe//add.txt\")\n\n# \u6587\u672c\u9884\u5904\u7406  \u53bb\u9664\u4e00\u4e9b\u65e0\u7528\u7684\u5b57\u7b26   \u53ea\u63d0\u53d6\u51fa\u4e2d\u6587\u51fa\u6765\nnew_data = re.findall('[\\u4e00-\\u9fa5]+', data, re.S)\nnew_data = \"/\".join(new_data)\n\n# \u6587\u672c\u5206\u8bcd\nseg_list_exact = jieba.cut(new_data, cut_all=True)\n\nresult_list = []\nwith open('./\u8bcd\u4e91\u56fe/stoplist.txt', encoding='utf-8') as f:\n    con = f.read().split('\\n')\n    stop_words = set()\n    for i in con:\n        stop_words.add(i)\n\nfor word in seg_list_exact:\n    # \u8bbe\u7f6e\u505c\u7528\u8bcd\u5e76\u53bb\u9664\u5355\u4e2a\u8bcd\n    if word not in stop_words and len(word) &gt; 1:\n        result_list.append(word)\n\n# \u7b5b\u9009\u540e\u7edf\u8ba1\u8bcd\u9891\nword_counts = collections.Counter(result_list)\npath = './wordcloud/'\n\nimg_files = os.listdir('./mask_img')\nprint(img_files)\nfor num in range(1, len(img_files) + 1):\n    img = fr'.\\mask_img\\mask_{num}.png'\n    # \u83b7\u53d6\u8499\u7248\u56fe\u7247\n    mask_ = 255 - np.array(Image.open(img))\n    # \u7ed8\u5236\u8bcd\u4e91\n    plt.figure(figsize=(8, 5), dpi=200)\n    my_cloud = WordCloud(\n        background_color='black',  # \u8bbe\u7f6e\u80cc\u666f\u989c\u8272  \u9ed8\u8ba4\u662fblack\n        mask=mask_,      # \u81ea\u5b9a\u4e49\u8499\u7248\n        mode='RGBA',\n        max_words=500,\n        font_path='simhei.ttf',   # \u8bbe\u7f6e\u5b57\u4f53  \u663e\u793a\u4e2d\u6587\n    ).generate_from_frequencies(word_counts)\n\n    # \u663e\u793a\u751f\u6210\u7684\u8bcd\u4e91\u56fe\u7247\n    plt.imshow(my_cloud)\n    # \u663e\u793a\u8bbe\u7f6e\u8bcd\u4e91\u56fe\u4e2d\u65e0\u5750\u6807\u8f74\n    plt.axis('off')\n    word_cloud_name = path + 'wordcloud_{}.png'.format(num)\n    my_cloud.to_file(word_cloud_name)    # \u4fdd\u5b58\u8bcd\u4e91\u56fe\u7247\n    print(f'======== \u7b2c{num}\u5f20\u8bcd\u4e91\u56fe\u751f\u6210 ========')\n</code></pre></p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#_8","title":"\u914d\u8272\u65b9\u6848","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#haishoku","title":"Haishoku\uff1a\u4ece\u56fe\u7247\u4e2d\u63d0\u53d6\u914d\u8272\u65b9\u6848","text":"<p>https://github.com/LanceGin/haishoku <pre><code>pip install haishoku\n</code></pre> <pre><code>import pprint\nfrom haishoku.haishoku import Haishoku\nimage = 'images/lunyu.jpg'\ndominant = Haishoku.getDominant(image) # \u63d0\u53d6\u4e3b\u6253\u989c\u8272\nHaishoku.showDominant(image) # \u663e\u793a\u4e3b\u6253\u989c\u8272\npalette = Haishoku.getPalette(image) # \u63d0\u53d6\u8c03\u8272\u677f\nHaishoku.showPalette(image) # \u663e\u793a\u8c03\u8272\u677f\n\n# \u53e6\u4e00\u79cd\u5b9e\u73b0\u65b9\u6cd5\nhaishoku = Haishoku.loadHaishoku(image)\nprint(haishoku.dominant)\npprint.pprint(haishoku.palette)\n</code></pre></p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#matplotlib","title":"matplotlib\u81ea\u5e26\u914d\u8272\u8868\uff1a","text":"<p>https://matplotlib.org/tutorials/colors/colormaps.html#colorcet</p> <pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\n# Have colormaps separated into categories:\n# http://matplotlib.org/examples/color/colormaps_reference.html\ncmaps = [('Perceptually Uniform Sequential', [\n            'viridis', 'plasma', 'inferno', 'magma']),\n         ('Sequential', [\n            'Greys', 'Purples', 'Blues', 'Greens', 'Oranges', 'Reds',\n            'YlOrBr', 'YlOrRd', 'OrRd', 'PuRd', 'RdPu', 'BuPu',\n            'GnBu', 'PuBu', 'YlGnBu', 'PuBuGn', 'BuGn', 'YlGn']),\n         ('Sequential (2)', [\n            'binary', 'gist_yarg', 'gist_gray', 'gray', 'bone', 'pink',\n            'spring', 'summer', 'autumn', 'winter', 'cool', 'Wistia',\n            'hot', 'afmhot', 'gist_heat', 'copper']),\n         ('Diverging', [\n            'PiYG', 'PRGn', 'BrBG', 'PuOr', 'RdGy', 'RdBu',\n            'RdYlBu', 'RdYlGn', 'Spectral', 'coolwarm', 'bwr', 'seismic']),\n         ('Qualitative', [\n            'Pastel1', 'Pastel2', 'Paired', 'Accent',\n            'Dark2', 'Set1', 'Set2', 'Set3',\n            'tab10', 'tab20', 'tab20b', 'tab20c']),\n         ('Miscellaneous', [\n            'flag', 'prism', 'ocean', 'gist_earth', 'terrain', 'gist_stern',\n            'gnuplot', 'gnuplot2', 'CMRmap', 'cubehelix', 'brg', 'hsv',\n            'gist_rainbow', 'rainbow', 'jet', 'nipy_spectral', 'gist_ncar'])]\n\n\nnrows = max(len(cmap_list) for cmap_category, cmap_list in cmaps)\ngradient = np.linspace(0, 1, 256)\ngradient = np.vstack((gradient, gradient))\n\n\ndef plot_color_gradients(cmap_category, cmap_list, nrows):\n    fig, axes = plt.subplots(nrows=nrows)\n    fig.subplots_adjust(top=0.95, bottom=0.01, left=0.2, right=0.99)\n    axes[0].set_title(cmap_category + ' colormaps', fontsize=14)\n\n    for ax, name in zip(axes, cmap_list):\n        ax.imshow(gradient, aspect='auto', cmap=plt.get_cmap(name))\n        pos = list(ax.get_position().bounds)\n        x_text = pos[0] - 0.01\n        y_text = pos[1] + pos[3]/2.\n        fig.text(x_text, y_text, name, va='center', ha='right', fontsize=10)\n\n    # Turn off *all* ticks &amp; spines, not just the ones with colormaps.\n    for ax in axes:\n        ax.set_axis_off()\n\n\nfor cmap_category, cmap_list in cmaps:\n    plot_color_gradients(cmap_category, cmap_list, nrows)\n\nplt.show()\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96/#palettable","title":"palettable\uff1a","text":"<p>https://github.com/jiffyclub/palettable</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%96%87%E6%A1%A3%E5%B7%A5%E5%85%B7/","title":"\u6587\u6863\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%96%87%E6%A1%A3%E5%B7%A5%E5%85%B7/#_1","title":"\u6587\u6863\u751f\u6210\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%96%87%E6%A1%A3%E5%B7%A5%E5%85%B7/#docsify","title":"docsify","text":"<p>https://docsify.js.org/</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%96%87%E6%A1%A3%E5%B7%A5%E5%85%B7/#mkdocs","title":"mkdocs","text":"<p>https://www.mkdocs.org/ \u6392\u7248\u66f4\u8212\u9002\u5f00\u7bb1\u5373\u7528\u7684\u662fmkdocs-material\uff1a https://squidfunk.github.io/mkdocs-material/ \u4e00\u952e\u53d1\u5e03\u5230mkdocs.yml\u4e2d\u6307\u5b9a\u7684github\u9875\u9762\uff1a <pre><code>mkdocs gh-deploy\n</code></pre> \u672c\u5730\u5b9e\u65f6\u67e5\u770b\uff1a <pre><code>mkdocs serve\n</code></pre></p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%96%87%E6%A1%A3%E5%B7%A5%E5%85%B7/#latex","title":"Latex\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%96%87%E6%A1%A3%E5%B7%A5%E5%85%B7/#latex_1","title":"\u5728\u7ebfLatex\u7f16\u8f91\u5668","text":"<p>https://overleaf.com/</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%96%87%E6%A1%A3%E5%B7%A5%E5%85%B7/#sympy","title":"\u7528sympy\u76f4\u63a5\u8f93\u51fa\u516c\u5f0f","text":"<pre><code>sympy.latex(expr)\n</code></pre>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%9D%82%E9%A1%B9%E5%B7%A5%E5%85%B7/","title":"\u6742\u9879\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%9D%82%E9%A1%B9%E5%B7%A5%E5%85%B7/#cli","title":"CLI\u4e0b\u7684\u8fdb\u5ea6\u6761\u663e\u793a","text":"<ul> <li>https://github.com/tqdm/tqdm \u9664\u5f00\u5728python\u4e2dimport\uff0ctqdm\u4e5f\u53ef\u4ee5\u5728\u666e\u901ash\u547d\u4ee4\u884c\u4e2d\u8c03\u7528\uff0c\u4f8b\u5982\uff1a <pre><code>$ find . -name '*.py' -type f -exec cat \\{} \\; |\ntqdm --unit loc --unit_scale --total 857366 &gt;&gt; /dev/null\n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 857K/857K [00:04&lt;00:00, 246Kloc/s]\n</code></pre></li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%9D%82%E9%A1%B9%E5%B7%A5%E5%85%B7/#python","title":"python\u952e\u9f20\u64cd\u4f5c\u5b8f","text":"<ul> <li>https://github.com/asweigart/pyautogui</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%9D%82%E9%A1%B9%E5%B7%A5%E5%85%B7/#llm","title":"\u5feb\u901f\u5f00\u53d1LLM\u5e94\u7528","text":"<ul> <li>langchain\uff1a\u6253\u5305\u4e86\u4e00\u5806\u57fa\u672c\u529f\u80fd\u3001prompt\u548c\u7b2c\u4e09\u65b9\u5de5\u5177\uff08\u5982wolfram alpha\uff09\u8c03\u7528\u7684LLM\u63a5\u53e3\u5305 https://python.langchain.com/en/latest/getting_started/getting_started.html</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%9D%82%E9%A1%B9%E5%B7%A5%E5%85%B7/#_2","title":"\u5f00\u6e90\u5821\u5792\u673a","text":"<ul> <li>jumpserver\uff1ahttps://github.com/jumpserver/jumpserver</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E5%85%B7/","title":"\u6d4f\u89c8\u5668\u5de5\u5177","text":"<ul> <li>\u81ea\u52a8\u5316\u5de5\u5177<ul> <li>Playwright</li> </ul> </li> <li>\u901a\u8fc7\u624b\u673a\u70ed\u70b9\u8d70\u8fdb\u79d1\u5b66</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E5%85%B7/#_1","title":"\u81ea\u52a8\u5316\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E5%85%B7/#playwright","title":"Playwright","text":"<p>Playwright\u53ef\u4ee5\u5c06\u624b\u52a8\u64cd\u4f5c\u8bb0\u5f55\u4e3a\u81ea\u52a8\u5316\u811a\u672c https://github.com/microsoft/playwright-python</p> <p>\u901a\u8fc7pip\u5b89\u88c5\u540e\u8fd8\u9700\u8981\u5b89\u88c5\u6d4f\u89c8\u5668\u9a71\u52a8\u6587\u4ef6\uff1a <pre><code>$ pip install playwright\n$ python -m playwright install\n</code></pre> \u5f55\u5236\u901a\u8fc7codegen\u547d\u4ee4\u5b9e\u73b0\uff0c--help\u53ef\u4ee5\u770b\u5230\u53c2\u6570\u5217\u8868\u3002 <pre><code>$ python -m playwright codegen --help\n# \u5728baidu.com\u641c\u7d22\uff0c\u7528chromium\u9a71\u52a8\uff0c\u5c06\u7ed3\u679c\u4fdd\u5b58\u5230my.py\n$ python -m playwright codegen --target python -o 'my.py' -b chromium https://www.baidu.com\n</code></pre></p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E5%85%B7/#_2","title":"\u901a\u8fc7\u624b\u673a\u70ed\u70b9\u8d70\u8fdb\u79d1\u5b66","text":"<ol> <li>\u7f16\u8f91\u624b\u673a\u4e0aV2rayNG\u4f7f\u7528\u7684json\u6587\u4ef6\uff0c\u628a<code>\"inbounds\"</code>\u4e2d<code>http</code>\u7684<code>listen</code>\u5730\u5740\u4ece<code>127.0.0.1</code>\u6539\u4e3a<code>0.0.0.0</code>\uff0c\u5373\u63a5\u6536\u6765\u81ea\u6240\u6709\u5730\u5740\u7684\u8bf7\u6c42\uff08socks5\u4e0d\u8981\u6539\u5426\u5219\u53ef\u80fd\u51fa\u95ee\u9898\uff09</li> <li>\u5728\u5de5\u5177\u8bbe\u7f6e\u4e2d\u52fe\u9009<code>\"\u5141\u8bb8\u6765\u81ea\u5c40\u57df\u7f51\u7684\u8fde\u63a5\"</code>\uff0c\u5e76\u8bbe\u7f6esocks5\u548chttp\u7aef\u53e3\u4e0ejson\u6587\u4ef6\u4e00\u81f4</li> <li>\u5728\u8fde\u63a5\u624b\u673a\u70ed\u70b9\u7684\u8bbe\u5907\u4e0a\u914d\u7f6e\u4ee3\u7406\uff0c\u670d\u52a1\u5668\u5730\u5740\u4e3a\u624b\u673a\u5c40\u57df\u7f51IP\uff0c\u7aef\u53e3\u4e0ejson\u4e00\u81f4\u5373\u53ef\u3002</li> </ol>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E7%94%BB%E5%9B%BE%E5%B7%A5%E5%85%B7/","title":"\u753b\u56fe\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E7%94%BB%E5%9B%BE%E5%B7%A5%E5%85%B7/#ui","title":"UI","text":"<ul> <li>Pygma\uff1a\u628aFigma\u753b\u7684\u56fe\u8f6c\u6210\u4ee3\u7801  https://pygma.app/</li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E7%94%BB%E5%9B%BE%E5%B7%A5%E5%85%B7/#_2","title":"\u7535\u8def\u56fe","text":"<ul> <li>wavedrom<p>http://wavedrom.com/tutorial.html</p> <p>https://github.com/wavedrom/wavedrom.github.io</p> </li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E7%94%BB%E5%9B%BE%E5%B7%A5%E5%85%B7/#_3","title":"\u6570\u5b66\u89c6\u9891\u751f\u6210","text":"<ul> <li>Manim<p>3b1b\u7248\uff1ahttps://github.com/3b1b/manim\uff0c\u5305\u540d\u79f0\u662fmanimgl   \u793e\u533a\u7248\uff08\u57fa\u4e8e3b1b\u65e7\u7248\u5f00\u53d1\uff0c\u66f4\u65b0\u8f83\u5feb\uff09\uff1ahttps://docs.manim.community/en/stable/tutorials/quickstart.html\uff0c\u5305\u540d\u79f0\u662fmanim</p> </li> </ul>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/","title":"\u8c03\u8bd5\u5de5\u5177","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/#_2","title":"\u67e5\u770b\u6587\u4ef6\u4fe1\u606f","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/#windows","title":"Windows","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/#dumpbin","title":"dumpbin\u547d\u4ee4","text":"<p>\u5b89\u88c5vs\u4e4b\u540e\uff0c\u53ef\u4ee5\u7528dumpbin\u67e5\u770blib\u548cdll\u7b49\u6587\u4ef6\u7684\u4fe1\u606f\uff0cdumpbin \u2013exports fielname\u53ef\u4ee5\u770b\u5230\u5bfc\u51fa\u51fd\u6570\uff0c\u76f8\u5e94\u7684\uff0cdumpbin \u2013imports filename\u53ef\u4ee5\u770b\u5230\u6587\u4ef6\u7528\u5230\u7684\u51fd\u6570\u3002</p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/#linux","title":"Linux","text":""},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/#file","title":"file\u547d\u4ee4","text":"<p>file\u53ef\u4ee5\u67e5\u770b\u51e0\u4e4e\u6240\u6709\u6587\u4ef6\u7684\u5c5e\u6027 <pre><code>$file libdmmp.so\nlibdmmp.so: symbolic link to libdmmp.so.0.2.0\n</code></pre></p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/#nm","title":"nm\u547d\u4ee4","text":"<p>nm\u7528\u4e8e\u67e5\u770b\u6587\u4ef6\u4e2d\u7684\u7b26\u53f7\uff0c\u4f46\u7f3a\u7701\u4e0d\u663e\u793a\u52a8\u6001\u7b26\u53f7\uff0c\u7528-D\u53ef\u4ee5\u67e5\u770b\u5bfc\u51fa\u7684\u52a8\u6001\u7b26\u53f7\uff0c\u8f93\u51fa\u4e2d\u6807\u8bc6\u4e3aT\u7684\u5c31\u662f\u5bfc\u51fa\u51fd\u6570\uff1a <pre><code>$nm libdmmp.so\nnm: libdmmp.so: no symbols\n$nm -D libdmmp.so\n...\n                 U clock_gettime\n0000000000002dc0 T dmmp_context_free\n0000000000002e30 T dmmp_context_log_func_set\n00000000000024e0 T dmmp_context_log_priority_get\n...\n</code></pre> -A\u53ef\u4ee5\u770b\u5230\u6bcf\u4e2a\u7b26\u53f7\u6765\u81ea\u54ea\u4e2a\u6587\u4ef6\uff0c-S\u663e\u793a\u7b26\u53f7\u5360\u7528\u7a7a\u95f4\u5927\u5c0f\uff1a <pre><code>$nm -A -S asn1.a\n...\nasn1.a:errc_asn1.o:00032b88 00000004 R errc\nasn1.a:errc_asn1.o:0002f2e0 00000020 r extParms\n...\n</code></pre></p>"},{"location":"%E5%90%84%E7%A7%8D%E9%93%BE%E6%8E%A5/%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/#objdump","title":"objdump\u547d\u4ee4","text":"<p>-t\u663e\u793a\u9759\u6001\u7b26\u53f7\uff0c-T\u663e\u793a\u52a8\u6001\uff0c\u53ef\u4ee5\u7528<code>| grep xxx</code>\u7b5b\u9009\u60f3\u8981\u7684\u4e1c\u897f <pre><code>$objdump -tT libdmmp.so | grep text\n0000000000002e30 g    DF .text  000000000000002d  Base        dmmp_context_log_func_set\n0000000000002510 g    DF .text  000000000000002e  Base        dmmp_context_userdata_get\n...\n\n$objdump -tT libdmmp.so\n\nlibdmmp.so:     file format elf64-x86-64\n\nSYMBOL TABLE:\nno symbols\n\n\nDYNAMIC SYMBOL TABLE:\n0000000000000000      DF *UND*  0000000000000000  GLIBC_2.3.4 __snprintf_chk\n0000000000000000      DF *UND*  0000000000000000  GLIBC_2.2.5 free\n...\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/","title":"MPE\u652f\u6301\u7684Markdown\u6837\u5f0f","text":"<ul> <li>MPE\u652f\u6301\u7684Markdown\u6837\u5f0f<ul> <li>\u4e8c\u7ea7\u6807\u9898<ul> <li>\u4e09\u7ea7\u6807\u9898^\u6ce8</li> </ul> </li> <li>\u5217\u8868</li> <li>\u8868\u683c</li> <li>\u5d4c\u5165\u672c\u5730\u548c\u5916\u90e8\u56fe\u7247</li> <li>\u4ee3\u7801\u548c\u516c\u5f0f<ul> <li>\u516c\u5f0f</li> <li>\u4ee3\u7801</li> </ul> </li> <li>\u683c\u5f0f\u8f6c\u6362<ul> <li>chrome</li> <li>pandoc</li> <li>markdown</li> </ul> </li> <li>\u56fe\u8868<ul> <li>\u6d41\u7a0b\u56fe\u7528```flow\u5f00\u5934^\u6d41\u7a0b\u56fe</li> <li>\u5e8f\u5217\u56fe\u4f7f\u7528```mermaid\u8bed\u6cd5^\u5e8f\u5217\u56fe</li> <li>\u7518\u7279\u56fe\u540c\u6837\u7528mermaid\u8bed\u6cd5</li> <li>uml\u548c\u5176\u5b83\u5f88\u591a\u7c7b\u578b\u7684\u56fe\u53ef\u4ee5\u7528plantuml<ul> <li>\u7528plantuml\u753b\u601d\u7ef4\u5bfc\u56fe</li> </ul> </li> <li>\u6ce2\u5f62\u56fe\u53ef\u4ee5\u7528plantuml\u6216\u8005wavedrom\u5b9e\u73b0<ul> <li>\u7528plantuml\u753b\u6ce2\u5f62\u56fe</li> <li>\u7528wavedrom\u753b\u6ce2\u5f62\u56fe</li> </ul> </li> <li>dot\u753b\u56fe</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#_1","title":"\u4e8c\u7ea7\u6807\u9898","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#_2","title":"\u4e09\u7ea7\u6807\u9898^\u6ce8","text":"<p>Typora\u652f\u6301\u7684markdown\u8bed\u6cd5\u53c2\u8003\u8fd9\u91cc\u548cgithub</p> <p>\u4e5f\u53ef\u4ee5\u76f4\u63a5\u8fde\u5230\u5916\u90e8\u8d85\u94fe\u63a5\u548c\u672c\u5730\u6587\u4ef6</p> <p>\u652f\u6301  \u4e0b\u6760\u659c \u4e0b\u6760\u9ed1 \u661f\u53f7\u659c \u661f\u53f7\u9ed1 \u659c\u4f53\u9ed1\u4f53\u5d4c\u5957 \u4e0b\u5212\u7ebf  ~~\u5220\u9664~~  <code>\u9ad8\u4eae</code>  ~\\~\u4e0b\u6807~ \u4e0b\u6807 \u4e0a\u6807</p> <p>emoji\u53ef\u80fd\u6709\u517c\u5bb9\u6027\u95ee\u9898</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#_3","title":"\u5217\u8868","text":"<ul> <li>\u65e0\u5e8f\u5217\u8868</li> <li>\u65e0\u5e8f\u5217\u8868</li> </ul> <ol> <li>\u6709\u5e8f\u5217\u8868</li> <li>\u6709\u5e8f\u5217\u8868</li> </ol> <ul> <li> \u5f85\u529e\u4e8b\u9879</li> <li> \u5f85\u529e\u4e8b\u9879</li> </ul> <p>\u5f15\u7528</p> <p>\u591a\u7ea7\u5f15\u7528</p> <ul> <li>\u5f15\u7528\u4e2d\u5d4c\u5957\u5176\u4ed6\u683c\u5f0f</li> </ul>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#_4","title":"\u8868\u683c","text":"\u9879\u76ee \u4ef7\u683c \u6570\u91cf \u8ba1\u7b97\u673a $1600 5 \u624b\u673a $12 12 \u7ba1\u7ebf $1 234"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#_5","title":"\u5d4c\u5165\u672c\u5730\u548c\u5916\u90e8\u56fe\u7247","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#_6","title":"\u4ee3\u7801\u548c\u516c\u5f0f","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#_7","title":"\u516c\u5f0f","text":"<p>\u6b63\u6587\u5185\u5d4c\u516c\u5f0f\u524d\u540e\u7528\u5355$\uff0c\u5982\\(E=mc^2\\)\uff0c\u72ec\u7acb\u884c\u516c\u5f0f\u524d\u540e\u7528\u53cc$[^LaTeX]</p> \\[ \\Gamma _ { \\epsilon } ( x ) = [ 1- e ^ { - 2\\pi \\epsilon } ] ^ { 1- x } \\prod _ { n = 0} ^ { \\infty } \\frac { 1- \\operatorname{exp} ( - 2\\pi \\epsilon ( n + 1) ) } { 1- \\operatorname{exp} ( - 2\\pi \\epsilon ( x + n ) ) } \\] \\[ \\mathbf{V}_1 \\times \\mathbf{V}_2 =  \\begin{vmatrix} \\mathbf{i} &amp; \\mathbf{j} &amp; \\mathbf{k} \\\\ \\frac{\\partial X}{\\partial u} &amp;  \\frac{\\partial Y}{\\partial u} &amp; 0 \\\\ \\frac{\\partial X}{\\partial v} &amp;  \\frac{\\partial Y}{\\partial v} &amp; 0 \\\\ \\end{vmatrix} \\] \\[ \\ce{CH4 + 2 $\\left( \\ce{O2 + 79/21 N2} \\right)$} \\]"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#_8","title":"\u4ee3\u7801","text":"<p>\u7528'''\u5305\u56f4\u8981\u5f15\u7528\u7684\u4ee3\u7801\u5757\uff0c\u5e76\u5728\u5f00\u5934\u7684'''\u540e\u52a0\u8bed\u8a00\u540d\u4ee5\u9ad8\u4eae\u6e32\u67d3\uff0c\u4e0d\u652f\u6301\u5176\u5b83\u4ee3\u7801\u5185\u5d4c\u65b9\u5f0f^\u4ee3\u7801</p> <pre><code>@requires_authorization\nclass SomeClass:\n    pass\n\nif __name__ == '__main__':\n    # A comment\n    print 'hello world'\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#_9","title":"\u683c\u5f0f\u8f6c\u6362","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#chrome","title":"chrome","text":"<p>\u80fd\u7528chrome\u8f6c\u6362\u7684\u683c\u5f0f\u4f18\u5148\u7528chrome\uff0c\u51e0\u4e4e\u6240\u6709\u63d2\u4ef6\u7684\u683c\u5f0f\u90fd\u53ef\u4ee5\u4fdd\u7559\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#pandoc","title":"pandoc","text":"<p>\u4e3b\u8981\u7528\u6765\u8f6cword\uff0c\u8f6cpdf\u7528chrome\u66f4\u597d\u3002\u5982\u679cmd\u5305\u542bmermaid\uff0cplantUML\u4e4b\u7c7bpandoc\u4e0d\u652f\u6301\u7684\u63d2\u4ef6\uff0c\u53ef\u4ee5\u5148\u8f6c\u6210GFM\u518d\u7528pandoc\u8f6cword\u3002</p> <p>\u9700\u8981\u5728md\u6587\u4ef6\u5f00\u5934\u5904\u52a0front-matter\u3002\u4f8b\u5982 <pre><code>---\ntitle: \"MD\u683c\u5f0f\u4e0e\u56fe\u5f62\u6e32\u67d3\"\nauthor: John Doe\ndate: March 22, 2023\noutput:\nword_document: #\u8f93\u51fa\u683c\u5f0f\uff0c\u53ef\u4ee5\u6539\u6210pdf_document\uff0crtf_document\u7b49\u7b49\n# path: /Exports/markdown.docx #\u7f3a\u7701\u4e0e\u6e90\u6587\u4ef6\u5728\u540c\u4e00\u76ee\u5f55\nhighlight: \"tango\" #\u4ee3\u7801\u9ad8\u4eae\uff0c\u8fd8\u53ef\u4ee5\u9009zenburn\ntoc: true #\u81ea\u52a8\u751f\u6210\u76ee\u5f55\uff0cmd\u4e2d\u7684toc\u4f9d\u7136\u4fdd\u7559\ntoc_depth: 2 #\u76ee\u5f55\u663e\u793a\u5c42\u6570\n# reference_docx: mystyles.docx #\u4f7f\u7528\u8be5\u53c2\u8003\u6587\u4ef6\u7684\u683c\u5f0f\u8bbe\u7f6e\n# pandoc_args: [\"--csl\", \"/var/csl/acs-nano.csl\"] #\u5b9a\u5236pandoc\u7684\u6267\u884c\u53c2\u6570\n---\n</code></pre> \u7f3a\u7701\u8f93\u51fa\u7684\u683c\u5f0f\u6bd4\u8f83\u96be\u770b\uff0c\u53ef\u4ee5\u5728word\u6216wps\u4e2d\u66f4\u6362\u4e3b\u9898\u3002</p> <p>\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u653e\u4e00\u4e2a<code>_output.yaml</code>\uff0c\u5176\u914d\u7f6e\u53c2\u6570\u4f1a\u5e94\u7528\u4e8e\u8be5\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff0c\u5982\uff1a <pre><code>word_document:\nhighlight: zenburn\n</code></pre> \u90a3\u4e48\u76ee\u5f55\u5185\u6240\u6709md\u6587\u4ef6\u8f6c\u6362\u65f6\u4f1a\u7f3a\u7701\u4f7f\u7528zenburn\u914d\u8272\u6e32\u67d3\u3002\u6ce8\u610f\u8be5\u6587\u4ef6\u4e2d\u4e0d\u9700\u8981\u901a\u5e38yaml\u7684\u8d77\u59cb\u7ed3\u675f\u6807\u8bb0\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#markdown","title":"markdown","text":"<p>\u8fd9\u91cc\u7684markdown\u6307GFM(GitHub Flavored Markdown)\uff0cGFM\u4e0d\u652f\u6301\u7684\u6e32\u67d3\u4f1a\u88ab\u8f6c\u6210\u56fe\u7247\u4fdd\u5b58\uff08mermaid\u4e4b\u7c7b\u4f1a\u9700\u8981\u76f8\u5e94\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff09\u3002\u53ef\u4ee5\u76f4\u63a5\u8f6c\u6362\uff0c\u4e5f\u53ef\u4ee5\u5728md\u6587\u4ef6\u5f00\u5934\u5904\u52a0front-matter\u58f0\u660e\u914d\u7f6e\u9009\u9879\u3002 <pre><code>---\nmarkdown:\nimage_dir: /test/assets\npath: /test/output.md\nignore_from_front_matter: true\nabsolute_image_path: false\n---\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#_10","title":"\u56fe\u8868","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#flow","title":"\u6d41\u7a0b\u56fe\u7528```flow\u5f00\u5934^\u6d41\u7a0b\u56fe","text":"<pre><code>st=&gt;start: \u91c7\u8d2d\u9700\u6c42:&gt;http://192.168.8.41:8080[blank]\ne=&gt;end \nop1=&gt;operation: \u6253\u5370\u5165\u5e93\u5355\nop2=&gt;operation: \u7533\u8bf7\u4eba\u7b7e\u6536\n\u9a8c\u6536\u5165\u5e93\nop3=&gt;operation: \u9886\u7528\u4eba\u63d0\u51fa\u51fa\u5e93\u7533\u8bf7\nop4=&gt;operation: \u91c7\u8d2d\u52a9\u7406\u6253\u5370\u51fa\u5e93\u5355:&gt;\u8fd9\u91cc\u5047\u88c5\u662f\u51fa\u5e93\u5355\u94fe\u63a5\nop5=&gt;operation: \u9886\u7528\u4eba\u7b7e\u5b57\nop6=&gt;operation: \u76f4\u5c5e\u4e3b\u7ba1\u7b7e\u5b57\npara1=&gt;parallel: \u7269\u6599\u51fa\u5e93\nop7=&gt;operation: \u9886\u7528\u4eba\u5f52\u8fd8\nsub1=&gt;subroutine: \u91c7\u8d2d\u52a9\u7406\u7edf\n\u8ba1\u91c7\u8d2d\u6e05\u5355\nsub2=&gt;subroutine: \u8d22\u52a1\u5de5\u4f5c\n\ntianbiao=&gt;operation: \u586b\u5199\u7533\u8bf7\u8868\n\u5e76\u53d1\u90ae\u4ef6\ncond1=&gt;condition: \u6709\u5408\u540c\ncond2=&gt;condition: \u91d1\u989d&gt;=2000\ncond3=&gt;condition: \u7814\u53d1\u91c7\u8d2d\nor \u884c\u653f\u91c7\u8d2d?\ngm=&gt;operation: \u603b\u7ecf\u7406\u5ba1\u6279\ncto=&gt;operation: CTO\u5ba1\u6279\nadmin=&gt;operation: \u884c\u653f\u4e3b\u7ba1\u5ba1\u6279\nio=&gt;inputoutput: \u91c7\u8d2d\u5458\u91c7\u8d2d\narrive=&gt;operation: \u7269\u6599\u5230\u8d27\n\nst-&gt;tianbiao-&gt;cond1\ncond1(yes,right)-&gt;gm\ncond1(no,bottom)-&gt;cond2\ncond2(yes)-&gt;gm\ncond2(no,bottom)-&gt;cond3\ncond3(yes)-&gt;cto\ncond3(no)-&gt;admin\ngm-&gt;io\ncto-&gt;io\nadmin-&gt;io\nio-&gt;arrive\narrive-&gt;op1\n\nop1-&gt;op2-&gt;op3-&gt;op4-&gt;op5-&gt;op6-&gt;para1\npara1(path1)-&gt;sub1(right)-&gt;sub2(right)-&gt;e\npara1(path2,right)-&gt;op7(top)-&gt;op1\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#mermaid","title":"\u5e8f\u5217\u56fe\u4f7f\u7528```mermaid\u8bed\u6cd5^\u5e8f\u5217\u56fe","text":"<pre><code>%% Example of sequence diagram\n  sequenceDiagram\n    %% participant add an actor even if it's unused\n    participant Tom as Nerd\n    par one morning...\n    Alice-&gt;&gt;Bob: Hello Bob, how are you? # \u53cc&gt;&gt;\u6709\u7bad\u5934\n    and at the same time\n    Alice -x Tom: ...\n    end\n    loop Healthcheck\n        Bob-&gt;Bob: R U OK? # \u5355&gt;\u6ca1\u6709\u7bad\u5934\n    end\n    note over Bob: How am I? # note\u6807\u6ce8\uff0c\u4f4d\u7f6e\u53ef\u8bbe\u4e3aleft of\uff0cright of\u548cover\n    alt is sick\n    Bob-xAlice: Not so good :( # x\u8868\u793a\u5f02\u6b65\n    else is well\n    Bob--&gt;&gt;Alice: Feeling fresh like a daisy # \u53cc--\u865a\u7ebf\n    end\n    opt Extra response\n    Bob--&gt;Alice: Thanks for asking\n    end\n    Note over Alice,Tom: + and - defines an activation block, so do activate/deactivate\n    Tom-&gt;&gt;+Alice: How are you?\n    Tom-&gt;Alice: Are you free today?\n    activate Alice\n    Note right of Alice: Single &gt; shows no arrow\n    deactivate Alice\n    Alice-x-Tom: shut up</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#mermaid_1","title":"\u7518\u7279\u56fe\u540c\u6837\u7528mermaid\u8bed\u6cd5","text":"<pre><code>    gantt\n    title \u9879\u76ee\u5f00\u53d1\u6d41\u7a0b\n    dateFormat  YYYY-MM-DD\n\n    section \u9879\u76ee\u786e\u5b9a\n        \u9700\u6c42\u5206\u6790       :done, a1, 2016-06-22, 3d\n        \u53ef\u884c\u6027\u62a5\u544a     :active, after a1, 5d\n        \u6982\u5ff5\u9a8c\u8bc1       : 5d\n\n    section \u9879\u76ee\u5b9e\u65bd\n        \u6982\u8981\u8bbe\u8ba1      :crit, 2016-07-05  , 5d\n        \u8be6\u7ec6\u8bbe\u8ba1      :crit, 2016-07-08, 10d\n        \u7f16\u7801          :2016-07-15, 10d\n        \u6d4b\u8bd5          :2016-07-22, 5d\n\n    section \u53d1\u5e03\u9a8c\u6536\n        \u53d1\u5e03: 2d\n        \u9a8c\u6536: 12h</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#umlplantuml","title":"uml\u548c\u5176\u5b83\u5f88\u591a\u7c7b\u578b\u7684\u56fe\u53ef\u4ee5\u7528plantuml","text":"<p>plantuml\u5728Typora\u4e2d\u4e0d\u652f\u6301\uff0cvscode\u4e2d\u7684markdown preview enhanced\u63d2\u4ef6\u53ef\u4ee5\u90e8\u5206\u652f\u6301\u4f46\u7248\u672c\u4e0d\u662f\u6700\u65b0^json\uff0c\u8fd9\u91cc\u6709\u5f88\u591a\u7528\u4f8b\u53ef\u4ee5\u6284</p> <p></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#plantuml","title":"\u7528plantuml\u753b\u601d\u7ef4\u5bfc\u56fe","text":"<p>\u53ef\u4ee5\u7528OrgMode\u6216markdown\u683c\u5f0f\uff0c\u8fd9\u91cc\u4ee5markdown\u683c\u5f0f\u4e3a\u4f8b\uff1a </p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#plantumlwavedrom","title":"\u6ce2\u5f62\u56fe\u53ef\u4ee5\u7528plantuml\u6216\u8005wavedrom\u5b9e\u73b0","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#plantuml_1","title":"\u7528plantuml\u753b\u6ce2\u5f62\u56fe","text":"<p>\u5b98\u65b9\u8bf4\u660e\u89c1 https://plantuml.com/zh/timing-diagram</p> <p>plantuml\u53ef\u4ee5\u4f7f\u7528\u65f6\u95f4\u6216\u8005\u4fe1\u53f7\u4e24\u79cd\u65b9\u5f0f\u63cf\u8ff0\u4fe1\u53f7\u7684\u65f6\u5e8f\u5173\u7cfb\uff0c\u4e0b\u9762\u5148\u57fa\u4e8e\u65f6\u95f4\u65b9\u5f0f\u4e3e\u4f8b\uff0c\u4e5f\u5c31\u662f\u5728\u7528<code>@</code>\u6307\u5b9a\u7684\u6bcf\u4e2a\u65f6\u523b\u70b9\uff0c\u63cf\u8ff0\u5404\u4e2a\u4fe1\u53f7\u7684\u53d6\u503c\u3002</p> <p><code>@</code>\u63a5\u7acb\u5373\u6570\u8868\u793a\u7edd\u5bf9\u65f6\u95f4\uff0c\u63a5<code>+x</code>\u8868\u793a\u76f8\u5bf9\u4e0a\u4e00\u4e2a<code>@</code>\u65f6\u95f4\u70b9\u7684offset\u3002</p> <p>\u65e0\u8bba\u65f6\u95f4\u8fd8\u662f\u4fe1\u53f7\u90fd\u53ef\u4ee5\u7528<code>as</code>\u6307\u5b9a\u522b\u540d\uff0c\u65f6\u95f4\u7684\u522b\u540d\u8981\u4ee5<code>:</code>\u5f00\u59cb\uff0c\u65f6\u95f4\u7528\u522b\u540d\u7684\u4e00\u4e2a\u597d\u5904\u662f\u53ef\u4ee5\u7528<code>\u522b\u540d-x</code>\u683c\u5f0f\u6307\u5b9a\u76f8\u5bf9\u65f6\u95f4\u3002</p> <p>\u65f6\u949f\u4fe1\u53f7\u4f7f\u7528<code>clock</code>\u5173\u952e\u8bcd\u58f0\u660e\uff0c<code>offset</code>\u8bbe\u7f6e\u76f8\u4f4d\uff08\u9ed8\u8ba40\uff09\uff0c<code>pulse</code>\u8bbe\u7f6e\u8109\u5bbd\uff08\u9ed8\u8ba4\u5360\u7a7a\u6bd450%\uff09\uff0c </p> <p>plantuml\u4e2d\u4f7f\u7528<code>binary</code>\uff0c<code>concise</code>\u548c<code>robust</code>\u58f0\u660e\u903b\u8f91\u53d8\u91cf\uff0c<code>analog</code>\u58f0\u660e\u6a21\u62df\u53d8\u91cf <code>concise</code>\uff1a\u7b80\u660e\u7684\u56fe\u5f62\u5316\u6570\u636e\u8868\u793a\uff0c\u53ef\u8868\u793a\u6570\u636e\u7684\u79fb\u52a8\uff08\u975e\u5e38\u9002\u5408\u8868\u793a\u4fe1\u606f\uff09\u3002 <code>robust</code>\uff1a\u7528\u4fe1\u53f7\u7ebf\u8868\u793a\u7684\u72b6\u6001\uff0c\u4fbf\u4e8e\u5448\u73b0\u72b6\u6001\u95f4\u7684\u8f6c\u5316\uff08\u53ef\u8bbe\u7f6e\u591a\u79cd\u72b6\u6001\uff09\u3002 <code>binary</code>\uff1a\u4e8c\u8fdb\u5236\u4fe1\u53f7\uff0c\u53ea\u6709\u4e24\u4e2a\u72b6\u6001\u3002(binary)\u3002 <code>analog</code>\uff1a\u65e0\u9650\u591a\u53d6\u503c\uff0c\u5728\u753b\u56fe\u65f6\u4f1a\u81ea\u52a8\u7ebf\u6027\u63d2\u503c\u3002</p> <p>\u903b\u8f91\u4fe1\u53f7\u503c\u4f7f\u7528<code>is</code>\u8868\u8fbe.</p> <p>\u5728\u4e24\u4e2a\u4fe1\u53f7\u53d8\u91cf\u4e4b\u95f4\u4f7f\u7528<code>-&gt;</code>\u53ef\u4ee5\u6dfb\u52a0\u6d88\u606f\u3002\u65e0\u8bba\u6d88\u606f\u53d1\u5c04\u65b9\u8fd8\u662f\u63a5\u6536\u65b9\u90fd\u53ef\u4ee5\u5728\u53d8\u91cf\u540d\u540e\u9762\u63a5\u7edd\u5bf9\u6216\u76f8\u5bf9\u65f6\u95f4\uff0c\u5982\uff1a <code>en-&gt;fsm@+50\uff1astop now.</code> \u8868\u793a\u6d88\u606f\u7684\u8d77\u70b9\u662f\u5f53\u524d\u65f6\u523b\u7684en\u4fe1\u53f7\uff0c\u7ec8\u70b9\u662f50\u5355\u4f4d\u4ee5\u540e\u7684fsm\u4fe1\u53f7\u3002</p> <p> Tips\uff1a</p> <ol> <li> <p>\u521d\u59cb\u503c\u8bbe\u7f6e \u5728\u58f0\u660e\u53d8\u91cf\u540e\uff0c<code>@</code>\u6807\u6ce8\u65f6\u95f4\u524d\uff0c\u4f7f\u7528A is B\u7684\u683c\u5f0f\uff0c\u5c06A\u7684\u521d\u59cb\u503c\u8bbe\u7f6e\u4e3aB\u3002\u4e0d\u80fd\u5bf9\u65f6\u949f\u4fe1\u53f7\u8bbe\u7f6e\u521d\u59cb\u503c\u3002</p> </li> <li> <p>\u4e0d\u5b9a\u6001\u8bbe\u7f6e \u4f7f\u7528<code>A is {X,Y}</code>\u7684\u65b9\u5f0f\uff0c\u5c06\u4fe1\u53f7A\u7684\u503c\u8bbe\u7f6e\u5728X\u548cY\u4e4b\u95f4\uff0c\u8868\u793a\u4e00\u79cd\u4e0d\u5b9a\u8303\u56f4\u3002\u7279\u6b8a\u7684\uff0c<code>A is {-}</code>\u8868\u793aA\u662f\u4e0d\u5b9a\u6001\u6216\u9ad8\u963b\u3002</p> </li> </ol> <p>\u4fe1\u53f7\u65b9\u5f0f\u4e0e\u65f6\u95f4\u65b9\u5f0f\u5f88\u7c7b\u4f3c\uff0c\u5728<code>@\u4fe1\u53f7\u540d</code>\u4e0b\u9762\u6307\u5b9a\u4e0d\u540c\u65f6\u95f4\u7684\u503c\u5373\u53ef\uff0c\u4e24\u79cd\u65b9\u5f0f\u4e5f\u53ef\u4ee5\u6df7\u7528\u3002 \u7279\u522b\u7684\uff0c<code>&lt;-&gt;</code>\u8868\u793a\u7ea6\u675f\u5173\u7cfb\uff0c\u53ea\u80fd\u5728\u57fa\u4e8e\u4fe1\u53f7\u65b9\u5f0f\u7684\u65f6\u5e8f\u63cf\u8ff0\u4e2d\uff0c\u5e76\u4e14\u662f\u540c\u4e00\u4e2a\u4fe1\u53f7\u7684\u4e0d\u540c\u65f6\u523b\u95f4\u4f7f\u7528\u3002</p> <p></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#wavedrom","title":"\u7528wavedrom\u753b\u6ce2\u5f62\u56fe","text":"<p>\u773c\u4e0b\u540c\u6837\u53ea\u6709markdown preview enhanced\u63d2\u4ef6\u652f\u6301\uff0ctypora\u4e0d\u652f\u6301</p> <pre><code>{ signal: [\n  { name: \"pclk\", wave: \"p.....|...\" },\n  { name: \"Pclk\", wave: 'P.....|...' },\n  { name: \"nclk\", wave: 'n.....|...' },\n  { name: \"Nclk\", wave: 'N.....|...' },\n  { name: 'clkx', wave: 'phnlzP|HNL' , phase: 0.25},\n  {},\n  { name: \"Data\",        wave: \"x345x|=.ud\", data: [\"head\", \"body\", \"tail\", \"data\"] },\n  { name: \"Request\",     wave: \"0.1..0|1.0\" },\n  {},\n  { name: \"Acknowledge\", wave: \"1.....|01.\" }\n]}\n</code></pre> <pre><code>{ assign:[\n  [\"out\",\n    [\"|\",\n      [\"^\", [\"~\", \"a\"], \"b\"],\n      [\"&amp;\", [\"~\", \"b\"], \"a\"]\n    ]\n  ]\n]}\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/MD%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/#dot","title":"dot\u753b\u56fe","text":"<p>\u7528dot\u6216viz\u8868\u793a\u7684dot\u8bed\u8a00\u5757\u5728MPE\u4e2d\u90fd\u80fd\u8c03\u7528viz.js\u6e32\u67d3\uff08typora\u4e0d\u652f\u6301\uff09\uff0c\u7528<code>dot {engine=\"xxx\"}</code>\u53ef\u4ee5\u6307\u5b9a\u6e32\u67d3\u5f15\u64ce\uff0c\u652f\u6301\u7684\u6e32\u67d3\u5f15\u64ce\u5305\u62eccirco, dot, neato, osage, \u548ctwopi\uff0c\u7f3a\u7701\u5f15\u64ce\u662fdot</p> <pre><code>digraph G {\na -&gt; b\nb -&gt; c\nb -&gt; d\n}\n</code></pre> <p>```dot {engine=\"twopi\"} digraph G {   a -&gt; b   b -&gt; c   b -&gt; d } <pre><code>### \u7edf\u8ba1\u56fe\u7528[vega-lite][8]\u6216[vega][9]\n\n\u773c\u4e0b\u540c\u6837\u53ea\u6709markdown preview enhanced\u63d2\u4ef6\u652f\u6301\uff0ctypora\u4e0d\u652f\u6301\uff0cvega-lite\u5728MPE\u4e0a\u8fd8\u6709\u95ee\u9898\n\n```vega-lite\n{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n  \"data\": {\n    \"values\": [\n      {\"category\":\"A\", \"group\": \"x\", \"value\":0.1},\n      {\"category\":\"A\", \"group\": \"y\", \"value\":0.6},\n      {\"category\":\"A\", \"group\": \"z\", \"value\":0.9},\n      {\"category\":\"B\", \"group\": \"x\", \"value\":0.7},\n      {\"category\":\"B\", \"group\": \"y\", \"value\":0.2},\n      {\"category\":\"B\", \"group\": \"z\", \"value\":1.1},\n      {\"category\":\"C\", \"group\": \"x\", \"value\":0.6},\n      {\"category\":\"C\", \"group\": \"y\", \"value\":0.1},\n      {\"category\":\"C\", \"group\": \"z\", \"value\":0.2}\n    ]\n  },\n  \"mark\": \"bar\",\n  \"encoding\": {\n    \"x\": {\"field\": \"category\"},\n    \"y\": {\"field\": \"value\", \"type\": \"quantitative\"},\n    \"xOffset\": {\"field\": \"group\"},\n    \"color\": {\"field\": \"group\"}\n  }\n}\n</code></pre></p> <pre><code>{\n  \"$schema\": \"https://vega.github.io/schema/vega/v5.json\",\n  \"description\": \"A basic stacked bar chart example.\",\n  \"width\": 500,\n  \"height\": 200,\n  \"padding\": 5,\n\n  \"data\": [\n    {\n      \"name\": \"table\",\n      \"values\": [\n        {\"x\": 0, \"y\": 28, \"c\": 0}, {\"x\": 0, \"y\": 55, \"c\": 1},\n        {\"x\": 1, \"y\": 43, \"c\": 0}, {\"x\": 1, \"y\": 91, \"c\": 1},\n        {\"x\": 2, \"y\": 81, \"c\": 0}, {\"x\": 2, \"y\": 53, \"c\": 1},\n        {\"x\": 3, \"y\": 19, \"c\": 0}, {\"x\": 3, \"y\": 87, \"c\": 1},\n        {\"x\": 4, \"y\": 52, \"c\": 0}, {\"x\": 4, \"y\": 48, \"c\": 1},\n        {\"x\": 5, \"y\": 24, \"c\": 0}, {\"x\": 5, \"y\": 49, \"c\": 1},\n        {\"x\": 6, \"y\": 87, \"c\": 0}, {\"x\": 6, \"y\": 66, \"c\": 1},\n        {\"x\": 7, \"y\": 17, \"c\": 0}, {\"x\": 7, \"y\": 27, \"c\": 1},\n        {\"x\": 8, \"y\": 68, \"c\": 0}, {\"x\": 8, \"y\": 16, \"c\": 1},\n        {\"x\": 9, \"y\": 49, \"c\": 0}, {\"x\": 9, \"y\": 15, \"c\": 1}\n      ],\n      \"transform\": [\n        {\n          \"type\": \"stack\",\n          \"groupby\": [\"x\"],\n          \"sort\": {\"field\": \"c\"},\n          \"field\": \"y\"\n        }\n      ]\n    }\n  ],\n\n  \"scales\": [\n    {\n      \"name\": \"x\",\n      \"type\": \"band\",\n      \"range\": \"width\",\n      \"domain\": {\"data\": \"table\", \"field\": \"x\"}\n    },\n    {\n      \"name\": \"y\",\n      \"type\": \"linear\",\n      \"range\": \"height\",\n      \"nice\": true, \"zero\": true,\n      \"domain\": {\"data\": \"table\", \"field\": \"y1\"}\n    },\n    {\n      \"name\": \"color\",\n      \"type\": \"ordinal\",\n      \"range\": \"category\",\n      \"domain\": {\"data\": \"table\", \"field\": \"c\"}\n    }\n  ],\n\n  \"axes\": [\n    {\"orient\": \"bottom\", \"scale\": \"x\", \"zindex\": 1},\n    {\"orient\": \"left\", \"scale\": \"y\", \"zindex\": 1}\n  ],\n\n  \"marks\": [\n    {\n      \"type\": \"rect\",\n      \"from\": {\"data\": \"table\"},\n      \"encode\": {\n        \"enter\": {\n          \"x\": {\"scale\": \"x\", \"field\": \"x\"},\n          \"width\": {\"scale\": \"x\", \"band\": 1, \"offset\": -1},\n          \"y\": {\"scale\": \"y\", \"field\": \"y0\"},\n          \"y2\": {\"scale\": \"y\", \"field\": \"y1\"},\n          \"fill\": {\"scale\": \"color\", \"field\": \"c\"}\n        },\n        \"update\": {\n          \"fillOpacity\": {\"value\": 1}\n        },\n        \"hover\": {\n          \"fillOpacity\": {\"value\": 0.5}\n        }\n      }\n    }\n  ]\n}\n</code></pre> <p>[^LaTeX]: \u652f\u6301 LaTeX \u7f16\u8f91\u663e\u793a\uff0c\u4f8b\u5982\uff1a\\(\\sum_{i=1}^n a_i=0\\)\uff0c \u8bbf\u95ee MathJax \u53c2\u8003\u66f4\u591a\u4f7f\u7528\u65b9\u6cd5\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/","title":"Cmake","text":"<ul> <li>\u4e00\u3001Cmake \u7b80\u4ecb</li> <li>\u4e8c\u3001\u5e38\u7528\u547d\u4ee4<ul> <li>1. \u6307\u5b9a cmake \u7684\u6700\u5c0f\u7248\u672c</li> <li>2. \u8bbe\u7f6e\u9879\u76ee\u540d\u79f0</li> <li>3. \u8bbe\u7f6e\u7f16\u8bd1\u7c7b\u578b</li> <li>4. \u6307\u5b9a\u7f16\u8bd1\u5305\u542b\u7684\u6e90\u6587\u4ef6<ul> <li>4.1 \u660e\u786e\u6307\u5b9a\u5305\u542b\u54ea\u4e9b\u6e90\u6587\u4ef6</li> <li>4.2 \u641c\u7d22\u6240\u6709\u7684 cpp \u6587\u4ef6</li> <li>4.3 \u81ea\u5b9a\u4e49\u641c\u7d22\u89c4\u5219</li> </ul> </li> <li>5. \u67e5\u627e\u6307\u5b9a\u7684\u5e93\u6587\u4ef6</li> <li>6. \u8bbe\u7f6e\u5305\u542b\u7684\u76ee\u5f55</li> <li>7. \u8bbe\u7f6e\u94fe\u63a5\u5e93\u641c\u7d22\u76ee\u5f55</li> <li>8. \u8bbe\u7f6e target \u9700\u8981\u94fe\u63a5\u7684\u5e93<ul> <li>8.1 \u6307\u5b9a\u94fe\u63a5\u52a8\u6001\u5e93\u6216\u9759\u6001\u5e93</li> <li>8.2 \u6307\u5b9a\u5168\u8def\u5f84</li> <li>8.3 \u6307\u5b9a\u94fe\u63a5\u591a\u4e2a\u5e93</li> </ul> </li> <li>9. \u8bbe\u7f6e\u53d8\u91cf<ul> <li>9.1 set \u76f4\u63a5\u8bbe\u7f6e\u53d8\u91cf\u7684\u503c</li> <li>9.2 set \u8ffd\u52a0\u8bbe\u7f6e\u53d8\u91cf\u7684\u503c</li> <li>9.3 list \u8ffd\u52a0\u6216\u8005\u5220\u9664\u53d8\u91cf\u7684\u503c</li> <li>9.4 \u7f16\u8bd1\u65f6\u8bbe\u7f6e\u5b8f\u5b9a\u4e49</li> </ul> </li> <li>10. \u6761\u4ef6\u63a7\u5236<ul> <li>10.1 if\u2026elseif\u2026else\u2026endif</li> <li>10.2 while\u2026endwhile</li> <li>10.3 foreach\u2026endforeach</li> </ul> </li> <li>11. \u6253\u5370\u4fe1\u606f</li> <li>12. \u5305\u542b\u5176\u5b83 cmake \u6587\u4ef6</li> </ul> </li> <li>\u4e09\u3001\u5e38\u7528\u53d8\u91cf<ul> <li>1. \u9884\u5b9a\u4e49\u53d8\u91cf</li> <li>2. \u73af\u5883\u53d8\u91cf</li> <li>3. \u7cfb\u7edf\u4fe1\u606f</li> <li>4. \u4e3b\u8981\u5f00\u5173\u9009\u9879</li> <li>5. \u5e38\u7528\u7f16\u8bd1\u9009\u9879\u914d\u7f6e</li> <li>6. \u4ea4\u53c9\u7f16\u8bd1\u914d\u7f6e\u793a\u4f8b\uff08\u57fa\u4e8eVSCode\u52a0CMake tools\u63d2\u4ef6\uff09<ul> <li>6.1 toolchain\u6587\u4ef6\uff1a</li> <li>6.2 \u6dfb\u52a0\u7f16\u8bd1kit</li> <li>6.3 CMakeLists.txt\u793a\u4f8b</li> </ul> </li> </ul> </li> </ul> <p>\u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/afei__/article/details/81201039</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#cmake","title":"\u4e00\u3001Cmake \u7b80\u4ecb","text":"<p>cmake \u662f\u4e00\u4e2a\u8de8\u5e73\u53f0\u3001\u5f00\u6e90\u7684\u6784\u5efa\u7cfb\u7edf\u3002\u5b83\u662f\u4e00\u4e2a\u96c6\u8f6f\u4ef6\u6784\u5efa\u3001\u6d4b\u8bd5\u3001\u6253\u5305\u4e8e\u4e00\u8eab\u7684\u8f6f\u4ef6\u3002\u5b83\u4f7f\u7528\u4e0e\u5e73\u53f0\u548c\u7f16\u8bd1\u5668\u72ec\u7acb\u7684\u914d\u7f6e\u6587\u4ef6\u6765\u5bf9\u8f6f\u4ef6\u7f16\u8bd1\u8fc7\u7a0b\u8fdb\u884c\u63a7\u5236\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#_1","title":"\u4e8c\u3001\u5e38\u7528\u547d\u4ee4","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#1-cmake","title":"1. \u6307\u5b9a cmake \u7684\u6700\u5c0f\u7248\u672c","text":"<pre><code>cmake_minimum_required(VERSION 3.4.1)\n</code></pre> <p>\u8fd9\u884c\u547d\u4ee4\u662f\u53ef\u9009\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4e0d\u5199\u8fd9\u53e5\u8bdd\uff0c\u4f46\u5728\u6709\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5982\u679c CMakeLists.txt \u6587\u4ef6\u4e2d\u4f7f\u7528\u4e86\u4e00\u4e9b\u9ad8\u7248\u672c cmake \u7279\u6709\u7684\u4e00\u4e9b\u547d\u4ee4\u7684\u65f6\u5019\uff0c\u5c31\u9700\u8981\u52a0\u4e0a\u8fd9\u6837\u4e00\u884c\uff0c\u63d0\u9192\u7528\u6237\u5347\u7ea7\u5230\u8be5\u7248\u672c\u4e4b\u540e\u518d\u6267\u884c cmake\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#2","title":"2. \u8bbe\u7f6e\u9879\u76ee\u540d\u79f0","text":"<pre><code>project(demo)\n</code></pre> <p>\u8fd9\u4e2a\u547d\u4ee4\u4e0d\u662f\u5f3a\u5236\u6027\u7684\uff0c\u4f46\u6700\u597d\u90fd\u52a0\u4e0a\u3002</p> <p>\u5b83\u4f1a\u5f15\u5165\u4e24\u4e2a\u53d8\u91cf demo_BINARY_DIR \u548c demo_SOURCE_DIR\uff0c</p> <p>\u540c\u65f6\uff0ccmake \u81ea\u52a8\u5b9a\u4e49\u4e86\u4e24\u4e2a\u7b49\u4ef7\u7684\u53d8\u91cf PROJECT_BINARY_DIR \u548c PROJECT_SOURCE_DIR\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#3","title":"3. \u8bbe\u7f6e\u7f16\u8bd1\u7c7b\u578b","text":"<pre><code>add_executable(demo demo.cpp) # \u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\nadd_library(common STATIC util.cpp) # \u751f\u6210\u9759\u6001\u5e93\nadd_library(common SHARED util.cpp) # \u751f\u6210\u52a8\u6001\u5e93\u6216\u5171\u4eab\u5e93\n</code></pre> <p>add_library \u9ed8\u8ba4\u751f\u6210\u662f\u9759\u6001\u5e93\uff0c\u901a\u8fc7\u4ee5\u4e0a\u547d\u4ee4\u751f\u6210\u6587\u4ef6\u540d\u5b57\uff0c</p> <p>\u5728 Linux \u4e0b\u662f\uff1a</p> <p>demo</p> <p>libcommon.a</p> <p>libcommon.so</p> <p>\u5728 Windows \u4e0b\u662f\uff1a</p> <p>demo.exe</p> <p>common.lib</p> <p>common.dll</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#4","title":"4. \u6307\u5b9a\u7f16\u8bd1\u5305\u542b\u7684\u6e90\u6587\u4ef6","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#41","title":"4.1 \u660e\u786e\u6307\u5b9a\u5305\u542b\u54ea\u4e9b\u6e90\u6587\u4ef6","text":"<pre><code>add_library(demo demo.cpp test.cpp util.cpp)\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#42-cpp","title":"4.2 \u641c\u7d22\u6240\u6709\u7684 cpp \u6587\u4ef6","text":"<p>aux_source_directory(dir VAR) \u53d1\u73b0\u4e00\u4e2a\u76ee\u5f55\u4e0b\u6240\u6709\u7684\u6e90\u4ee3\u7801\u6587\u4ef6\u5e76\u5c06\u5217\u8868\u5b58\u50a8\u5728\u4e00\u4e2a\u53d8\u91cf\u4e2d\u3002</p> <pre><code>aux_source_directory(. SRC_LIST) # \u641c\u7d22\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709.cpp\u6587\u4ef6\n\nadd_library(demo ${SRC_LIST})\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#43","title":"4.3 \u81ea\u5b9a\u4e49\u641c\u7d22\u89c4\u5219","text":"<pre><code>file(GLOB SRC_LIST \"*.cpp\" \"protocol/*.cpp\")\nadd_library(demo ${SRC_LIST})\n# \u6216\u8005\nfile(GLOB SRC_LIST \"*.cpp\")\nfile(GLOB SRC_PROTOCOL_LIST \"protocol/*.cpp\")\nadd_library(demo ${SRC_LIST} ${SRC_PROTOCOL_LIST})\n# \u6216\u8005\nfile(GLOB_RECURSE SRC_LIST \"*.cpp\") #\u9012\u5f52\u641c\u7d22\nFILE(GLOB SRC_PROTOCOL RELATIVE \"protocol\" \"*.cpp\") # \u76f8\u5bf9protocol\u76ee\u5f55\u4e0b\u641c\u7d22\nadd_library(demo ${SRC_LIST} ${SRC_PROTOCOL_LIST})\n# \u6216\u8005\naux_source_directory(. SRC_LIST)\naux_source_directory(protocol SRC_PROTOCOL_LIST)\nadd_library(demo ${SRC_LIST} ${SRC_PROTOCOL_LIST})\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#5","title":"5. \u67e5\u627e\u6307\u5b9a\u7684\u5e93\u6587\u4ef6","text":"<p>find_library(VAR name path) \u67e5\u627e\u5230\u6307\u5b9a\u7684\u9884\u7f16\u8bd1\u5e93\uff0c\u5e76\u5c06\u5b83\u7684\u8def\u5f84\u5b58\u50a8\u5728\u53d8\u91cf\u4e2d\u3002</p> <p>\u9ed8\u8ba4\u7684\u641c\u7d22\u8def\u5f84\u4e3a cmake \u5305\u542b\u7684\u7cfb\u7edf\u5e93\uff0c\u56e0\u6b64\u5982\u679c\u662f NDK \u7684\u516c\u5171\u5e93\u53ea\u9700\u8981\u6307\u5b9a\u5e93\u7684 name \u5373\u53ef\u3002</p> <pre><code>find_library( # Sets the name of the path variable.\nlog-lib\n\n# Specifies the name of the NDK library that\n# you want CMake to locate.\nlog )\n</code></pre> <p>\u7c7b\u4f3c\u7684\u547d\u4ee4\u8fd8\u6709 find_file()\u3001find_path()\u3001find_program()\u3001find_package()\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#6","title":"6. \u8bbe\u7f6e\u5305\u542b\u7684\u76ee\u5f55","text":"<pre><code>include_directories(\n${CMAKE_CURRENT_SOURCE_DIR}\n${CMAKE_CURRENT_BINARY_DIR}\n${CMAKE_CURRENT_SOURCE_DIR}/include\n)\n</code></pre> <p>Linux \u4e0b\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u8bbe\u7f6e\u5305\u542b\u7684\u76ee\u5f55</p> <pre><code>set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -I${CMAKE_CURRENT_SOURCE_DIR}\")\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#7","title":"7. \u8bbe\u7f6e\u94fe\u63a5\u5e93\u641c\u7d22\u76ee\u5f55","text":"<pre><code>link_directories(\n${CMAKE_CURRENT_SOURCE_DIR}/libs\n)\n</code></pre> <p>Linux \u4e0b\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u8bbe\u7f6e\u5305\u542b\u7684\u76ee\u5f55</p> <pre><code>set(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -L${CMAKE_CURRENT_SOURCE_DIR}/libs\")\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#8-target","title":"8. \u8bbe\u7f6e target \u9700\u8981\u94fe\u63a5\u7684\u5e93","text":"<pre><code>target_link_libraries( # \u76ee\u6807\u5e93\ndemo\n# \u76ee\u6807\u5e93\u9700\u8981\u94fe\u63a5\u7684\u5e93\n# log-lib \u662f\u4e0a\u9762 find_library \u6307\u5b9a\u7684\u53d8\u91cf\u540d\n${log-lib} )\n</code></pre> <p>\u5728 Windows \u4e0b\uff0c\u7cfb\u7edf\u4f1a\u6839\u636e\u94fe\u63a5\u5e93\u76ee\u5f55\uff0c\u641c\u7d22xxx.lib \u6587\u4ef6\uff0cLinux \u4e0b\u4f1a\u641c\u7d22 xxx.so \u6216\u8005 xxx.a \u6587\u4ef6\uff0c\u5982\u679c\u90fd\u5b58\u5728\u4f1a\u4f18\u5148\u94fe\u63a5\u52a8\u6001\u5e93\uff08so \u540e\u7f00\uff09\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#81","title":"8.1 \u6307\u5b9a\u94fe\u63a5\u52a8\u6001\u5e93\u6216\u9759\u6001\u5e93","text":"<pre><code>target_link_libraries(demo libface.a) # \u94fe\u63a5libface.a\ntarget_link_libraries(demo libface.so) # \u94fe\u63a5libface.so\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#82","title":"8.2 \u6307\u5b9a\u5168\u8def\u5f84","text":"<pre><code>target_link_libraries(demo ${CMAKE_CURRENT_SOURCE_DIR}/libs/libface.a)\ntarget_link_libraries(demo ${CMAKE_CURRENT_SOURCE_DIR}/libs/libface.so)\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#83","title":"8.3 \u6307\u5b9a\u94fe\u63a5\u591a\u4e2a\u5e93","text":"<pre><code>target_link_libraries(demo\n${CMAKE_CURRENT_SOURCE_DIR}/libs/libface.a\nboost_system.a\nboost_thread\npthread)\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#9","title":"9. \u8bbe\u7f6e\u53d8\u91cf","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#91-set","title":"9.1 set \u76f4\u63a5\u8bbe\u7f6e\u53d8\u91cf\u7684\u503c","text":"<pre><code>set(SRC_LIST main.cpp test.cpp)\nadd_executable(demo ${SRC_LIST})\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#92-set","title":"9.2 set \u8ffd\u52a0\u8bbe\u7f6e\u53d8\u91cf\u7684\u503c","text":"<pre><code>set(SRC_LIST main.cpp)\nset(SRC_LIST ${SRC_LIST} test.cpp)\nadd_executable(demo ${SRC_LIST})\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#93-list","title":"9.3 list \u8ffd\u52a0\u6216\u8005\u5220\u9664\u53d8\u91cf\u7684\u503c","text":"<pre><code>set(SRC_LIST main.cpp)\nlist(APPEND SRC_LIST test.cpp)\nlist(REMOVE_ITEM SRC_LIST main.cpp)\nadd_executable(demo ${SRC_LIST})\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#94","title":"9.4 \u7f16\u8bd1\u65f6\u8bbe\u7f6e\u5b8f\u5b9a\u4e49","text":"<p>target_compile_definitions\u5728\u7f16\u8bd1target\u5bf9\u5e94\u7684\u4f9d\u8d56\u6587\u4ef6\u65f6\u81ea\u52a8\u52a0\u4e0a<code>-DMY_DEFINITION</code></p> <pre><code>target_compile_definitions(target PRIVATE MY_DEFINITION)\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#10","title":"10. \u6761\u4ef6\u63a7\u5236","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#101-ifelseifelseendif","title":"10.1 if\u2026elseif\u2026else\u2026endif","text":"<p>\u903b\u8f91\u5224\u65ad\u548c\u6bd4\u8f83\uff1a</p> <p>if (expression) \uff1aexpression \u4e0d\u4e3a\u7a7a\uff080,N,NO,OFF,FALSE,NOTFOUND\uff09\u65f6\u4e3a\u771f</p> <p>if (not exp) \uff1a\u4e0e\u4e0a\u9762\u76f8\u53cd</p> <p>if (var1 AND var2)</p> <p>if (var1 OR var2)</p> <p>if (COMMAND cmd) \uff1a\u5982\u679c cmd \u786e\u5b9e\u662f\u547d\u4ee4\u5e76\u53ef\u8c03\u7528\u4e3a\u771f</p> <p>if (EXISTS dir) if (EXISTS file) \uff1a\u5982\u679c\u76ee\u5f55\u6216\u6587\u4ef6\u5b58\u5728\u4e3a\u771f</p> <p>if (file1 IS_NEWER_THAN file2) \uff1a\u5f53 file1 \u6bd4 file2 \u65b0\uff0c\u6216 file1/file2 \u4e2d\u6709\u4e00\u4e2a\u4e0d\u5b58\u5728\u65f6\u4e3a\u771f\uff0c\u6587\u4ef6\u540d\u9700\u4f7f\u7528\u5168\u8def\u5f84</p> <p>if (IS_DIRECTORY dir) \uff1a\u5f53 dir \u662f\u76ee\u5f55\u65f6\u4e3a\u771f</p> <p>if (DEFINED var) \uff1a\u5982\u679c\u53d8\u91cf\u88ab\u5b9a\u4e49\u4e3a\u771f</p> <p>if (var MATCHES regex) \uff1a\u7ed9\u5b9a\u7684\u53d8\u91cf\u6216\u8005\u5b57\u7b26\u4e32\u80fd\u591f\u5339\u914d\u6b63\u5219\u8868\u8fbe\u5f0f regex \u65f6\u4e3a\u771f\uff0c\u6b64\u5904 var \u53ef\u4ee5\u7528 var \u540d\uff0c\u4e5f\u53ef\u4ee5\u7528 ${var}</p> <p>if (string MATCHES regex)</p> <p>\u6570\u5b57\u6bd4\u8f83\uff1a</p> <p>if (variable LESS number)\uff1aLESS \u5c0f\u4e8e</p> <p>if (string LESS number)</p> <p>if (variable GREATER number)\uff1aGREATER \u5927\u4e8e</p> <p>if (string GREATER number)</p> <p>if (variable EQUAL number)\uff1aEQUAL \u7b49\u4e8e</p> <p>if (string EQUAL number)</p> <p>\u5b57\u6bcd\u8868\u987a\u5e8f\u6bd4\u8f83\uff1a</p> <p>if (variable STRLESS string)</p> <p>if (string STRLESS string)</p> <p>if (variable STRGREATER string)</p> <p>if (string STRGREATER string)</p> <p>if (variable STREQUAL string)</p> <p>if (string STREQUAL string)</p> <p>\u793a\u4f8b\uff1a</p> <pre><code>if(MSVC)\nset(LINK_LIBS common)\nelse()\nset(boost_thread boost_log.a boost_system.a)\nendif()\ntarget_link_libraries(demo ${LINK_LIBS})\n# \u6216\u8005\nif(UNIX)\nset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -std=c++11 -fpermissive -g\")\nelse()\nadd_definitions(-D_SCL_SECURE_NO_WARNINGS\nD_CRT_SECURE_NO_WARNINGS\n-D_WIN32_WINNT=0x601\n-D_WINSOCK_DEPRECATED_NO_WARNINGS)\nendif()\n\nif(${CMAKE_BUILD_TYPE} MATCHES \"debug\")\n...\nelse()\n...\nendif()\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#102-whileendwhile","title":"10.2 while\u2026endwhile","text":"<pre><code>while(condition)\n...\nendwhile()\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#103-foreachendforeach","title":"10.3 foreach\u2026endforeach","text":"<pre><code>foreach(loop_var RANGE start stop [step])\n...\nendforeach(loop_var)\n</code></pre> <p>start \u8868\u793a\u8d77\u59cb\u6570\uff0cstop \u8868\u793a\u7ec8\u6b62\u6570\uff0cstep \u8868\u793a\u6b65\u957f\uff0c\u793a\u4f8b\uff1a</p> <pre><code>foreach(i RANGE 1 9 2)\nmessage(${i})\nendforeach(i)\n# \u8f93\u51fa\uff1a13579\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#11","title":"11. \u6253\u5370\u4fe1\u606f","text":"<pre><code>message(${PROJECT_SOURCE_DIR})\nmessage(\"build with debug mode\")\nmessage(WARNING \"this is warnning message\")\nmessage(FATAL_ERROR \"this build has many error\") # FATAL_ERROR \u4f1a\u5bfc\u81f4\u7f16\u8bd1\u5931\u8d25\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#12-cmake","title":"12. \u5305\u542b\u5176\u5b83 cmake \u6587\u4ef6","text":"<pre><code>include(./common.cmake) # \u6307\u5b9a\u5305\u542b\u6587\u4ef6\u7684\u5168\u8def\u5f84\ninclude(def) # \u5728\u641c\u7d22\u8def\u5f84\u4e2d\u641c\u7d22def.cmake\u6587\u4ef6\nset(CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/cmake) # \u8bbe\u7f6einclude\u7684\u641c\u7d22\u8def\u5f84\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#_2","title":"\u4e09\u3001\u5e38\u7528\u53d8\u91cf","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#1","title":"1. \u9884\u5b9a\u4e49\u53d8\u91cf","text":"<p>PROJECT_SOURCE_DIR\uff1a\u5de5\u7a0b\u7684\u6839\u76ee\u5f55</p> <p>PROJECT_BINARY_DIR\uff1a\u8fd0\u884c cmake \u547d\u4ee4\u7684\u76ee\u5f55\uff0c\u901a\u5e38\u662f ${PROJECT_SOURCE_DIR}/build</p> <p>PROJECT_NAME\uff1a\u8fd4\u56de\u901a\u8fc7 project \u547d\u4ee4\u5b9a\u4e49\u7684\u9879\u76ee\u540d\u79f0</p> <p>CMAKE_CURRENT_SOURCE_DIR\uff1a\u5f53\u524d\u5904\u7406\u7684 CMakeLists.txt \u6240\u5728\u7684\u8def\u5f84</p> <p>CMAKE_CURRENT_BINARY_DIR\uff1atarget \u7f16\u8bd1\u76ee\u5f55</p> <p>CMAKE_CURRENT_LIST_DIR\uff1aCMakeLists.txt \u7684\u5b8c\u6574\u8def\u5f84</p> <p>CMAKE_CURRENT_LIST_LINE\uff1a\u5f53\u524d\u6240\u5728\u7684\u884c</p> <p>CMAKE_MODULE_PATH\uff1a \u5b9a\u4e49\u81ea\u5df1\u7684 cmake \u6a21\u5757\u6240\u5728\u7684\u8def\u5f84\uff0c <pre><code>SET(CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)\n</code></pre> \uff0c\u7136\u540e\u53ef\u4ee5\u7528INCLUDE\u547d\u4ee4\u6765\u8c03\u7528\u81ea\u5df1\u7684\u6a21\u5757</p> <p>EXECUTABLE_OUTPUT_PATH\uff1a\u91cd\u65b0\u5b9a\u4e49\u76ee\u6807\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u7684\u5b58\u653e\u4f4d\u7f6e</p> <p>LIBRARY_OUTPUT_PATH\uff1a\u91cd\u65b0\u5b9a\u4e49\u76ee\u6807\u94fe\u63a5\u5e93\u6587\u4ef6\u7684\u5b58\u653e\u4f4d\u7f6e</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#2_1","title":"2. \u73af\u5883\u53d8\u91cf","text":"<p>\u4f7f\u7528\u73af\u5883\u53d8\u91cf <pre><code> $ENV{Name}\n</code></pre></p> <p>\u5199\u5165\u73af\u5883\u53d8\u91cf <pre><code> set(ENV{Name} value) # \u8fd9\u91cc\u6ca1\u6709\u201c$\u201d\u7b26\u53f7\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#3_1","title":"3. \u7cfb\u7edf\u4fe1\u606f","text":"<p>\u00adCMAKE_MAJOR_VERSION\uff1acmake \u4e3b\u7248\u672c\u53f7\uff0c\u6bd4\u5982 3.4.1 \u4e2d\u7684 3</p> <p>\u00adCMAKE_MINOR_VERSION\uff1acmake \u6b21\u7248\u672c\u53f7\uff0c\u6bd4\u5982 3.4.1 \u4e2d\u7684 4</p> <p>\u00adCMAKE_PATCH_VERSION\uff1acmake \u8865\u4e01\u7b49\u7ea7\uff0c\u6bd4\u5982 3.4.1 \u4e2d\u7684 1</p> <p>\u00adCMAKE_SYSTEM\uff1a\u7cfb\u7edf\u540d\u79f0\uff0c\u6bd4\u5982 Linux-\u00ad2.6.22</p> <p>\u00adCMAKE_SYSTEM_NAME\uff1a\u4e0d\u5305\u542b\u7248\u672c\u7684\u7cfb\u7edf\u540d\uff0c\u6bd4\u5982 Linux</p> <p>\u00adCMAKE_SYSTEM_VERSION\uff1a\u7cfb\u7edf\u7248\u672c\uff0c\u6bd4\u5982 2.6.22</p> <p>\u00adCMAKE_SYSTEM_PROCESSOR\uff1a\u5904\u7406\u5668\u540d\u79f0\uff0c\u6bd4\u5982 i686</p> <p>\u00adUNIX\uff1a\u5728\u6240\u6709\u7684\u7c7b UNIX \u5e73\u53f0\u4e0b\u8be5\u503c\u4e3a TRUE\uff0c\u5305\u62ec OS X \u548c cygwin</p> <p>\u00adWIN32\uff1a\u5728\u6240\u6709\u7684 win32 \u5e73\u53f0\u4e0b\u8be5\u503c\u4e3a TRUE\uff0c\u5305\u62ec cygwin</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#4_1","title":"4. \u4e3b\u8981\u5f00\u5173\u9009\u9879","text":"<p>BUILD_SHARED_LIBS\uff1a\u8fd9\u4e2a\u5f00\u5173\u7528\u6765\u63a7\u5236\u9ed8\u8ba4\u7684\u5e93\u7f16\u8bd1\u65b9\u5f0f\uff0c\u5982\u679c\u4e0d\u8fdb\u884c\u8bbe\u7f6e\uff0c\u4f7f\u7528 add_library \u53c8\u6ca1\u6709\u6307\u5b9a\u5e93\u7c7b\u578b\u7684\u60c5\u51b5\u4e0b\uff0c\u9ed8\u8ba4\u7f16\u8bd1\u751f\u6210\u7684\u5e93\u90fd\u662f\u9759\u6001\u5e93\u3002\u5982\u679c set(BUILD_SHARED_LIBS ON) \u540e\uff0c\u9ed8\u8ba4\u751f\u6210\u7684\u4e3a\u52a8\u6001\u5e93</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#5_1","title":"5. \u5e38\u7528\u7f16\u8bd1\u9009\u9879\u914d\u7f6e","text":"<p>CMAKE_C_FLAGS\uff1a\u8bbe\u7f6e C \u7f16\u8bd1\u9009\u9879\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6307\u4ee4 add_definitions() \u6dfb\u52a0\uff0c\u5bf9\u5b83\u7684\u4fee\u6539\u4f1a\u5bf9\u6240\u6709build variant\u751f\u6548</p> <p>CMAKE_CXX_FLAGS\uff1a\u540cCMAKE_C_FLAGS\uff0c\u4f46\u5f71\u54cd C++ \u7f16\u8bd1\u9009\u9879</p> <pre><code>add_definitions(-DENABLE_DEBUG -DABC) # \u53c2\u6570\u4e4b\u95f4\u7528\u7a7a\u683c\u5206\u9694\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#6-vscodecmake-tools","title":"6. \u4ea4\u53c9\u7f16\u8bd1\u914d\u7f6e\u793a\u4f8b\uff08\u57fa\u4e8eVSCode\u52a0CMake tools\u63d2\u4ef6\uff09","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#61-toolchain","title":"6.1 toolchain\u6587\u4ef6\uff1a","text":"<p>\u4e0b\u9762\u7684\u6587\u4ef6\u7528\u4e8ewindows\u4e0b\u5d4c\u5165\u5f0fMIPS\u5904\u7406\u5668\u7684\u4ea4\u53c9\u7f16\u8bd1 <pre><code>set(CMAKE_SYSTEM_NAME Generic) # \u5d4c\u5165\u5f0f\u7528generic\uff0c\u5176\u5b83\u7cfb\u7edf\u8fd8\u5305\u62ecLinux\uff0cwin32\u7b49\nset(CMAKE_SYSTEM_PROCESSOR MIPS)\n\nset(TOOLCHAIN_PREFIX nanomips-elf-)\n\nset(BINUTILS_PATH \"D:\\\\crosscompile\\\\nanomips-elf\\\\2019.03-06\\\\bin\\\\nanomips-elf-gcc\")\n\nget_filename_component(MIPS_TOOLCHAIN_DIR ${BINUTILS_PATH} DIRECTORY)\n# Without that flag CMake is not able to pass test compilation check\nif (${CMAKE_VERSION} VERSION_EQUAL \"3.6.0\" OR ${CMAKE_VERSION} VERSION_GREATER \"3.6\")\nset(CMAKE_TRY_COMPILE_TARGET_TYPE STATIC_LIBRARY)\nelse()\nset(CMAKE_EXE_LINKER_FLAGS_INIT \"--specs=nosys.specs\")\nendif()\n\nset(CMAKE_C_COMPILER ${MIPS_TOOLCHAIN_DIR}/${TOOLCHAIN_PREFIX}gcc.exe)\nset(CMAKE_ASM_COMPILER ${CMAKE_C_COMPILER})\nset(CMAKE_CXX_COMPILER ${MIPS_TOOLCHAIN_DIR}/${TOOLCHAIN_PREFIX}g++.exe)\n\n# Default C compiler flags \u540e\u9762\u6240\u6709variant\u7f16\u8bd1\u65f6\u90fd\u4f1a\u81ea\u52a8\u52a0\u4e0a\u8fd9\u4e9b\nset(CMAKE_C_FLAGS \" -EL -march=i7200 -mclib=tiny -G128 -fgcse-sm -fgcse-las -T uhi32.ld -fdata-sections -ffunction-sections -Wl,-gc-sections -Wl,--defsym,__getargs=0 -Wl,--defsym,__exception_handle_verbose=0\" CACHE STRING \"\" FORCE)\n\n# CMAKE_C_FLAGS_DEBUG_INIT\u7684\u5185\u5bb9\u4f1a\u88ab\u81ea\u52a8\u5305\u542b\u5230CMAKE_C_FLAGS_DEBUG\u91cc\uff0c\u4e0b\u540c\nset(CMAKE_C_FLAGS_DEBUG_INIT \"-g3 -Og -Wall -pedantic -DDEBUG\")\nset(CMAKE_C_FLAGS_RELEASE_INIT \"-O3 -Wall\")\nset(CMAKE_C_FLAGS_MINSIZEREL_INIT \"-Os -Wall\")\nset(CMAKE_C_FLAGS_RELWITHDEBINFO_INIT  \"-O2 -g -Wall\")\n# Default C++ compiler flags\nset(CMAKE_CXX_FLAGS_DEBUG_INIT \"-g3 -Og -Wall -pedantic -DDEBUG\")\n# set(CMAKE_CXX_FLAGS_DEBUG \"${CMAKE_CXX_FLAGS_DEBUG_INIT}\" CACHE STRING \"\" FORCE)\nset(CMAKE_CXX_FLAGS_RELEASE_INIT \"-O3 -Wall\")\nset(CMAKE_CXX_FLAGS_MINSIZEREL_INIT \"-Os -Wall\")\nset(CMAKE_CXX_FLAGS_RELWITHDEBINFO_INIT  \"-O2 -g -Wall\")\n\nset(CMAKE_OBJCOPY ${MIPS_TOOLCHAIN_DIR}/${TOOLCHAIN_PREFIX}objcopy.exe CACHE INTERNAL \"objcopy tool\")\nset(CMAKE_SIZE_UTIL ${MIPS_TOOLCHAIN_DIR}/${TOOLCHAIN_PREFIX}size.exe CACHE INTERNAL \"size tool\")\n\nset(CMAKE_SYSROOT ${MIPS_TOOLCHAIN_DIR}/../nanomips-elf)\nset(CMAKE_FIND_ROOT_PATH ${MIPS_TOOLCHAIN_DIR})\nset(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)\nset(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)\nset(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#62-kit","title":"6.2 \u6dfb\u52a0\u7f16\u8bd1kit","text":"<pre><code>[\n{\n\"name\": \"GCC 8.1.0 x86_64-w64-mingw32\",\n\"compilers\": {\n\"C\": \"D:\\\\tools\\\\MinGW\\\\bin\\\\x86_64-w64-mingw32-gcc.exe\",\n\"CXX\": \"D:\\\\tools\\\\MinGW\\\\bin\\\\x86_64-w64-mingw32-g++.exe\"\n},\n\"preferredGenerator\": {\n\"name\": \"MinGW Makefiles\"\n},\n\"environmentVariables\": {\n\"CMT_MINGW_PATH\": \"D:\\\\tools\\\\MinGW\\\\bin\"\n}\n},\n{\n\"name\": \"ARM-none-EABI\",\n\"toolchainFile\": \"D:\\\\crosscompile\\\\gcc-arm-none-eabi-10.3-2021.07\\\\armtoolchain.cmake\"\n},\n{\n# \u524d\u6587\u7684toolchain\u6587\u4ef6\u8def\u5f84\uff0cname\u53ef\u4ee5\u968f\u4fbf\u8d77\n\"name\": \"nanoMIPS\",\n\"toolchainFile\": \"D:\\\\crosscompile\\\\nanomips-elf\\\\mipstoolchain.cmake\"\n}\n]\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/cmake/#63-cmakeliststxt","title":"6.3 CMakeLists.txt\u793a\u4f8b","text":"<p>\u4e0b\u9762\u7684CMakeLists.txt\u652f\u6301Windows/ARM/MIPS\u7684\u7f16\u8bd1\uff0c\u5e76\u5728MIPS\u4e0b\u4fee\u6539\u7f16\u8bd1\u9009\u9879\uff0c\u589e\u52a0\u989d\u5916\u7684\u6587\u4ef6\u548c\u5b8f\u5b9a\u4e49\uff1a <pre><code>cmake_minimum_required(VERSION 3.0.0)\nproject(nrtest VERSION 0.1.0)\n\ninclude(CTest)\nenable_testing()\n\nset(DIR_LIST AFC AGC ATC COMMON MEAS PAL RRC SYNC TEST)\n\nset(ALL_SRCS)\n\nforeach(_module ${DIR_LIST})\ninclude_directories(${PROJECT_SOURCE_DIR}/${_module}/INC)\naux_source_directory(${PROJECT_SOURCE_DIR}/${_module}/SRC ${_module}_SRC)\nset(ALL_SRCS ${ALL_SRCS} ${${_module}_SRC})\nmessage (\"files in ${_module}: ${${_module}_SRC}\")\nendforeach(_module)\n\nif (${CMAKE_SYSTEM_PROCESSOR} MATCHES MIPS)\ninclude_directories(${PROJECT_SOURCE_DIR}/MIPS)\naux_source_directory(${PROJECT_SOURCE_DIR}/MIPS MIPS_SRC)\nset(ALL_SRCS ${ALL_SRCS} ${MIPS_SRC})\nmessage (\"MIPS specific: ${MIPS_SRC}\")\nelse()\nmessage (\"system\uff1a${CMAKE_SYSTEM_PROCESSOR}\")\nendif()\n\nadd_executable(nrtest  ${ALL_SRCS})\n\nif (${CMAKE_SYSTEM_PROCESSOR} MATCHES MIPS)\ntarget_compile_definitions(nrtest PRIVATE MIPS_DEBUG)\nmessage (\"MIPS_DEBUG enabled!\")\nendif()\n\n\nset(CPACK_PROJECT_NAME ${PROJECT_NAME})\nset(CPACK_PROJECT_VERSION ${PROJECT_VERSION})\ninclude(CPack)\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/","title":"FFmpeg CheatSheet\u4e2d\u6587\uff08\u5fd8\u8bb0\u51fa\u5904\uff0c\u672a\u68c0\u67e5\uff0c\u6b63\u786e\u6027\u4e0d\u4fdd\u8bc1\uff09","text":"<ul> <li>FFmpeg CheatSheet\u4e2d\u6587\uff08\u5fd8\u8bb0\u51fa\u5904\uff0c\u672a\u68c0\u67e5\uff0c\u6b63\u786e\u6027\u4e0d\u4fdd\u8bc1\uff09<ul> <li>\u57fa\u7840\u4f7f\u7528</li> <li>\u53c2\u6570</li> <li>\u5f55\u5236<ul> <li>Windows<ul> <li>\u5c4f\u5e55\u5f55\u5236</li> </ul> </li> <li>Mac</li> <li>\u5176\u4ed6\u76f4\u64ad</li> </ul> </li> <li>\u89c6\u9891\u5904\u7406<ul> <li>\u89c6\u9891\u8054\u63a5</li> <li>\u5206\u89e3/\u590d\u7528</li> <li>\u683c\u5f0f\u8f6c\u6362\u4e0e\u538b\u7f29</li> <li>\u56fe/\u89c6\u4e92\u8f6c</li> <li>\u5bf9\u79f0\u89c6\u9891\u4e0e\u753b\u4e2d\u753b</li> <li>\u5904\u7406\u539f\u59cb\u6570\u636e</li> <li>\u6ee4\u955c<ul> <li>\u6c34\u5370</li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_1","title":"\u57fa\u7840\u4f7f\u7528","text":"<p>FFmpeg \u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u53c2\u6570\u8fdb\u884c\u57fa\u672c\u4fe1\u606f\u67e5\u8be2\u3002\u4f8b\u5982\uff0c\u60f3\u67e5\u8be2\u4e00\u4e0b\u73b0\u5728\u4f7f\u7528\u7684 FFmpeg \u90fd\u652f\u6301\u54ea\u4e9b filter\uff0c\u5c31\u53ef\u4ee5\u7528 ffmpeg -filters \u6765\u67e5\u8be2\u3002\u8be6\u7ec6\u53c2\u6570\u8bf4\u660e\u5982\u4e0b\uff1a</p> \u547d\u4ee4 \u4f5c\u7528 ffmpeg -version \u663e\u793a\u7248\u672c -formats \u663e\u793a\u53ef\u7528\u7684\u683c\u5f0f\uff08\u5305\u62ec\u8bbe\u5907\uff09 -demuxers \u663e\u793a\u53ef\u7528\u7684 demuxers -muxers \u663e\u793a\u53ef\u7528\u7684 muxers -devices \u663e\u793a\u53ef\u7528\u7684\u8bbe\u5907 -codecs \u663e\u793a\u5df2\u77e5\u7684\u6240\u6709\u7f16\u89e3\u7801\u5668 -decoders \u663e\u793a\u53ef\u7528\u7684\u89e3\u7801\u5668 -encoders \u663e\u793a\u6240\u6709\u53ef\u7528\u7684\u7f16\u7801\u5668 -bsfs \u663e\u793a\u53ef\u7528\u7684\u6bd4\u7279\u6d41 filter -protocols \u663e\u793a\u53ef\u7528\u7684\u534f\u8bae -filters \u663e\u793a\u53ef\u7528\u7684\u8fc7\u6ee4\u5668 -pix_fmts \u663e\u793a\u53ef\u7528\u7684\u50cf\u7d20\u683c\u5f0f -sample_fmts \u663e\u793a\u53ef\u7528\u7684\u91c7\u6837\u683c\u5f0f -layouts \u663e\u793a channel \u540d\u79f0\u548c\u6807\u51c6 channel \u5e03\u5c40 -colors \u663e\u793a\u8bc6\u522b\u7684\u989c\u8272\u540d\u79f0"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_2","title":"\u53c2\u6570","text":"<pre><code># Common switches\n-codecs          # list codecs\n-c:v             # video codec (-vcodec): 'copy' to copy stream\n-c:a             # audio codec (-acodec)\n-fs SIZE         # limit file size (bytes)\n\n# Audio\n-aq QUALITY      # audio quality (codec-specific)\n-ar 44100        # audio sample rate (hz)\n-ac 1            # audio channels (1=mono, 2=stereo)\n-an              # no audio\n-vol N           # volume (256=normal)\n\n# Bitrate\n-b:v 1M          # video bitrate (1M = 1Mbit/s)\n-b:a 1M          # audio bitrate\n\n# Video\n-aspect RATIO    # aspect ratio (4:3, 16:9, or 1.25)\n-r RATE          # frame rate per sec\n-s WIDTHxHEIGHT  # frame size\n-vn              # no video\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_3","title":"\u5f55\u5236","text":"<pre><code># \u67e5\u627e\u8bbe\u5907\u540d\n\n## Windows\n$ ffmpeg -list_devices true -f dshow -i dummy\n\n## MAC\n$ ffmpeg -f avfoundation -list_devices true -i \"\"\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#windows","title":"Windows","text":"<pre><code>$ ffmpeg -f dshow -i video=\"Virtual-Camera\" -preset ultrafast -vcodec libx264 -tune zerolatency -b 900k -f mpegts udp://10.1.0.102:1234\n\n$ ffmpeg -f dshow -i video=\"screen-capture-recorder\":audio=\"Stereo Mix (IDT High Definition\" \\\n-vcodec libx264 -preset ultrafast -tune zerolatency -r 10 -async 1 -acodec libmp3lame -ab 24k -ar 22050 -bsf:v h264_mp4toannexb \\\n-maxrate 750k -bufsize 3000k -f mpegts udp://192.168.5.215:48550\n</code></pre> <ul> <li><code>-f fshow</code>: windows system drivers for capturing video and audio</li> <li><code>-f v4l2</code>: linux system drivers for capturing video</li> <li><code>-f alsa</code>: linux system drivers for capturing audio</li> <li><code>-i</code>: ffmpeg option that defines input</li> <li><code>-vcodec libx264</code>: raw video from camera will be encoded using H264 video codec</li> <li><code>-r 10</code>: video FPS (frames per second)</li> <li><code>-b:v 512k</code>: video bitrate Kb/s (kilo bits per second)</li> <li><code>-s 640x360</code>: video width and height</li> <li><code>-acodec aac</code>: raw audio from microphone will be encoded using AAC audio codec</li> <li><code>-ac 2</code>: 2 audio channels (stereo)</li> <li><code>-ab 32k</code>: audio bitrate in Kb/s</li> <li><code>-ar 44100</code>: audio sampling rate 44.1 KHz</li> <li><code>-f mpegts</code>: video and audio will be packed into MPEG transport stream (MPEG TS)</li> <li><code>udp://192.168.1.4:5000</code>: MPEG transport stream is sent via UDP protocol to computer with IP address 192.168.1.4 on IP port 5000.</li> </ul> <pre><code>$ ffmpeg -y -loglevel warning -f dshow -i video=\"screen-capture-recorder\" -vf crop=690:388:136:0 -r 30 -s 962x388 -threads 2 -vcodec libx264 -vpre baseline -vpre my_ffpreset -f flv rtmp:///live/myStream.sdp\n\n# \u8f93\u51fa\u4e3a MP4\n$ ffmpeg -f dshow -rtbufsize 1000000k -s 640\u00d7480 -r 30 -i video=\u201d1714-INOGENI 4K2USB3\u2033 -an -c:v libx264 -q 0 -f h264 \u2013 | ffmpeg -f h264 -i \u2013 -an -c:v copy -f mp4 file.mp4 -an -c:v copy -f h264 pipe:play | ffplay -i pipe:play\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_4","title":"\u5c4f\u5e55\u5f55\u5236","text":"<pre><code># \u5c4f\u5e55\u5f55\u5236\u5e76\u4fdd\u5b58\u6210\u6587\u4ef6\n$ ffmpeg -f gdigrab -i desktop eguid.mp4\n\n# \u5c4f\u5e55\u5f55\u5236\u5e76\u63a8\u6d41\n$ ffmpeg -f gdigrab -i desktop -vcodec libx264 -preset:v ultrafast -tune:v zerolatency -f flv rtmp://eguid.cc:1935/rtmp/destop\n\n# \u89c6\u9891\u6587\u4ef6\u63a8\u6d41\n$ ffmpeg -re -i eguid.flv -vcodec copy -acodec copy -f flv -y rtmp://eguid.cc:1935/rtmp/eguid\n\n# \u8f6c\u6d41\uff08rtsp\u8f6crtmp\u4e3a\u4f8b\uff09\n$ ffmpeg -i rtsp://184.72.239.149/vod/mp4://BigBuckBunny_175k.mov -rtsp_transport tcp -vcodec h264 -acodec aac -f flv rtmp://eguid.cc:1935/rtmp/eguid\n\n# \u62c9\u6d41\n\n- ffmpeg -i rtmp://eguid.cc:1935/rtmp/eguid -vcodec h264 -f flv -acodec aac -ac 2 eguid.flv\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#mac","title":"Mac","text":"<pre><code># \u5f55\u5c4f+\u58f0\u97f3\n$ ffmpeg -f avfoundation -i 1 -r 30 out.yuv\n-f \u6307\u5b9a\u4f7f\u7528 avfoundation \u91c7\u96c6\u6570\u636e\u3002\n-i \u6307\u5b9a\u4ece\u54ea\u513f\u91c7\u96c6\u6570\u636e\uff0c\u5b83\u662f\u4e00\u4e2a\u6587\u4ef6\u7d22\u5f15\u53f7\u3002\u5728\u6211\u7684MAC\u4e0a\uff0c1\u4ee3\u8868\u684c\u9762\uff08\u53ef\u4ee5\u901a\u8fc7\u4e0a\u9762\u7684\u547d\u4ee4\u67e5\u8be2\u8bbe\u5907\u7d22\u5f15\u53f7\uff09\u3002\n-r \u6307\u5b9a\u5e27\u7387\u3002\u6309ffmpeg\u5b98\u65b9\u6587\u6863\u8bf4-r\u4e0e-framerate\u4f5c\u7528\u76f8\u540c\uff0c\u4f46\u5b9e\u9645\u6d4b\u8bd5\u65f6\u53d1\u73b0\u4e0d\u540c\u3002-framerate \u7528\u4e8e\u9650\u5236\u8f93\u5165\uff0c\u800c-r\u7528\u4e8e\u9650\u5236\u8f93\u51fa\u3002\n\n# \u5f55\u89c6\u9891\n$ ffmpeg -f avfoundation -i 1:0 -r 29.97 -c:v libx264 -crf 0 -c:a libfdk_aac -profile:a aac_he_v2 -b:a 32k out.flv\n-i 1:0 \u5192\u53f7\u524d\u9762\u7684 \u201c1\u201d \u4ee3\u8868\u7684\u5c4f\u5e55\u7d22\u5f15\u53f7\u3002\u5192\u53f7\u540e\u9762\u7684\"0\"\u4ee3\u8868\u7684\u58f0\u97f3\u7d22\u76f8\u53f7\u3002\n-c:v \u4e0e\u53c2\u6570 -vcodec \u4e00\u6837\uff0c\u8868\u793a\u89c6\u9891\u7f16\u7801\u5668\u3002c \u662f codec \u7684\u7f29\u5199\uff0cv \u662fvideo\u7684\u7f29\u5199\u3002\n-crf \u662f x264 \u7684\u53c2\u6570\u30020 \u8868\u5f0f\u65e0\u635f\u538b\u7f29\u3002\n-c:a \u4e0e\u53c2\u6570 -acodec \u4e00\u6837\uff0c\u8868\u793a\u97f3\u9891\u7f16\u7801\u5668\u3002\n-profile \u662f fdk_aac \u7684\u53c2\u6570\u3002aac_he_v2 \u8868\u5f0f\u4f7f\u7528 AAC_HE v2 \u538b\u7f29\u6570\u636e\u3002\n-b:a \u6307\u5b9a\u97f3\u9891\u7801\u7387\u3002b \u662f bitrate\u7684\u7f29\u5199, a\u662f audio\u7684\u7f29\u4e0e\u3002\n\n# \u5f55\u97f3\n$ ffmpeg -f avfoundation -i :0 out.wav\n# \u5f55\u5236\u97f3\u9891\u88f8\u6570\u636e\n$ ffmpeg -f avfoundation -i :0 -ar 44100 -f s16le out.pcm\n</code></pre> <pre><code>#! /bin/bash\n#\n# Diffusion bilibili live avec ffmpeg\n# Make sure you have FFmpeg installed in your mac\n\n# list avfoundation devices\nffmpeg -f avfoundation -list_devices true -i \"\"\n\n# change the param after `-i` and `-f flv`\n\n# use 140m mermory\nffmpeg \\\n-f avfoundation \\\n-re -i \"2\" \\\n-vcodec libx264 \\\n-preset ultrafast \\\n-acodec aac \\\n-ar 44100 \\\n-ac 1 \\\n-f flv \"rtmp://example.com/path?key=xx\"\n\n# 560m mermory 90% cpu\nffmpeg \\\n-f avfoundation \\\n-video_size 1920x1080 \\\n-framerate 30 \\\n-i \"2:0\" -ac 2 \\\n-vcodec libx264 -maxrate 2000k \\\n-bufsize 2000k -acodec libmp3lame -ar 44100 -b:a 128k \\\n-f flv \"rtmp://example.com/path?key=xx\"\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_5","title":"\u5176\u4ed6\u76f4\u64ad","text":"<ul> <li>\u63a8\u6d41: <code>ffmpeg -re -i out.mp4 -c copy -f flv rtmp://server/live/streamName</code></li> </ul> <ul> <li>\u62c9\u6d41\u4fdd\u5b58: <code>ffmpeg -i rtmp://server/live/streamName -c copy dump.flv</code></li> </ul> <ul> <li>\u8f6c\u6d41: <code>ffmpeg -i rtmp://server/live/originalStream -c:a copy -c:v copy -f flv rtmp://server/live/h264Stream</code></li> </ul> <ul> <li>\u5b9e\u65f6\u63a8\u6d41: <code>ffmpeg -framerate 15 -f avfoundation -i \"1\" -s 1280x720 -c:v libx264 -f flv rtmp://localhost:1935/live/room</code></li> </ul>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_6","title":"\u89c6\u9891\u5904\u7406","text":"<pre><code>$ ffmpeg -framerate 1 -pattern_type glob -i '*.bmp' -c:v libx264 -r 30 -pix_fmt yuv420p out.mp4\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_7","title":"\u89c6\u9891\u8054\u63a5","text":"<pre><code>:: Create File List\necho file file1.mp4 &gt;  mylist.txt\necho file file2.mp4 &gt;&gt; mylist.txt\necho file file3.mp4 &gt;&gt; mylist.txt\n\n# Windows \u4e0b\u89c6\u9891\u8fde\u63a5\n:: Concatenate Files\n$ ffmpeg -f concat -i mylist.txt -c copy output.mp4\n\n:: Create File List\nfor %%i in (*.mp4) do echo file '%%i'&gt;&gt; mylist.txt\n\n:: Concatenate Files\n$ ffmpeg -f concat -safe 0 -i mylist.txt -c copy output.mp4\n\n$ ffmpeg -f avfoundation -i \"1\" -framerate 30 -f avfoundation -i \"0:0\" -r 30 -c:v libx264 -preset ultrafast -c:a libfdk_aac -profile:a aac_he_v2 -ar 44100 -ac 2 -filter_complex \"[0:v]scale=320:240[a];[a]pad=640:240[b];[b][1:v]overlay=320:0[out]\" -map \"[out]\" -movflags faststart -map 1:a c.mp4\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_8","title":"\u5206\u89e3/\u590d\u7528","text":"<ul> <li>\u62bd\u53d6\u97f3\u9891\u6d41</li> </ul> <p><code>ffmpeg -i input.mp4 -acodec copy -vn out.aac</code></p> <p>acodec: \u6307\u5b9a\u97f3\u9891\u7f16\u7801\u5668\uff0ccopy \u6307\u660e\u53ea\u62f7\u8d1d\uff0c\u4e0d\u505a\u7f16\u89e3\u7801\u3002 vn: v \u4ee3\u8868\u89c6\u9891\uff0cn \u4ee3\u8868 no \u4e5f\u5c31\u662f\u65e0\u89c6\u9891\u7684\u610f\u601d\u3002</p> <ul> <li>\u62bd\u53d6\u89c6\u9891\u6d41</li> </ul> <p><code>ffmpeg -i input.mp4 -vcodec copy -an out.h264</code></p> <p>vcodec: \u6307\u5b9a\u89c6\u9891\u7f16\u7801\u5668\uff0ccopy \u6307\u660e\u53ea\u62f7\u8d1d\uff0c\u4e0d\u505a\u7f16\u89e3\u7801\u3002 an: a \u4ee3\u8868\u89c6\u9891\uff0cn \u4ee3\u8868 no \u4e5f\u5c31\u662f\u65e0\u97f3\u9891\u7684\u610f\u601d\u3002</p> <ul> <li>\u8f6c\u683c\u5f0f</li> </ul> <p><code>ffmpeg -i out.mp4 -vcodec copy -acodec copy out.flv</code></p> <p>\u4e0a\u9762\u7684\u547d\u4ee4\u8868\u5f0f\u7684\u662f\u97f3\u9891\u3001\u89c6\u9891\u90fd\u76f4\u63a5 copy\uff0c\u53ea\u662f\u5c06 mp4 \u7684\u5c01\u88c5\u683c\u5f0f\u8f6c\u6210\u4e86 flv\u3002</p> <ul> <li>\u97f3\u89c6\u9891\u5408\u5e76</li> </ul> <p><code>ffmpeg -i out.h264 -i out.aac -vcodec copy -acodec copy out.mp4</code></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_9","title":"\u683c\u5f0f\u8f6c\u6362\u4e0e\u538b\u7f29","text":"<pre><code>$ ffmpeg -i in.mp4 out.avi\n</code></pre> <pre><code>$ ffmpeg -i foo.mp3 -ac 1 -ab 128000 -f mp4 -acodec libfaac -y target.m4r\n\n# no audio\nffmpeg -i input.mov -vcodec h264   -an -strict -2 output.mp4\nffmpeg -i input.mov -vcodec libvpx -an output.webm\nffmpeg -i input.mov -vcodec h264 -acodec aac -strict -2 output.mp4\nffmpeg -i input.mov -vcodec libvpx -acodec libvorbis output.webm\n&lt;video width=\"320\" height=\"240\" controls&gt;\n  &lt;source src=\"movie.mp4\" type='video/mp4'&gt;&lt;/source&gt;\n  &lt;source src=\"movie.webm\" type='video/ogg'&gt;&lt;/source&gt;\n&lt;/video&gt;\n</code></pre> <ul> <li>\u89c6\u9891\u7f29\u5c0f\u4e00\u500d</li> </ul> <pre><code>$ ffmpeg -i out.mp4 -vf scale=iw/2:-1 scale.mp4\n</code></pre> <p><code>-vf scale</code> \u6307\u5b9a\u4f7f\u7528\u7b80\u5355\u8fc7\u6ee4\u5668 scale\uff0ciw/2:-1 \u4e2d\u7684 iw \u6307\u5b9a\u6309\u6574\u578b\u53d6\u89c6\u9891\u7684\u5bbd\u5ea6\u3002-1 \u8868\u793a\u9ad8\u5ea6\u968f\u5bbd\u5ea6\u4e00\u8d77\u53d8\u5316\u3002</p> <ul> <li>\u89c6\u9891\u88c1\u526a</li> </ul> <pre><code>$ ffmpeg -i VR.mov -vf crop=in_w-200:in_h-200 -c:v libx264 -c:a copy -video_size 1280x720 vr_new.mp4\n</code></pre> <p>crop \u683c\u5f0f\uff1acrop=out_w:out_h: x :y</p> <ul> <li>out_w: \u8f93\u51fa\u7684\u5bbd\u5ea6\u3002\u53ef\u4ee5\u4f7f\u7528 in_w \u8868\u5f0f\u8f93\u5165\u89c6\u9891\u7684\u5bbd\u5ea6\u3002</li> <li>out_h: \u8f93\u51fa\u7684\u9ad8\u5ea6\u3002\u53ef\u4ee5\u4f7f\u7528 in_h \u8868\u5f0f\u8f93\u5165\u89c6\u9891\u7684\u9ad8\u5ea6\u3002</li> <li>x : X \u5750\u6807</li> <li>y : Y \u5750\u6807</li> </ul> <ul> <li>\u500d\u901f\u64ad\u653e</li> </ul> <pre><code>$ ffmpeg -i out.mp4 -filter_complex \"[0:v]setpts=0.5*PTS[v];[0:a]atempo=2.0[a]\" -map \"[v]\" -map \"[a]\" speed2.0.mp4\n</code></pre> <ul> <li>-filter_complex \u590d\u6742\u6ee4\u955c\uff0c[0:v]\u8868\u793a\u7b2c\u4e00\u4e2a\uff08\u6587\u4ef6\u7d22\u5f15\u53f7\u662f 0\uff09\u6587\u4ef6\u7684\u89c6\u9891\u4f5c\u4e3a\u8f93\u5165\u3002<code>setpts=0.5*PTS</code> \u8868\u793a\u6bcf\u5e27\u89c6\u9891\u7684 pts \u65f6\u95f4\u6233\u90fd\u4e58 0.5\uff0c\u4e5f\u5c31\u662f\u5dee\u5c11\u4e00\u534a\u3002[v]\u8868\u793a\u8f93\u51fa\u7684\u522b\u540d\u3002\u97f3\u9891\u540c\u7406\u5c31\u4e0d\u8be6\u8ff0\u4e86\u3002</li> <li>map \u53ef\u7528\u4e8e\u5904\u7406\u590d\u6742\u8f93\u51fa\uff0c\u5982\u53ef\u4ee5\u5c06\u6307\u5b9a\u7684\u591a\u8def\u6d41\u8f93\u51fa\u5230\u4e00\u4e2a\u8f93\u51fa\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u8f93\u51fa\u5230\u591a\u4e2a\u6587\u4ef6\u3002\"[v]\" \u590d\u6742\u6ee4\u955c\u8f93\u51fa\u7684\u522b\u540d\u4f5c\u4e3a\u8f93\u51fa\u6587\u4ef6\u7684\u4e00\u8def\u6d41\u3002\u4e0a\u9762 map \u7684\u7528\u6cd5\u662f\u5c06\u590d\u6742\u6ee4\u955c\u8f93\u51fa\u7684\u89c6\u9891\u548c\u97f3\u9891\u8f93\u51fa\u5230\u6307\u5b9a\u6587\u4ef6\u4e2d\u3002</li> </ul>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_10","title":"\u56fe/\u89c6\u4e92\u8f6c","text":"<ul> <li>\u89c6\u9891\u8f6c JPEG\uff1a<code>ffmpeg -i test.flv -r 1 -f image2 image-%3d.jpeg</code></li> </ul> <ul> <li>\u89c6\u9891\u8f6c gif\uff1a<code>ffmpeg -i out.mp4 -ss 00:00:00 -t 10 out.gif</code></li> </ul> <ul> <li>\u56fe\u7247\u8f6c\u89c6\u9891\uff1a<code>ffmpeg -f image2 -i image-%3d.jpeg images.mp4</code></li> </ul>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_11","title":"\u5bf9\u79f0\u89c6\u9891\u4e0e\u753b\u4e2d\u753b","text":"<ul> <li>\u5bf9\u79f0\u89c6\u9891\uff1a<code>$ ffmpeg -i out.mp4 -filter_complex \"[0:v]pad=w=2*iw[a];[0:v]hflip[b];[a][b]overlay=x=w\" duicheng.mp4</code></li> </ul> <ul> <li>\u753b\u4e2d\u753b\uff1a<code>ffmpeg -i out.mp4 -i out1.mp4 -filter_complex \"[1:v]scale=w=176:h=144:force_original_aspect_ratio=decrease[ckout];[0:v][ckout]overlay=x=W-w-10:y=0[out]\" -map \"[out]\" -movflags faststart new.mp4</code></li> </ul> <ul> <li>\u5f55\u5236\u753b\u4e2d\u753b\uff1a<code>ffmpeg -f avfoundation -i \"1\" -framerate 30 -f avfoundation -i \"0:0\" -r 30 -c:v libx264 -preset ultrafast -c:a libfdk_aac -profile:a aac_he_v2 -ar 44100 -ac 2 -filter_complex \"[1:v]scale=w=176:h=144:force_original_aspect_ratio=decrease[a];[0:v][a]overlay=x=W-w-10:y=0[out]\" -map \"[out]\" -movflags faststart -map 1:a b.mp4</code></li> </ul>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_12","title":"\u5904\u7406\u539f\u59cb\u6570\u636e","text":"<ul> <li>\u63d0\u53d6 YUV \u6570\u636e</li> </ul> <p><code>ffmpeg -i input.mp4 -an -c:v rawvideo -pixel_format yuv420p out.yuv ffplay -s wxh out.yuv</code></p> <p>-c:v rawvideo \u6307\u5b9a\u5c06\u89c6\u9891\u8f6c\u6210\u539f\u59cb\u6570\u636e -pixel_format yuv420p \u6307\u5b9a\u8f6c\u6362\u683c\u5f0f\u4e3a yuv420p</p> <ul> <li>YUV \u8f6c H264</li> </ul> <p><code>ffmpeg -f rawvideo -pix_fmt yuv420p -s 320x240 -r 30 -i out.yuv -c:v libx264 -f rawvideo out.h264</code></p> <ul> <li>\u63d0\u53d6 PCM \u6570\u636e</li> </ul> <p><code>ffmpeg -i out.mp4 -vn -ar 44100 -ac 2 -f s16le out.pcm ffplay -ar 44100 -ac 2 -f s16le -i out.pcm</code></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_13","title":"\u6ee4\u955c","text":"<p>\u5728\u7f16\u7801\u4e4b\u524d\uff0cffmpeg \u53ef\u4ee5\u4f7f\u7528 libavfilter \u5e93\u4e2d\u7684\u8fc7\u6ee4\u5668\u5904\u7406\u539f\u59cb\u97f3\u9891\u548c\u89c6\u9891\u5e27\u3002\u51e0\u4e2a\u94fe\u5f0f\u8fc7\u6ee4\u5668\u5f62\u6210\u4e00\u4e2a\u8fc7\u6ee4\u5668\u56fe\u5f62\u3002ffmpeg \u533a\u5206\u4e24\u79cd\u7c7b\u578b\u7684\u8fc7\u6ee4\u5668\u56fe\u5f62\uff1a\u7b80\u5355\u548c\u590d\u6742\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-chs/#_14","title":"\u6c34\u5370","text":"<ul> <li>\u6dfb\u52a0\u6c34\u5370</li> </ul> <p><code>ffmpeg -i out.mp4 -vf \"movie=logo.png,scale=64:48[watermask];[in][watermask] overlay=30:10 [out]\" water.mp4</code></p> <p><code>-vf</code> \u4e2d\u7684 movie \u6307\u5b9a logo \u4f4d\u7f6e\u3002scale \u6307\u5b9a logo \u5927\u5c0f\u3002overlay \u6307\u5b9a logo \u6446\u653e\u7684\u4f4d\u7f6e\u3002</p> <ul> <li>\u6ee4\u955c\u52a0\u6c34\u5370</li> </ul> <p><code>ffmpeg -i killer.mp4 -filter_complex \"movie=./logo/daka.png,scale=64:48[w];[0:v]curves=vintage[o];[o][w]overlay=30:10[out]\" -map \"[out]\" -map 0:a test1.mp4</code></p> <ul> <li>\u5220\u9664\u6c34\u5370</li> </ul> <p>\u5148\u901a\u8fc7 ffplay \u627e\u5230\u8981\u5220\u9664 LOGO \u7684\u4f4d\u7f6e\u3002</p> <pre><code>$ ffplay -i test.flv -vf delogo=x=806:y=20:w=70:h=80:show=1\n</code></pre> <p>\u4f7f\u7528 delogo \u6ee4\u955c\u5220\u9664 LOGO\u3002</p> <pre><code>$ ffmpeg -i test.flv -vf delogo=x=806:y=20:w=70:h=80 output.flv\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/","title":"FFmpeg cheat sheet","text":"<p>A list of useful commands for the ffmpeg command line tool.</p> <p>Download FFmpeg: https://www.ffmpeg.org/download.html</p> <p>Full documentation: https://www.ffmpeg.org/ffmpeg.html</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#basic-conversion","title":"Basic conversion","text":"<pre><code>ffmpeg -i in.mp4 out.avi\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#remux-an-mkv-file-into-mp4","title":"Remux an MKV file into MP4","text":"<pre><code>ffmpeg -i in.mkv -c:v copy -c:a copy out.mp4\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#high-quality-encoding","title":"High-quality encoding","text":"<p>Use the <code>crf</code> (Constant Rate Factor) parameter to control the output quality. The lower crf, the higher the quality (range: 0-51). The default value is 23, and visually lossless compression corresponds to <code>-crf 18</code>. Use the <code>preset</code> parameter to control the speed of the compression process. Additional info: https://trac.ffmpeg.org/wiki/Encode/H.264</p> <pre><code>ffmpeg -i in.mp4 -preset slower -crf 18 out.mp4\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#trimming","title":"Trimming","text":"<p>Without re-encoding: <pre><code>ffmpeg -ss [start] -i in.mp4 -t [duration] -c copy out.mp4\n</code></pre> - <code>-ss</code> specifies the start time, e.g. <code>00:01:23.000</code> or <code>83</code> (in seconds) - <code>-t</code> specifies the duration of the clip (same format). - Recent <code>ffmpeg</code> also has a flag to supply the end time with <code>-to</code>. - <code>-c</code> copy copies the first video, audio, and subtitle bitstream from the input to the output file without re-encoding them. This won't harm the quality and make the command run within seconds.</p> <p>With re-encoding:</p> <p>If you leave out the <code>-c copy</code> option, <code>ffmpeg</code> will automatically re-encode the output video and audio according to the format you chose. For high quality video and audio, read the x264 Encoding Guide and the AAC Encoding Guide, respectively.</p> <p>For example: <pre><code>ffmpeg -ss [start] -i in.mp4 -t [duration] -c:v libx264 -c:a aac -strict experimental -b:a 128k out.mp4\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#mux-video-and-audio-from-another-video","title":"Mux video and audio from another video","text":"<p>To copy the video from in0.mp4 and audio from in1.mp4: <pre><code>ffmpeg -i in0.mp4 -i in1.mp4 -c copy -map 0:0 -map 1:1 -shortest out.mp4\n</code></pre> - With -c copy the streams will be <code>stream copied</code>, not re-encoded, so there will be no quality loss. If you want to re-encode, see FFmpeg Wiki: H.264 Encoding Guide. - The <code>-shortest</code> option will cause the output duration to match the duration of the shortest input stream. - See the <code>-map</code> option documentation for more info.</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#concat-demuxer","title":"Concat demuxer","text":"<p>First, make a text file. <pre><code>file 'in1.mp4'\nfile 'in2.mp4'\nfile 'in3.mp4'\nfile 'in4.mp4'\n</code></pre> Then, run <code>ffmpeg</code>: <pre><code>ffmpeg -f concat -i list.txt -c copy out.mp4\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#delay-audiovideo","title":"Delay audio/video","text":"<p>Delay video by 3.84 seconds: <pre><code>ffmpeg -i in.mp4 -itsoffset 3.84 -i in.mp4 -map 1:v -map 0:a -vcodec copy -acodec copy out.mp4\n</code></pre> Delay audio by 3.84 seconds: <pre><code>ffmpeg -i in.mp4 -itsoffset 3.84 -i in.mp4 -map 0:v -map 1:a -vcodec copy -acodec copy out.mp4\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#burn-subtitles","title":"Burn subtitles","text":"<p>Use the libass library (make sure your ffmpeg install has the library in the configuration <code>--enable-libass</code>).</p> <p>First convert the subtitles to .ass format: <pre><code>ffmpeg -i sub.srt sub.ass\n</code></pre> Then add them using a video filter:</p> <pre><code>ffmpeg -i in.mp4 -vf ass=sub.ass out.mp4\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#extract-the-frames-from-a-video","title":"Extract the frames from a video","text":"<p>To extract all frames from between 1 and 5 seconds, and also between 11 and 15 seconds:</p> <pre><code>ffmpeg -i in.mp4 -vf select='between(t,1,5)+between(t,11,15)' -vsync 0 out%d.png\n</code></pre> <p>To extract one frame per second only:</p> <pre><code>ffmpeg -i in.mp4 -fps=1 -vsync 0 out%d.png\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#rotate-a-video","title":"Rotate a video","text":"<p>Rotate 90 clockwise:</p> <pre><code>ffmpeg -i in.mov -vf \"transpose=1\" out.mov\n</code></pre> <p>For the transpose parameter you can pass:</p> <pre><code>0 = 90CounterCLockwise and Vertical Flip (default)\n1 = 90Clockwise\n2 = 90CounterClockwise\n3 = 90Clockwise and Vertical Flip\n</code></pre> <p>Use <code>-vf \"transpose=2,transpose=2\"</code> for 180 degrees.</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#download-transport-stream-video-streams","title":"Download \"Transport Stream\" video streams","text":"<ol> <li>Locate the playlist file, e.g. using Chrome &gt; F12 &gt; Network &gt; Filter: m3u8</li> <li>Download and concatenate the video fragments:</li> </ol> <pre><code>ffmpeg -i \"path_to_playlist.m3u8\" -c copy -bsf:a aac_adtstoasc out.mp4\n</code></pre> <p>If you get a \"Protocol 'https not on whitelist 'file,crypto'!\" error, add the <code>protocol_whitelist</code> option:</p> <pre><code>ffmpeg -protocol_whitelist \"file,http,https,tcp,tls\" -i \"path_to_playlist.m3u8\" -c copy -bsf:a aac_adtstoasc out.mp4\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#mute-some-of-the-audio","title":"Mute some of the audio","text":"<p>To replace the first 90 seconds of audio with silence:</p> <pre><code>ffmpeg -i in.mp4 -vcodec copy -af \"volume=enable='lte(t,90)':volume=0\" out.mp4\n</code></pre> <p>To replace all audio between 1'20\" and 1'30\" with silence:</p> <pre><code>ffmpeg -i in.mp4 -vcodec copy -af \"volume=enable='between(t,80,90)':volume=0\" out.mp4\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#deinterlace","title":"Deinterlace","text":"<p>Deinterlacing using \"yet another deinterlacing filter\".</p> <pre><code>ffmpeg -i in.mp4 -vf yadif out.mp4\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#create-a-video-slideshow-from-images","title":"Create a video slideshow from images","text":"<p>Parameters: <code>-r</code> marks the image framerate (inverse time of each image); <code>-vf fps=25</code> marks the true framerate of the output.</p> <pre><code>ffmpeg -r 1/5 -i img%03d.png -c:v libx264 -vf fps=25 -pix_fmt yuv420p out.mp4\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#extract-images-from-a-video","title":"Extract images from a video","text":"<ul> <li>Extract all frames: <code>ffmpeg -i input.mp4 thumb%04d.jpg -hide_banner</code></li> <li>Extract a frame each second: <code>ffmpeg -i input.mp4 -vf fps=1 thumb%04d.jpg -hide_banner</code></li> <li>Extract only one frame: <code>ffmpeg -i input.mp4 -ss 00:00:10.000 -vframes 1 thumb.jpg</code></li> </ul>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/ffmpeg-eng/#metadata-change-the-title","title":"Metadata: Change the title","text":"<pre><code>ffmpeg -i in.mp4 -map_metadata -1 -metadata title=\"My Title\" -c:v copy -c:a copy out.mp4\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/","title":"Matplotlib\u5165\u95e8","text":"<ul> <li>0.\u5bfc\u8bfb</li> <li>1.\u7b80\u5355\u7684\u6298\u7ebf\u56fe<ul> <li>\u8c03\u6574\u6298\u7ebf\u56fe\uff1a\u7ebf\u6761\u989c\u8272\u548c\u98ce\u683c</li> <li>\u8c03\u6574\u6298\u7ebf\u56fe\uff1a\u5750\u6807\u8f74\u8303\u56f4</li> <li>\u6298\u7ebf\u56fe\u6807\u7b7e</li> <li>\u989d\u5916\u5185\u5bb9\uff1aMatplotlib \u7684\u5751</li> </ul> </li> <li>2.\u7b80\u5355\u6563\u70b9\u56fe<ul> <li>\u4f7f\u7528 plt.plot \u7ed8\u5236\u6563\u70b9\u56fe</li> <li>\u4f7f\u7528plt.scatter\u7ed8\u5236\u6563\u70b9\u56fe</li> <li>plot \u548c scatter \u5bf9\u6bd4\uff1a\u6027\u80fd\u63d0\u9192</li> </ul> </li> <li>3.\u8bef\u5dee\u53ef\u89c6\u5316<ul> <li>\u57fa\u7840\u8bef\u5dee\u6761</li> <li>\u8fde\u7eed\u8bef\u5dee</li> </ul> </li> <li>4.\u5bc6\u5ea6\u548c\u8f6e\u5ed3\u56fe<ul> <li>\u4e09\u7ef4\u53ef\u89c6\u5316\u51fd\u6570</li> </ul> </li> <li>5.\u76f4\u65b9\u56fe\uff0c\u5206\u6876\u548c\u5bc6\u5ea6<ul> <li>\u4e8c\u7ef4\u76f4\u65b9\u56fe\u548c\u5206\u6876<ul> <li>plt.hist2d\uff1a\u4e8c\u7ef4\u76f4\u65b9\u56fe</li> <li>plt.hexbin\uff1a\u516d\u89d2\u5f62\u5206\u6876</li> <li>\u6838\u5bc6\u5ea6\u4f30\u8ba1</li> </ul> </li> </ul> </li> <li>6.\u81ea\u5b9a\u4e49\u56fe\u6807\u56fe\u4f8b<ul> <li>\u9009\u62e9\u8bbe\u7f6e\u56fe\u4f8b\u7684\u5143\u7d20</li> <li>\u6563\u70b9\u5927\u5c0f\u7684\u56fe\u4f8b</li> <li>\u591a\u91cd\u56fe\u4f8b</li> </ul> </li> <li>7.\u4e2a\u6027\u5316\u989c\u8272\u6761<ul> <li>\u81ea\u5b9a\u4e49\u989c\u8272\u6761<ul> <li>\u9009\u62e9\u8272\u56fe</li> <li>\u989c\u8272\u9650\u5236\u548c\u6269\u5c55</li> <li>\u79bb\u6563\u989c\u8272\u6761</li> </ul> </li> <li>\u4f8b\u5b50\uff1a\u624b\u5199\u6570\u5b57</li> </ul> </li> <li>8.\u591a\u4e2a\u5b50\u56fe\u8868<ul> <li>plt.axes\uff1a\u624b\u52a8\u6784\u5efa\u5b50\u56fe\u8868</li> <li>plt.subplot\uff1a\u7b80\u5355\u7f51\u683c\u7684\u5b50\u56fe\u8868</li> <li>plt.subplots\uff1a\u4e00\u53e5\u4ee3\u7801\u8bbe\u7f6e\u6240\u6709\u7f51\u683c\u5b50\u56fe\u8868</li> <li>plt.GridSpec\uff1a\u66f4\u590d\u6742\u7684\u6392\u5217</li> </ul> </li> <li>9.\u6587\u672c\u548c\u6807\u6ce8<ul> <li>\u4f8b\u5b50\uff1a\u8282\u5047\u65e5\u5bf9\u7f8e\u56fd\u51fa\u751f\u7387\u7684\u5f71\u54cd</li> <li>\u8f6c\u6362\u548c\u6587\u672c\u4f4d\u7f6e</li> <li>\u7bad\u5934\u548c\u6807\u6ce8</li> </ul> </li> <li>10.\u81ea\u5b9a\u4e49\u523b\u5ea6<ul> <li>\u4e3b\u8981\u7684\u548c\u6b21\u8981\u7684\u523b\u5ea6</li> <li>\u9690\u85cf\u523b\u5ea6\u548c\u6807\u7b7e</li> <li>\u51cf\u5c11\u6216\u589e\u52a0\u523b\u5ea6\u7684\u6570\u91cf</li> <li>\u590d\u6742\u7684\u523b\u5ea6\u683c\u5f0f</li> <li>Formatter \u548c Locator \u603b\u7ed3</li> </ul> </li> <li>11.\u5728 matplotlib \u4e2d\u521b\u5efa\u4e09\u7ef4\u56fe\u8868<ul> <li>\u4e09\u7ef4\u7684\u70b9\u548c\u7ebf</li> <li>\u4e09\u7ef4\u8f6e\u5ed3\u56fe</li> <li>\u6846\u7ebf\u56fe\u548c\u8868\u9762\u56fe</li> <li>\u8868\u9762\u4e09\u89d2\u5256\u5206<ul> <li>\u4f8b\u5b50\uff1a\u7ed8\u5236\u83ab\u6bd4\u4e4c\u65af\u73af</li> </ul> </li> </ul> </li> <li>12.xkcd\u98ce\u683c\u7ed8\u56fe</li> <li>13.\u5176\u5b83\u683c\u5f0f\u63a7\u5236\u6280\u5de7<ul> <li>\u51cf\u5c11\u5750\u6807\u8f74\u523b\u5ea6\u6570\u91cf\uff0c\u907f\u514d\u523b\u5ea6\u8fc7\u4e8e\u5bc6\u96c6</li> <li>\u4f7f\u7528\u8f85\u52a9\u8f74\u5728\u4e00\u5f20\u56fe\u4e0a\u663e\u793a\u4e24\u4e2a\u53d8\u91cf</li> <li>\u5171\u4eabx\u8f74\u7684\u5b50\u56fe\u5750\u6807\u5bf9\u9f50</li> </ul> </li> <li>14.\u5176\u4ed6\u5e38\u7528\u7ed8\u56fe<ul> <li>\u8868\u8fbe\u591a\u4e2a\u53d8\u91cf\u95f4\u7684\u5173\u7cfb<ul> <li>\u70ed\u56fe</li> <li>\u53d8\u91cf\u77e9\u9635</li> </ul> </li> <li>\u77e2\u91cf\u573a\u51fd\u6570</li> </ul> </li> </ul>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#0","title":"0.\u5bfc\u8bfb","text":"<p>Matplotlib \u662f\u4e00\u4e2a Python \u7684 2D\u7ed8\u56fe\u5e93\uff0c\u5b83\u4ee5\u5404\u79cd\u786c\u62f7\u8d1d\u683c\u5f0f\u548c\u8de8\u5e73\u53f0\u7684\u4ea4\u4e92\u5f0f\u73af\u5883\u751f\u6210\u51fa\u7248\u8d28\u91cf\u7ea7\u522b\u7684\u56fe\u5f62\u3002\u901a\u8fc7 Matplotlib\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u4ec5\u9700\u8981\u51e0\u884c\u4ee3\u7801\uff0c\u4fbf\u53ef\u4ee5\u751f\u6210\u7ed8\u56fe\uff0c\u76f4\u65b9\u56fe\uff0c\u529f\u7387\u8c31\uff0c\u6761\u5f62\u56fe\uff0c\u9519\u8bef\u56fe\uff0c\u6563\u70b9\u56fe\u7b49\u3002</p> <p>\u4ee5\u4e0b\u4ece\u5f00\u5934\u523011\u8282\u7684\u5185\u5bb9\u5b8c\u5168\u590d\u5236\u81ea Github\u300aPythonDataScienceHandbook\u300b(\u4e2d\u6587\u7ffb\u8bd1\uff0cgitee\u955c\u50cf\uff08\u4e0d\u5168\uff09)\u7b2c\u56db\u7ae0\u7684Matplotlib\u4ecb\u7ecd\u3002\u5728\u4ee5\u4e0b\u73af\u5883\u6d4b\u8bd5\u901a\u8fc7\uff1a</p> <ul> <li>numpy:1.18.5</li> <li>pandas:1.0.5</li> <li>matplotlib:3.2.1</li> </ul> <p>\u66f4\u591a\u56fe\u4f8b\u53c2\u8003\u5b98\u7f51</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#1","title":"1.\u7b80\u5355\u7684\u6298\u7ebf\u56fe","text":"<p>\u5bf9\u4e8e\u56fe\u8868\u6765\u8bf4\uff0c\u6700\u7b80\u5355\u7684\u83ab\u8fc7\u4e8e\u4f5c\u51fa\u4e00\u4e2a\u5355\u4e00\u51fd\u6570 \u7684\u56fe\u50cf\u3002\u672c\u8282\u4e2d\u6211\u4eec\u9996\u5148\u6765\u4ecb\u7ecd\u521b\u5efa\u8fd9\u79cd\u7c7b\u578b\u56fe\u8868\u3002\u672c\u8282\u548c\u540e\u7eed\u5c0f\u8282\u4e2d\uff0c\u6211\u4eec\u90fd\u4f1a\u4f7f\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u5c06\u6211\u4eec\u9700\u8981\u7684\u5305\u8f7d\u5165\u5230 notebook \u4e2d\uff1a</p> <pre><code>%matplotlib inline\nimport matplotlib.pyplot as plt\nplt.style.use('seaborn-whitegrid')\nimport numpy as np\n</code></pre> <p>\u5bf9\u4e8e\u6240\u6709\u7684 Matplotlib \u56fe\u8868\u6765\u8bf4\uff0c\u6211\u4eec\u90fd\u9700\u8981\u4ece\u521b\u5efa\u56fe\u5f62\u548c\u7ef4\u5ea6\u5f00\u59cb\u3002\u56fe\u5f62\u548c\u7ef4\u5ea6\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u4ee3\u7801\u8fdb\u884c\u6700\u7b80\u5f62\u5f0f\u7684\u521b\u5efa\uff1a</p> <pre><code>fig = plt.figure()\nax = plt.axes()\n</code></pre> <p></p> <p>\u5728 Matplotlib \u4e2d\uff0c\u56fe\u5f62\uff08\u7c7b<code>plt.Figure</code>\u7684\u4e00\u4e2a\u5b9e\u4f8b\uff09\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a\u5305\u62ec\u6240\u6709\u7ef4\u5ea6\u3001\u56fe\u50cf\u3001\u6587\u672c\u548c\u6807\u7b7e\u5bf9\u8c61\u7684\u5bb9\u5668\u3002\u7ef4\u5ea6\uff08\u7c7b<code>plt.Axes</code>\u7684\u4e00\u4e2a\u5b9e\u4f8b\uff09\u5c31\u662f\u4f60\u4e0a\u9762\u770b\u5230\u7684\u56fe\u50cf\uff0c\u4e00\u4e2a\u6709\u8fb9\u754c\u7684\u683c\u5b50\u5305\u62ec\u523b\u5ea6\u548c\u6807\u7b7e\uff0c\u6700\u7ec8\u8fd8\u6709\u6211\u4eec\u753b\u5728\u4e0a\u9762\u7684\u56fe\u8868\u5143\u7d20\u3002\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u4f1a\u4f7f\u7528\u53d8\u91cf\u540d<code>fig</code>\u6765\u6307\u4ee3\u56fe\u5f62\u5bf9\u8c61\uff0c\u4ee5\u53ca\u53d8\u91cf\u540d<code>ax</code>\u6765\u6307\u4ee3\u7ef4\u5ea6\u53d8\u91cf\u3002</p> <p>\u4e00\u65e6\u6211\u4eec\u521b\u5efa\u4e86\u7ef4\u5ea6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>ax.plot</code>\u65b9\u6cd5\u5c06\u6570\u636e\u7ed8\u5236\u5728\u56fe\u8868\u4e0a\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6b63\u5f26\u51fd\u6570\u56fe\u5f62\uff1a</p> <pre><code>fig = plt.figure()\nax = plt.axes()\n\nx = np.linspace(0, 10, 1000)\nax.plot(x, np.sin(x));\n</code></pre> <p></p> <p>\u540c\u6837\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 pylab \u63a5\u53e3\uff08MATLAB \u98ce\u683c\u7684\u63a5\u53e3\uff09\u5e2e\u6211\u4eec\u5728\u540e\u53f0\u81ea\u52a8\u521b\u5efa\u8fd9\u4e24\u4e2a\u5bf9\u8c61\uff1a</p> <pre><code>plt.plot(x, np.sin(x));\n</code></pre> <p></p> <p>\u5982\u679c\u6211\u4eec\u9700\u8981\u5728\u540c\u4e00\u5e45\u56fe\u5f62\u4e2d\u7ed8\u5236\u591a\u6839\u7ebf\u6761\uff0c\u53ea\u9700\u8981\u591a\u6b21\u8c03\u7528<code>plot</code>\u51fd\u6570\u5373\u53ef\uff1a</p> <pre><code>plt.plot(x, np.sin(x))\nplt.plot(x, np.cos(x));\n</code></pre> <p></p> <p>\u8fd9\u5c31\u662f\u5728 Matplotlib \u4e2d\u7ed8\u5236\u7b80\u5355\u51fd\u6570\u56fe\u50cf\u7684\u6240\u6709\u63a5\u53e3\u4e86\u3002\u4e0b\u9762\u6211\u4eec\u6df1\u5165\u4e86\u89e3\u4e00\u4e0b\u63a7\u5236\u5750\u6807\u8f74\u548c\u7ebf\u6761\u5916\u89c2\u7684\u7ec6\u8282\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_1","title":"\u8c03\u6574\u6298\u7ebf\u56fe\uff1a\u7ebf\u6761\u989c\u8272\u548c\u98ce\u683c","text":"<p>\u4f60\u53ef\u80fd\u7b2c\u4e00\u4e2a\u60f3\u5230\u9700\u8981\u8fdb\u884c\u8c03\u6574\u7684\u90e8\u5206\u5c31\u662f\u7ebf\u6761\u7684\u989c\u8272\u548c\u98ce\u683c\u3002<code>plt.plot()</code>\u51fd\u6570\u63a5\u53d7\u989d\u5916\u7684\u53c2\u6570\u53ef\u4ee5\u7528\u6765\u6307\u5b9a\u5b83\u4eec\u3002\u901a\u8fc7\u6307\u5b9a<code>color</code>\u5173\u952e\u5b57\u53c2\u6570\u53ef\u4ee5\u8c03\u6574\u989c\u8272\uff0c\u8fd9\u4e2a\u5b57\u7b26\u4e32\u7c7b\u578b\u53c2\u6570\u57fa\u672c\u4e0a\u80fd\u7528\u6765\u4ee3\u8868\u4efb\u4f55\u4f60\u80fd\u60f3\u5230\u7684\u989c\u8272\u3002\u53ef\u4ee5\u901a\u8fc7\u591a\u79cd\u65b9\u5f0f\u6307\u5b9a\u989c\u8272\u53c2\u6570\uff1a</p> <p>\u6240\u6709 HTML \u989c\u8272\u540d\u79f0\u53ef\u4ee5\u5728\u8fd9\u91cc3\u627e\u5230\u3002</p> <pre><code>plt.plot(x, np.sin(x - 0), color='blue')        # \u901a\u8fc7\u989c\u8272\u540d\u79f0\u6307\u5b9a\nplt.plot(x, np.sin(x - 1), color='g')           # \u901a\u8fc7\u989c\u8272\u7b80\u5199\u540d\u79f0\u6307\u5b9a(rgbcmyk)\nplt.plot(x, np.sin(x - 2), color='0.75')        # \u4ecb\u4e8e0-1\u4e4b\u95f4\u7684\u7070\u9636\u503c\nplt.plot(x, np.sin(x - 3), color='#FFDD44')     # 16\u8fdb\u5236\u7684RRGGBB\u503c\nplt.plot(x, np.sin(x - 4), color=(1.0,0.2,0.3)) # RGB\u5143\u7ec4\u7684\u989c\u8272\u503c\uff0c\u6bcf\u4e2a\u503c\u4ecb\u4e8e0-1\nplt.plot(x, np.sin(x - 5), color='chartreuse'); # \u80fd\u652f\u6301\u6240\u6709HTML\u989c\u8272\u540d\u79f0\u503c\n</code></pre> <p></p> <p>\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u989c\u8272\uff0cMatplotlib \u4f1a\u5728\u4e00\u7ec4\u9ed8\u8ba4\u989c\u8272\u503c\u4e2d\u5faa\u73af\u4f7f\u7528\u6765\u7ed8\u5236\u6bcf\u4e00\u6761\u7ebf\u6761\u3002</p> <p>\u7c7b\u4f3c\u7684\uff0c\u901a\u8fc7<code>linestyle</code>\u5173\u952e\u5b57\u53c2\u6570\u53ef\u4ee5\u6307\u5b9a\u7ebf\u6761\u7684\u98ce\u683c\uff1a</p> <pre><code>plt.plot(x, x + 0, linestyle='solid')\nplt.plot(x, x + 1, linestyle='dashed')\nplt.plot(x, x + 2, linestyle='dashdot')\nplt.plot(x, x + 3, linestyle='dotted');\n\n# \u8fd8\u53ef\u4ee5\u7528\u5f62\u8c61\u7684\u7b26\u53f7\u4ee3\u8868\u7ebf\u6761\u98ce\u683c\nplt.plot(x, x + 4, linestyle='-')  # \u5b9e\u7ebf\nplt.plot(x, x + 5, linestyle='--') # \u865a\u7ebf\nplt.plot(x, x + 6, linestyle='-.') # \u957f\u77ed\u70b9\u865a\u7ebf\nplt.plot(x, x + 7, linestyle=':');  # \u70b9\u7ebf\n</code></pre> <p></p> <p>\u5982\u679c\u4f60\u559c\u6b22\u66f4\u7b80\u6d01\u7684\u4ee3\u7801\uff0c\u8fd9\u4e9b<code>linestyle</code>\u548c<code>color</code>\u53c2\u6570\u80fd\u591f\u5408\u5e76\u6210\u4e00\u4e2a\u975e\u5173\u952e\u5b57\u53c2\u6570\uff0c\u4f20\u9012\u7ed9<code>plt.plot()</code>\u51fd\u6570\uff1a</p> <pre><code>plt.plot(x, x + 0, '-g')  # \u7eff\u8272\u5b9e\u7ebf\nplt.plot(x, x + 1, '--c') # \u5929\u9752\u8272\u865a\u7ebf\nplt.plot(x, x + 2, '-.k') # \u9ed1\u8272\u957f\u77ed\u70b9\u865a\u7ebf\nplt.plot(x, x + 3, ':r');  # \u7ea2\u8272\u70b9\u7ebf\n</code></pre> <p></p> <p>\u4e0a\u9762\u7684\u5355\u5b57\u6bcd\u989c\u8272\u7801\u662f RGB \u989c\u8272\u7cfb\u7edf\u4ee5\u53ca CMYK \u989c\u8272\u7cfb\u7edf\u7684\u7f29\u5199\uff0c\u88ab\u5e7f\u6cdb\u5e94\u7528\u5728\u6570\u5b57\u5316\u56fe\u50cf\u7684\u989c\u8272\u7cfb\u7edf\u4e2d\u3002</p> <p>\u8fd8\u6709\u5f88\u591a\u5176\u4ed6\u7684\u5173\u952e\u5b57\u53c2\u6570\u53ef\u4ee5\u5bf9\u6298\u7ebf\u56fe\u7684\u5916\u89c2\u8fdb\u884c\u7cbe\u7ec6\u8c03\u6574\uff1b\u53ef\u4ee5\u901a\u8fc7\u5728 IPython \u4e2d\u4f7f\u7528\u5e2e\u52a9\u5de5\u5177\u67e5\u770b<code>plt.plot()</code>\u51fd\u6570\u7684\u6587\u6863\u6765\u83b7\u5f97\u66f4\u591a\u7ec6\u8282\u5185\u5bb9\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_2","title":"\u8c03\u6574\u6298\u7ebf\u56fe\uff1a\u5750\u6807\u8f74\u8303\u56f4","text":"<p>Matplotlib \u4f1a\u81ea\u52a8\u9009\u62e9\u975e\u5e38\u5408\u9002\u7684\u5750\u6807\u8f74\u8303\u56f4\u6765\u7ed8\u5236\u4f60\u7684\u56fe\u50cf\uff0c\u4f46\u662f\u6709\u4e9b\u60c5\u51b5\u4e0b\u4f60\u4e5f\u9700\u8981\u81ea\u5df1\u8fdb\u884c\u76f8\u5173\u8c03\u6574\u3002\u4f7f\u7528<code>plt.xlim()</code>\u548c<code>plt.ylim()</code>\u51fd\u6570\u53ef\u4ee5\u8c03\u6574\u5750\u6807\u8f74\u7684\u8303\u56f4\uff1a</p> <pre><code>plt.plot(x, np.sin(x))\n\nplt.xlim(-1, 11)\nplt.ylim(-1.5, 1.5);\n</code></pre> <p></p> <p>\u5982\u679c\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4f60\u5e0c\u671b\u5c06\u5750\u6807\u8f74\u53cd\u5411\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u4e0a\u9762\u7684\u51fd\u6570\u5b9e\u73b0\uff0c\u5c06\u53c2\u6570\u987a\u5e8f\u98a0\u5012\u5373\u53ef\uff1a</p> <pre><code>plt.plot(x, np.sin(x))\n\nplt.xlim(10, 0)\nplt.ylim(1.2, -1.2);\n</code></pre> <p></p> <p>\u76f8\u5173\u7684\u51fd\u6570\u8fd8\u6709<code>plt.axis()</code>\uff08\u6ce8\u610f\uff1a\u8fd9\u4e0d\u662f<code>plt.axes()</code>\u51fd\u6570\uff0c\u51fd\u6570\u540d\u79f0\u662f i \u800c\u4e0d\u662f e\uff09\u3002\u8fd9\u4e2a\u51fd\u6570\u53ef\u4ee5\u5728\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\u4e2d\u5c31\u5b8c\u6210 x \u8f74\u548c y \u8f74\u8303\u56f4\u7684\u8bbe\u7f6e\uff0c\u4f20\u9012\u4e00\u4e2a<code>[xmin, xmax, ymin, ymax]</code>\u7684\u5217\u8868\u53c2\u6570\u5373\u53ef\uff1a</p> <pre><code>plt.plot(x, np.sin(x))\nplt.axis([-1, 11, -1.5, 1.5]);\n</code></pre> <p></p> <p>\u5f53\u7136<code>plt.axis()</code>\u51fd\u6570\u4e0d\u4ec5\u80fd\u8bbe\u7f6e\u8303\u56f4\uff0c\u8fd8\u80fd\u50cf\u4e0b\u9762\u4ee3\u7801\u4e00\u6837\u5c06\u5750\u6807\u8f74\u538b\u7f29\u5230\u521a\u597d\u8db3\u591f\u7ed8\u5236\u6298\u7ebf\u56fe\u50cf\u7684\u5927\u5c0f\uff1a</p> <pre><code>plt.plot(x, np.sin(x))\nplt.axis('tight');\n</code></pre> <p></p> <p>\u8fd8\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e<code>'equal'</code>\u53c2\u6570\u8bbe\u7f6e<code>x</code>\u8f74\u4e0e<code>y</code>\u8f74\u4f7f\u7528\u76f8\u540c\u7684\u957f\u5ea6\u5355\u4f4d\uff1a</p> <pre><code>plt.plot(x, np.sin(x))\nplt.axis('equal');\n</code></pre> <p></p> <p>\u66f4\u591a\u5173\u4e8e\u8bbe\u7f6e axis \u5c5e\u6027\u7684\u5185\u5bb9\u8bf7\u67e5\u9605<code>plt.axis</code>\u51fd\u6570\u7684\u6587\u6863\u5b57\u7b26\u4e32\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_3","title":"\u6298\u7ebf\u56fe\u6807\u7b7e","text":"<p>\u672c\u8282\u6700\u540e\u4ecb\u7ecd\u4e00\u4e0b\u5728\u6298\u7ebf\u56fe\u4e0a\u7ed8\u5236\u6807\u7b7e\uff1a\u6807\u9898\u3001\u5750\u6807\u8f74\u6807\u7b7e\u548c\u7b80\u5355\u7684\u56fe\u4f8b\u3002</p> <p>\u6807\u9898\u548c\u5750\u6807\u8f74\u6807\u7b7e\u662f\u6700\u7b80\u5355\u7684\u8fd9\u7c7b\u6807\u7b7e\uff0cMatplotlib \u63d0\u4f9b\u4e86\u51fd\u6570\u7528\u6765\u65b9\u4fbf\u7684\u8bbe\u7f6e\u5b83\u4eec\uff1a</p> <pre><code>plt.plot(x, np.sin(x))\nplt.title(\"A Sine Curve\")\nplt.xlabel(\"x\")\nplt.ylabel(\"sin(x)\");\n</code></pre> <p></p> <p>\u8fd9\u4e9b\u6807\u7b7e\u7684\u4f4d\u7f6e\u3001\u5927\u5c0f\u548c\u98ce\u683c\u53ef\u4ee5\u901a\u8fc7\u4e0a\u9762\u51fd\u6570\u7684\u53ef\u9009\u53c2\u6570\u8fdb\u884c\u8bbe\u7f6e\u3002\u53c2\u9605 Matplotlib \u5728\u7ebf\u6587\u6863\u548c\u8fd9\u4e9b\u51fd\u6570\u7684\u6587\u6863\u5b57\u7b26\u4e32\u53ef\u4ee5\u83b7\u5f97\u66f4\u591a\u7684\u4fe1\u606f\u3002</p> <p>\u5f53\u4e00\u5e45\u56fe\u4e2d\u7ed8\u5236\u4e86\u591a\u6761\u6298\u7ebf\u65f6\uff0c\u5982\u679c\u80fd\u591f\u7ed8\u5236\u4e00\u4e2a\u7ebf\u6761\u5bf9\u5e94\u7684\u56fe\u4f8b\u80fd\u8ba9\u56fe\u8868\u66f4\u52a0\u6e05\u6670\u3002Matplotlib \u4e5f\u5185\u5efa\u4e86\u51fd\u6570\u6765\u5feb\u901f\u521b\u5efa\u56fe\u4f8b\u3002\u4f30\u8ba1\u4f60\u4e5f\u731c\u5230\u4e86\uff0c\u901a\u8fc7<code>plt.legend()</code>\u51fd\u6570\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e2a\u9700\u6c42\u3002\u867d\u7136\u6709\u5f88\u591a\u79cd\u6b63\u786e\u7684\u65b9\u6cd5\u6765\u6307\u5b9a\u56fe\u4f8b\uff0c\u4f5c\u8005\u8ba4\u4e3a\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u901a\u8fc7\u5728\u7ed8\u5236\u6bcf\u6761\u7ebf\u6761\u65f6\u6307\u5b9a\u5bf9\u5e94\u7684<code>label</code>\u5173\u952e\u5b57\u53c2\u6570\u6765\u4f7f\u7528\u8fd9\u4e2a\u51fd\u6570\uff1a</p> <pre><code>plt.plot(x, np.sin(x), '-g', label='sin(x)')\nplt.plot(x, np.cos(x), ':b', label='cos(x)')\nplt.axis('equal')\n\nplt.legend();\n</code></pre> <p></p> <p>\u4e0a\u56fe\u53ef\u89c1\uff0c<code>plt.legend()</code>\u51fd\u6570\u7ed8\u5236\u7684\u56fe\u4f8b\u7ebf\u6761\u4e0e\u56fe\u4e2d\u7684\u6298\u7ebf\u65e0\u8bba\u98ce\u683c\u548c\u989c\u8272\u90fd\u4fdd\u6301\u4e00\u81f4\u3002\u67e5\u9605<code>plt.legend</code>\u6587\u6863\u5b57\u7b26\u4e32\u53ef\u4ee5\u83b7\u5f97\u66f4\u591a\u76f8\u5173\u4fe1\u606f\uff1b\u6211\u4eec\u5728[\u81ea\u5b9a\u4e49\u56fe\u8868\u56fe\u4f8b]\u4e00\u8282\u4e2d\u4e5f\u4f1a\u8ba8\u8bba\u66f4\u9ad8\u7ea7\u7684\u56fe\u4f8b\u5e94\u7528\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#matplotlib","title":"\u989d\u5916\u5185\u5bb9\uff1aMatplotlib \u7684\u5751","text":"<p>\u867d\u7136\u5927\u591a\u6570\u7684<code>plt</code>\u51fd\u6570\u90fd\u53ef\u4ee5\u76f4\u63a5\u8f6c\u6362\u4e3a<code>ax</code>\u7684\u65b9\u6cd5\u8fdb\u884c\u8c03\u7528\uff08\u4f8b\u5982<code>plt.plot()</code> \u2192 <code>ax.plot()</code>\uff0c<code>plt.legend()</code> \u2192 <code>ax.legend()</code>\u7b49\uff09\uff0c\u4f46\u662f\u5e76\u4e0d\u662f\u6240\u6709\u7684\u547d\u4ee4\u90fd\u80fd\u5e94\u7528\u8fd9\u79cd\u60c5\u51b5\u3002\u7279\u522b\u662f\u7528\u4e8e\u8bbe\u7f6e\u6781\u503c\u3001\u6807\u7b7e\u548c\u6807\u9898\u7684\u51fd\u6570\u90fd\u6709\u4e00\u5b9a\u7684\u6539\u53d8\u3002\u4e0b\u8868\u5217\u51fa\u4e86\u5c06 MATLAB \u98ce\u683c\u7684\u51fd\u6570\u8f6c\u6362\u4e3a\u9762\u5411\u5bf9\u8c61\u7684\u65b9\u6cd5\u7684\u533a\u522b\uff1a</p> <ul> <li><code>plt.xlabel()</code> \u2192 <code>ax.set_xlabel()</code></li> <li><code>plt.ylabel()</code> \u2192 <code>ax.set_ylabel()</code></li> <li><code>plt.xlim()</code> \u2192 <code>ax.set_xlim()</code></li> <li><code>plt.ylim()</code> \u2192 <code>ax.set_ylim()</code></li> <li><code>plt.title()</code> \u2192 <code>ax.set_title()</code></li> </ul> <p>\u5728\u9762\u5411\u5bf9\u8c61\u63a5\u53e3\u4e2d\uff0c\u4e0e\u5176\u9010\u4e2a\u8c03\u7528\u4e0a\u9762\u7684\u65b9\u6cd5\u6765\u8bbe\u7f6e\u5c5e\u6027\uff0c\u66f4\u5e38\u89c1\u7684\u4f7f\u7528<code>ax.set()</code>\u65b9\u6cd5\u6765\u4e00\u6b21\u6027\u8bbe\u7f6e\u6240\u6709\u7684\u5c5e\u6027\uff1a</p> <pre><code>ax = plt.axes()\nax.plot(x, np.sin(x))\nax.set(xlim=(0, 10), ylim=(-2, 2),\n       xlabel='x', ylabel='sin(x)',\n       title='A Simple Plot');\n</code></pre> <p></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#2","title":"2.\u7b80\u5355\u6563\u70b9\u56fe","text":"<p>\u53e6\u4e00\u79cd\u5e38\u7528\u7684\u56fe\u8868\u7c7b\u578b\u662f\u7b80\u5355\u6563\u70b9\u56fe\uff0c\u5b83\u662f\u6298\u7ebf\u56fe\u7684\u8fd1\u4eb2\u3002\u4e0d\u50cf\u6298\u7ebf\u56fe\uff0c\u56fe\u4e2d\u7684\u70b9\u8fde\u63a5\u8d77\u6765\u7ec4\u6210\u8fde\u7ebf\uff0c\u6563\u70b9\u56fe\u4e2d\u7684\u70b9\u90fd\u662f\u72ec\u7acb\u5206\u5e03\u7684\u70b9\u72b6\u3001\u5706\u5708\u6216\u5176\u4ed6\u5f62\u72b6\u3002\u672c\u8282\u5f00\u59cb\u6211\u4eec\u4e5f\u662f\u9996\u5148\u5c06\u9700\u8981\u7528\u5230\u7684\u56fe\u8868\u5de5\u5177\u548c\u51fd\u6570\u5bfc\u5165\u5230 notebook \u4e2d\uff1a</p> <pre><code>%matplotlib inline\nimport matplotlib.pyplot as plt\nplt.style.use('seaborn-whitegrid')\nimport numpy as np\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#pltplot","title":"\u4f7f\u7528 <code>plt.plot</code> \u7ed8\u5236\u6563\u70b9\u56fe","text":"<p>\u5728\u4e0a\u4e00\u8282\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86<code>plt.plot</code>/<code>ax.plot</code>\u65b9\u6cd5\u7ed8\u5236\u6298\u7ebf\u56fe\u3002\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u540c\u6837\u7528\u6765\u7ed8\u5236\u6563\u70b9\u56fe\uff1a</p> <pre><code>x = np.linspace(0, 10, 30)\ny = np.sin(x)\n\nplt.plot(x, y, 'o', color='black');\n</code></pre> <p></p> <p>\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u4f7f\u7528\u4e00\u4e2a\u5b57\u7b26\u4ee3\u8868\u7684\u56fe\u8868\u7ed8\u5236\u70b9\u7684\u7c7b\u578b\u3002\u5c31\u50cf\u4f60\u53ef\u4ee5\u4f7f\u7528<code>'-'</code>\u6216<code>'--'</code>\u6765\u63a7\u5236\u7ebf\u6761\u7684\u98ce\u683c\u90a3\u6837\uff0c\u70b9\u7684\u7c7b\u578b\u98ce\u683c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u77ed\u5b57\u7b26\u4e32\u4ee3\u7801\u6765\u8868\u793a\u3002\u6240\u6709\u53ef\u7528\u7684\u7b26\u53f7\u53ef\u4ee5\u901a\u8fc7<code>plt.plot</code>\u6587\u6863\u6216 Matplotlib \u5728\u7ebf\u6587\u6863\u8fdb\u884c\u67e5\u9605\u3002\u5927\u591a\u6570\u7684\u4ee3\u7801\u90fd\u662f\u975e\u5e38\u76f4\u89c2\u7684\uff0c\u6211\u4eec\u4f7f\u7528\u4e0b\u9762\u7684\u4f8b\u5b50\u53ef\u4ee5\u5c55\u793a\u90a3\u4e9b\u6700\u901a\u7528\u7684\u7b26\u53f7\uff1a</p> <pre><code>rng = np.random.RandomState(0)\nfor marker in ['o', '.', ',', 'x', '+', 'v', '^', '&lt;', '&gt;', 's', 'd']:\n    plt.plot(rng.rand(5), rng.rand(5), marker,\n             label=\"marker='{0}'\".format(marker))\nplt.legend(numpoints=1)\nplt.xlim(0, 1.8);\n</code></pre> <p></p> <p>\u800c\u4e14\u8fd9\u4e9b\u7b26\u53f7\u4ee3\u7801\u53ef\u4ee5\u548c\u7ebf\u6761\u3001\u989c\u8272\u4ee3\u7801\u4e00\u8d77\u4f7f\u7528\uff0c\u8fd9\u4f1a\u5728\u6298\u7ebf\u56fe\u7684\u57fa\u7840\u4e0a\u7ed8\u5236\u51fa\u6563\u70b9\uff1a</p> <pre><code>plt.plot(x, y, '-ok');\n</code></pre> <p></p> <p><code>plt.plot</code>\u8fd8\u6709\u5f88\u591a\u989d\u5916\u7684\u5173\u952e\u5b57\u53c2\u6570\u7528\u6765\u6307\u5b9a\u5e7f\u6cdb\u7684\u7ebf\u6761\u548c\u70b9\u7684\u5c5e\u6027\uff1a</p> <pre><code>plt.plot(x, y, '-p', color='gray',\n         markersize=15, linewidth=4,\n         markerfacecolor='white',\n         markeredgecolor='gray',\n         markeredgewidth=2)\nplt.ylim(-1.2, 1.2);\n</code></pre> <p></p> <p><code>plt.plot</code>\u51fd\u6570\u7684\u8fd9\u79cd\u7075\u6d3b\u6027\u63d0\u4f9b\u4e86\u5f88\u591a\u7684\u53ef\u89c6\u5316\u9009\u62e9\u3002\u67e5\u9605<code>plt.plot</code>\u5e2e\u52a9\u6587\u6863\u83b7\u5f97\u5b8c\u6574\u7684\u9009\u9879\u8bf4\u660e\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#pltscatter","title":"\u4f7f\u7528<code>plt.scatter</code>\u7ed8\u5236\u6563\u70b9\u56fe","text":"<p>\u7b2c\u4e8c\u79cd\u66f4\u5f3a\u5927\u7684\u7ed8\u5236\u6563\u70b9\u56fe\u7684\u65b9\u6cd5\u662f\u4f7f\u7528<code>plt.scatter</code>\u51fd\u6570\uff0c\u5b83\u7684\u4f7f\u7528\u65b9\u6cd5\u548c<code>plt.plot</code>\u7c7b\u4f3c\uff1a</p> <pre><code>plt.scatter(x, y, marker='o');\n</code></pre> <p></p> <p><code>plt.scatter</code>\u548c<code>plt.plot</code>\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\uff0c<code>plt.scatter</code>\u53ef\u4ee5\u9488\u5bf9\u6bcf\u4e2a\u70b9\u8bbe\u7f6e\u4e0d\u540c\u5c5e\u6027\uff08\u5927\u5c0f\u3001\u586b\u5145\u989c\u8272\u3001\u8fb9\u7f18\u989c\u8272\u7b49\uff09\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u6570\u636e\u96c6\u5408\u5bf9\u8fd9\u4e9b\u5c5e\u6027\u8fdb\u884c\u8bbe\u7f6e\u3002</p> <p>\u8ba9\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u968f\u673a\u503c\u6570\u636e\u96c6\u7ed8\u5236\u4e0d\u540c\u989c\u8272\u548c\u5927\u5c0f\u7684\u6563\u70b9\u56fe\u6765\u8bf4\u660e\u3002\u4e3a\u4e86\u66f4\u597d\u7684\u67e5\u770b\u91cd\u53e0\u7684\u7ed3\u679c\uff0c\u6211\u4eec\u8fd8\u4f7f\u7528\u4e86<code>alpha</code>\u5173\u952e\u5b57\u53c2\u6570\u5bf9\u70b9\u7684\u900f\u660e\u5ea6\u8fdb\u884c\u4e86\u8c03\u6574\uff1a</p> <pre><code>rng = np.random.RandomState(0)\nx = rng.randn(100)\ny = rng.randn(100)\ncolors = rng.rand(100)\nsizes = 1000 * rng.rand(100)\n\nplt.scatter(x, y, c=colors, s=sizes, alpha=0.3,\n            cmap='viridis')\nplt.colorbar();  # \u663e\u793a\u989c\u8272\u5bf9\u6bd4\u6761\n</code></pre> <p></p> <p>\u6ce8\u610f\u56fe\u8868\u53f3\u8fb9\u6709\u4e00\u4e2a\u989c\u8272\u5bf9\u6bd4\u6761\uff08\u8fd9\u91cc\u901a\u8fc7<code>colormap()</code>\u51fd\u6570\u8f93\u51fa\uff09\uff0c\u56fe\u8868\u4e2d\u7684\u70b9\u5927\u5c0f\u7684\u5355\u4f4d\u662f\u50cf\u7d20\u3002\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0c\u6563\u70b9\u7684\u989c\u8272\u548c\u5927\u5c0f\u90fd\u80fd\u7528\u6765\u5c55\u793a\u6570\u636e\u4fe1\u606f\uff0c\u5728\u5e0c\u671b\u5c55\u793a\u591a\u4e2a\u7ef4\u5ea6\u6570\u636e\u96c6\u5408\u7684\u60c5\u51b5\u4e0b\u5f88\u76f4\u89c2\u3002</p> <p>\u4f8b\u5982\uff0c\u5f53\u6211\u4eec\u4f7f\u7528 Scikit-learn \u4e2d\u7684\u9e22\u5c3e\u82b1\u6570\u636e\u96c6\uff0c\u91cc\u9762\u7684\u6bcf\u4e2a\u6837\u672c\u90fd\u662f\u4e09\u79cd\u9e22\u5c3e\u82b1\u4e2d\u7684\u5176\u4e2d\u4e00\u79cd\uff0c\u5e76\u5e26\u6709\u4ed4\u7ec6\u6d4b\u91cf\u7684\u82b1\u74e3\u548c\u82b1\u843c\u7684\u5c3a\u5bf8\u6570\u636e\uff1a</p> <pre><code>from sklearn.datasets import load_iris\niris = load_iris()\nfeatures = iris.data.T\n\nplt.scatter(features[0], features[1], alpha=0.2,\n            s=100*features[3], c=iris.target, cmap='viridis')\nplt.xlabel(iris.feature_names[0])\nplt.ylabel(iris.feature_names[1]);\n</code></pre> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u4ece\u4e0a\u56fe\u4e2d\u770b\u51fa\uff0c\u53ef\u4ee5\u901a\u8fc7\u6563\u70b9\u56fe\u540c\u65f6\u5c55\u793a\u8be5\u6570\u636e\u96c6\u7684\u56db\u4e2a\u4e0d\u540c\u7ef4\u5ea6\uff1a\u56fe\u4e2d\u7684(x, y)\u4f4d\u7f6e\u4ee3\u8868\u6bcf\u4e2a\u6837\u672c\u7684\u82b1\u843c\u7684\u957f\u5ea6\u548c\u5bbd\u5ea6\uff0c\u6563\u70b9\u7684\u5927\u5c0f\u4ee3\u8868\u6bcf\u4e2a\u6837\u672c\u7684\u82b1\u74e3\u7684\u5bbd\u5ea6\uff0c\u800c\u6563\u70b9\u7684\u989c\u8272\u4ee3\u8868\u4e00\u79cd\u7279\u5b9a\u7684\u9e22\u5c3e\u82b1\u7c7b\u578b\u3002\u5982\u4e0a\u56fe\u7684\u591a\u79cd\u989c\u8272\u548c\u591a\u79cd\u5c5e\u6027\u7684\u6563\u70b9\u56fe\u5bf9\u4e8e\u6211\u4eec\u5206\u6790\u548c\u5c55\u793a\u6570\u636e\u96c6\u65f6\u90fd\u975e\u5e38\u6709\u5e2e\u52a9\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#plot-scatter","title":"<code>plot</code> \u548c <code>scatter</code> \u5bf9\u6bd4\uff1a\u6027\u80fd\u63d0\u9192","text":"<p>\u9664\u4e86\u4e0a\u9762\u8bf4\u7684<code>plt.plot</code>\u548c<code>plt.scatter</code>\u5bf9\u4e8e\u6bcf\u4e2a\u6563\u70b9\u4e0d\u540c\u5c5e\u6027\u7684\u652f\u6301\u4e0d\u540c\u4e4b\u5916\uff0c\u8fd8\u6709\u522b\u7684\u56e0\u7d20\u5f71\u54cd\u5bf9\u8fd9\u4e24\u4e2a\u51fd\u6570\u7684\u9009\u62e9\u5417\uff1f\u5bf9\u4e8e\u5c0f\u7684\u6570\u636e\u96c6\u6765\u8bf4\uff0c\u4e24\u8005\u5e76\u65e0\u5dee\u522b\uff0c\u5f53\u6570\u636e\u96c6\u589e\u957f\u5230\u51e0\u5343\u4e2a\u70b9\u65f6\uff0c<code>plt.plot</code>\u4f1a\u660e\u663e\u6bd4<code>plt.scatter</code>\u7684\u6027\u80fd\u8981\u9ad8\u3002\u9020\u6210\u8fd9\u4e2a\u5dee\u5f02\u7684\u539f\u56e0\u662f<code>plt.scatter</code>\u652f\u6301\u6bcf\u4e2a\u70b9\u4f7f\u7528\u4e0d\u540c\u7684\u5927\u5c0f\u548c\u989c\u8272\uff0c\u56e0\u6b64\u6e32\u67d3\u6bcf\u4e2a\u70b9\u65f6\u9700\u8981\u5b8c\u6210\u66f4\u591a\u989d\u5916\u7684\u5de5\u4f5c\u3002\u800c<code>plt.plot</code>\u6765\u8bf4\uff0c\u6bcf\u4e2a\u70b9\u90fd\u662f\u7b80\u5355\u7684\u590d\u5236\u53e6\u4e00\u4e2a\u70b9\u4ea7\u751f\uff0c\u56e0\u6b64\u5bf9\u4e8e\u6574\u4e2a\u6570\u636e\u96c6\u6765\u8bf4\uff0c\u786e\u5b9a\u6bcf\u4e2a\u70b9\u7684\u5c55\u793a\u5c5e\u6027\u7684\u5de5\u4f5c\u4ec5\u9700\u8981\u8fdb\u884c\u4e00\u6b21\u5373\u53ef\u3002\u5bf9\u4e8e\u5f88\u5927\u7684\u6570\u636e\u96c6\u6765\u8bf4\uff0c\u8fd9\u4e2a\u5dee\u5f02\u4f1a\u5bfc\u81f4\u4e24\u8005\u6027\u80fd\u7684\u5de8\u5927\u533a\u522b\uff0c\u56e0\u6b64\uff0c\u5bf9\u4e8e\u5927\u6570\u636e\u96c6\u5e94\u8be5\u4f18\u5148\u4f7f\u7528<code>plt.plot</code>\u51fd\u6570\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#3","title":"3.\u8bef\u5dee\u53ef\u89c6\u5316","text":"<p>\u5bf9\u4e8e\u4efb\u4f55\u7684\u79d1\u5b66\u6d4b\u91cf\u6765\u8bf4\uff0c\u7cbe\u786e\u8ba1\u7b97\u8bef\u5dee\u4e0e\u7cbe\u786e\u62a5\u544a\u6d4b\u91cf\u503c\u57fa\u672c\u4e0a\u540c\u7b49\u91cd\u8981\uff0c\u5982\u679c\u4e0d\u662f\u66f4\u52a0\u91cd\u8981\u7684\u8bdd\u3002\u4f8b\u5982\uff0c\u8bbe\u60f3\u6211\u6b63\u5728\u4f7f\u7528\u4e00\u4e9b\u5929\u6587\u7269\u7406\u5b66\u89c2\u6d4b\u503c\u6765\u4f30\u7b97\u54c8\u52c3\u5e38\u6570\uff0c\u5373\u672c\u5730\u89c2\u6d4b\u7684\u5b87\u5b99\u81a8\u80c0\u7cfb\u6570\u3002\u6211\u4ece\u4e00\u4e9b\u6587\u732e\u4e2d\u77e5\u9053\u8fd9\u4e2a\u503c\u5927\u6982\u662f 71 (km/s)/Mpc\uff0c\u800c\u6211\u6d4b\u91cf\u5f97\u5230\u7684\u503c\u662f 74 (km/s)/Mpc,\u3002\u8fd9\u4e24\u4e2a\u503c\u662f\u5426\u4e00\u81f4\uff1f\u5728\u4ec5\u7ed9\u5b9a\u8fd9\u4e9b\u6570\u636e\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e2a\u95ee\u9898\u7684\u7b54\u6848\u662f\uff0c\u65e0\u6cd5\u56de\u7b54\u3002</p> <p>Mpc\uff08\u767e\u4e07\u79d2\u5dee\u8ddd\uff09\u53c2\u89c1\u79d2\u5dee\u8ddd4</p> <p>\u5982\u679c\u6211\u4eec\u5c06\u4fe1\u606f\u589e\u52a0\u4e00\u4e9b\uff0c\u7ed9\u51fa\u4e0d\u786e\u5b9a\u6027\uff1a\u6700\u65b0\u7684\u6587\u732e\u8868\u793a\u54c8\u52c3\u5e38\u6570\u7684\u503c\u5927\u7ea6\u662f 71 2.5 (km/s)/Mpc\uff0c\u6211\u7684\u6d4b\u91cf\u503c\u662f 74 5 (km/s)/Mpc\u3002\u8fd9\u4e24\u4e2a\u503c\u662f\u4e00\u81f4\u7684\u5417\uff1f\u8fd9\u5c31\u662f\u4e00\u4e2a\u53ef\u4ee5\u51c6\u786e\u56de\u7b54\u7684\u95ee\u9898\u4e86\u3002</p> <p>\u5728\u6570\u636e\u548c\u7ed3\u679c\u7684\u53ef\u89c6\u5316\u4e2d\uff0c\u6709\u6548\u5730\u5c55\u793a\u8fd9\u4e9b\u8bef\u5dee\u80fd\u4f7f\u4f60\u7684\u56fe\u8868\u6db5\u76d6\u548c\u63d0\u4f9b\u66f4\u52a0\u5b8c\u6574\u7684\u4fe1\u606f\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_4","title":"\u57fa\u7840\u8bef\u5dee\u6761","text":"<p>\u8c03\u7528\u4e00\u4e2a Matplotlib \u51fd\u6570\u5c31\u80fd\u521b\u5efa\u4e00\u4e2a\u57fa\u7840\u7684\u8bef\u5dee\u6761\uff1a</p> <pre><code>%matplotlib inline\nimport matplotlib.pyplot as plt\nplt.style.use('seaborn-whitegrid')\nimport numpy as np\nx = np.linspace(0, 10, 50)\ndy = 0.8\ny = np.sin(x) + dy * np.random.randn(50)\n\nplt.errorbar(x, y, yerr=dy, fmt='.k');\n</code></pre> <p></p> <p>\u8fd9\u91cc\u7684<code>fmt</code>\u53c2\u6570\u662f\u7528\u6765\u63a7\u5236\u7ebf\u6761\u548c\u70b9\u98ce\u683c\u7684\u4ee3\u7801\uff0c\u4e0e<code>plt.plot</code>\u6709\u7740\u76f8\u540c\u7684\u8bed\u6cd5\uff0c\u53c2\u89c1[\u7b80\u5355\u7684\u6298\u7ebf\u56fe]\u548c[\u7b80\u5355\u7684\u6563\u70b9\u56fe]\u3002</p> <p>\u9664\u4e86\u4e0a\u9762\u7684\u57fa\u672c\u53c2\u6570\uff0c<code>errorbar</code>\u51fd\u6570\u8fd8\u6709\u5f88\u591a\u53c2\u6570\u53ef\u4ee5\u7528\u6765\u7cbe\u7ec6\u8c03\u8282\u56fe\u8868\u8f93\u51fa\u3002\u4f7f\u7528\u8fd9\u4e9b\u53c2\u6570\u4f60\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u4e2a\u6027\u5316\u8c03\u6574\u8bef\u5dee\u6761\u7684\u6837\u5f0f\u3002\u4f5c\u8005\u53d1\u73b0\u901a\u5e38\u5c06\u8bef\u5dee\u7ebf\u6761\u989c\u8272\u8c03\u6574\u4e3a\u6d45\u8272\u4f1a\u66f4\u52a0\u6e05\u6670\uff0c\u7279\u522b\u662f\u5728\u6570\u636e\u70b9\u6bd4\u8f83\u5bc6\u96c6\u7684\u60c5\u51b5\u4e0b\uff1a</p> <pre><code>plt.errorbar(x, y, yerr=dy, fmt='o', color='black',\n             ecolor='lightgray', elinewidth=3, capsize=0);\n</code></pre> <p></p> <p>\u9664\u4e86\u4e0a\u9762\u4ecb\u7ecd\u7684\u53c2\u6570\uff0c\u4f60\u8fd8\u53ef\u4ee5\u6307\u5b9a\u6c34\u5e73\u65b9\u5411\u7684\u8bef\u5dee\u6761\uff08<code>xerr</code>\uff09\uff0c\u5355\u8fb9\u8bef\u5dee\u6761\u548c\u5176\u4ed6\u5f88\u591a\u7684\u53c2\u6570\u3002\u53c2\u9605<code>plt.errorbar</code>\u7684\u5e2e\u52a9\u6587\u6863\u83b7\u5f97\u66f4\u591a\u4fe1\u606f\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_5","title":"\u8fde\u7eed\u8bef\u5dee","text":"<p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u53ef\u80fd\u9700\u8981\u5bf9\u8fde\u7eed\u503c\u5c55\u793a\u8bef\u5dee\u6761\u3002\u867d\u7136 Matplotlib \u6ca1\u6709\u5167\u5efa\u7684\u51fd\u6570\u80fd\u76f4\u63a5\u5b8c\u6210\u8fd9\u4e2a\u4efb\u52a1\uff0c\u4f46\u662f\u4f60\u53ef\u4ee5\u901a\u8fc7\u7b80\u5355\u5c06<code>plt.plot</code>\u548c<code>plt.fill_between</code>\u51fd\u6570\u7ed3\u5408\u8d77\u6765\u8fbe\u5230\u76ee\u6807\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u4f1a\u91c7\u7528\u7b80\u5355\u7684\u9ad8\u65af\u8fc7\u7a0b\u56de\u5f52\u65b9\u6cd5\uff0cScikit-Learn \u63d0\u4f9b\u4e86 API\u3002\u8fd9\u4e2a\u65b9\u6cd5\u975e\u5e38\u9002\u5408\u5728\u975e\u53c2\u6570\u5316\u7684\u51fd\u6570\u4e2d\u83b7\u5f97\u8fde\u7eed\u8bef\u5dee\u3002\u6211\u4eec\u5728\u8fd9\u91cc\u4e0d\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u9ad8\u65af\u8fc7\u7a0b\u56de\u5f52\uff0c\u4ec5\u4ec5\u805a\u7126\u5728\u5982\u4f55\u7ed8\u5236\u8fde\u7eed\u8bef\u5dee\u672c\u8eab\uff1a</p> <p>\u8bd1\u8005\u6ce8\uff1a\u65b0\u7248\u7684 sklearn \u4fee\u6539\u4e86\u9ad8\u65af\u8fc7\u7a0b\u56de\u5f52\u5b9e\u73b0\u65b9\u6cd5\uff0c\u4e0b\u9762\u4ee3\u7801\u505a\u4e86\u76f8\u5e94\u4fee\u6539\u3002</p> <pre><code>from sklearn.gaussian_process import GaussianProcessRegressor\n\n# \u5b9a\u4e49\u6a21\u578b\u548c\u4e00\u4e9b\u7b26\u5408\u6a21\u578b\u7684\u70b9\nmodel = lambda x: x * np.sin(x)\nxdata = np.array([1, 3, 5, 6, 8])\nydata = model(xdata)\n\n# \u8ba1\u7b97\u9ad8\u65af\u8fc7\u7a0b\u56de\u5f52\uff0c\u4f7f\u5176\u7b26\u5408 fit \u6570\u636e\u70b9\ngp = GaussianProcessRegressor()\ngp.fit(xdata[:, np.newaxis], ydata)\n\nxfit = np.linspace(0, 10, 1000)\nyfit, std = gp.predict(xfit[:, np.newaxis], return_std=True)\ndyfit = 2 * std  # \u4e24\u500dsigma ~ 95% \u786e\u5b9a\u533a\u57df\n</code></pre> <p>\u6211\u4eec\u73b0\u5728\u6709\u4e86<code>xfit</code>\u3001<code>yfit</code>\u548c<code>dyfit</code>\uff0c\u4f5c\u4e3a\u5bf9\u6211\u4eec\u6570\u636e\u7684\u8fde\u7eed\u62df\u5408\u503c\u4ee5\u53ca\u8bef\u5dee\u9650\u3002\u5f53\u7136\u6211\u4eec\u4e5f\u53ef\u4ee5\u50cf\u4e0a\u9762\u4e00\u6837\u4f7f\u7528<code>plt.errorbar</code>\u7ed8\u5236\u8bef\u5dee\u6761\uff0c\u4f46\u662f\u4e8b\u5b9e\u4e0a\u6211\u4eec\u4e0d\u5e0c\u671b\u5728\u56fe\u6807\u4e0a\u7ed8\u5236 1000 \u4e2a\u70b9\u7684\u8bef\u5dee\u6761\u3002\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>plt.fill_between</code>\u51fd\u6570\u5728\u8bef\u5dee\u9650\u533a\u57df\u5185\u586b\u5145\u4e00\u9053\u6d45\u8272\u7684\u8bef\u5dee\u5e26\u6765\u5c55\u793a\u8fde\u7eed\u8bef\u5dee\uff1a</p> <pre><code># \u53ef\u89c6\u5316\u7ed3\u679c\nplt.plot(xdata, ydata, 'or')\nplt.plot(xfit, yfit, '-', color='gray')\n\nplt.fill_between(xfit, yfit - dyfit, yfit + dyfit,\n                 color='gray', alpha=0.2)\nplt.xlim(0, 10);\n</code></pre> <p></p> <p>\u6ce8\u610f\u4e0a\u9762\u6211\u4eec\u8c03\u7528<code>fill_between</code>\u51fd\u6570\uff1a\u6211\u4eec\u4f20\u9012\u4e86\u7684\u53c2\u6570\u5305\u62ec x \u503c\uff0cy \u503c\u7684\u4f4e\u9650\uff0c\u7136\u540e\u662f y \u503c\u7684\u9ad8\u9650\uff0c\u7ed3\u679c\u662f\u56fe\u8868\u4e2d\u4ecb\u4e8e\u4f4e\u9650\u548c\u9ad8\u9650\u4e4b\u95f4\u7684\u533a\u57df\u4f1a\u88ab\u586b\u5145\u3002</p> <p>\u4e0a\u56fe\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u975e\u5e38\u76f4\u89c2\u7684\u9ad8\u65af\u8fc7\u7a0b\u56de\u5f52\u5c55\u793a\uff1a\u5728\u89c2\u6d4b\u70b9\u7684\u9644\u8fd1\uff0c\u6a21\u578b\u4f1a\u88ab\u9650\u5236\u5728\u4e00\u4e2a\u5f88\u5c0f\u7684\u533a\u57df\u5185\uff0c\u53cd\u6620\u4e86\u8fd9\u4e9b\u6570\u636e\u7684\u8bef\u5dee\u6bd4\u8f83\u5c0f\u3002\u5728\u8fdc\u79bb\u89c2\u6d4b\u70b9\u7684\u533a\u57df\uff0c\u6a21\u578b\u5f00\u59cb\u53d1\u6563\uff0c\u53cd\u6620\u4e86\u8fd9\u65f6\u7684\u6570\u636e\u8bef\u5dee\u6bd4\u8f83\u5927\u3002</p> <p>\u5982\u679c\u9700\u8981\u83b7\u5f97<code>plt.fill_between</code>\uff08\u4ee5\u53ca\u7c7b\u4f3c\u7684<code>plt.fill</code>\u51fd\u6570\uff09\u66f4\u591a\u53c2\u6570\u7684\u4fe1\u606f\uff0c\u8bf7\u67e5\u9605\u51fd\u6570\u7684\u5e2e\u52a9\u6587\u6863\u6216 Matplotlib \u5728\u7ebf\u6587\u6863\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#4","title":"4.\u5bc6\u5ea6\u548c\u8f6e\u5ed3\u56fe","text":"<p>\u6709\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u5728\u4e8c\u7ef4\u56fe\u8868\u4e2d\u4f7f\u7528\u8f6e\u5ed3\u6216\u989c\u8272\u533a\u57df\u6765\u5c55\u793a\u4e09\u7ef4\u7684\u6570\u636e\uff08\u53ef\u4ee5\u8bbe\u60f3\u7b49\u9ad8\u7ebf\u5730\u56fe\u6216\u6e29\u5ea6\u5206\u5e03\u56fe\uff09\u3002Matplotlib \u63d0\u4f9b\u4e86\u4e09\u4e2a\u6709\u7528\u7684\u51fd\u6570\u6765\u5904\u7406\u8fd9\u9879\u4efb\u52a1\uff1a<code>plt.contour</code>\u7ed8\u5236\u8f6e\u5ed3\u56fe\uff0c<code>plt.contourf</code>\u6765\u7ed8\u5236\u586b\u5145\u533a\u57df\u989c\u8272\u7684\u56fe\u8868\u4ee5\u53ca<code>plt.imshow</code>\u6765\u5c55\u793a\u56fe\u50cf\u3002\u672c\u8282\u4f1a\u4ecb\u7ecd\u51e0\u4e2a\u4f7f\u7528\u5b83\u4eec\u7684\u4f8b\u5b50\u3002\u5f53\u7136\u6211\u4eec\u8fd8\u662f\u9996\u5148\u4ece\u5c06\u9700\u8981\u4f7f\u7528\u7684\u5305\u5bfc\u5165 notebook \u548c\u521d\u59cb\u5316\u5de5\u4f5c\u5f00\u59cb\uff1a</p> <pre><code>%matplotlib inline\nimport matplotlib.pyplot as plt\nplt.style.use('seaborn-white')\nimport numpy as np\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_6","title":"\u4e09\u7ef4\u53ef\u89c6\u5316\u51fd\u6570","text":"<p>\u6211\u4eec\u9996\u5148\u4f7f\u7528\u4e00\u4e2a\u7b80\u5355\u7684\u51fd\u6570 \u7ed8\u5236\u4e00\u4e2a\u8f6e\u5ed3\u56fe\u6765\u8fdb\u884c\u8bf4\u660e\uff0c\u6211\u4eec\u7528\u6765\u4f5c\u4e3a\u6570\u7ec4\u5e7f\u64ad\u8fd0\u7b97\u7684\u4f8b\u5b50\uff1a</p> <pre><code>def f(x, y):\n    return np.sin(x) ** 10 + np.cos(10 + y * x) * np.cos(x)\n</code></pre> <p>\u8f6e\u5ed3\u56fe\u53ef\u4ee5\u4f7f\u7528<code>plt.contour</code>\u51fd\u6570\u8fdb\u884c\u521b\u5efa\u3002\u5b83\u63a5\u6536\u4e09\u4e2a\u53c2\u6570\uff1ax\u53c2\u6570\u4ee3\u8868\u4e09\u7ef4\u7f51\u683c\u7684\u5e73\u9762\u6a2a\u8f74\u5750\u6807\uff0cy\u53c2\u6570\u4ee3\u8868\u4e09\u7ef4\u7f51\u683c\u7684\u5e73\u9762\u7eb5\u8f74\u5750\u6807\uff0c\u800cz\u53c2\u6570\u4ee3\u8868\u4e09\u7ef4\u7f51\u683c\u7684\u9ad8\u5ea6\u5750\u6807\u3002\u6700\u5bb9\u6613\u7528\u6765\u51c6\u5907\u8fd9\u79cd\u7f51\u683c\u6570\u636e\u7684\u662f<code>np.meshgrid</code>\u51fd\u6570\uff0c\u53ef\u4ee5\u5c06\u4e24\u4e2a\u4e00\u7ef4\u7684\u6570\u7ec4\u6784\u9020\u6210\u4e00\u4e2a\u4e8c\u7ef4\u7684\u7f51\u683c\uff1a</p> <pre><code>x = np.linspace(0, 5, 50)\ny = np.linspace(0, 5, 40)\n\nX, Y = np.meshgrid(x, y)\nZ = f(X, Y)\n</code></pre> <p>\u4e0b\u9762\u6211\u4eec\u53ef\u4ee5\u7ed8\u5236\u6807\u51c6\u7684\u8f6e\u5ed3\u7ebf\u56fe\u8868\uff1a</p> <pre><code>plt.contour(X, Y, Z, colors='black');\n</code></pre> <p></p> <p>\u56fe\u4e2d\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5f53\u4f7f\u7528\u5355\u8272\u7ed8\u5236\u8f6e\u5ed3\u56fe\u65f6\uff0c\u865a\u7ebf\u4ee3\u8868\u7684\u662f\u8d1f\u6570\u7684\u6570\u503c\uff0c\u800c\u5b9e\u7ebf\u4ee3\u8868\u7684\u662f\u6b63\u6570\u3002\u800c\u8f6e\u5ed3\u7ebf\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a<code>cmap</code>\u53c2\u6570\u6765\u8bbe\u7f6e\u7ebf\u6761\u7684\u8272\u56fe\u3002\u4e0b\u4f8b\u4e2d\u5c55\u793a\u4e86\u4f7f\u7528\u8272\u56fe\u4e14\u7ed8\u5236\u4e86\u66f4\u591a\u7684\u8f6e\u5ed3\u7ebf\u7684\u4f8b\u5b50\uff0c\u4f1a\u5728\u6574\u4e2a\u6570\u636e\u8303\u56f4\u533a\u57df\u5185\u7b49\u8ddd\u5206\u5e03\u6709 20 \u6761\u8f6e\u5ed3\u7ebf\uff1a</p> <pre><code>plt.contour(X, Y, Z, 20, cmap='RdGy');\n</code></pre> <p></p> <p>\u4e0a\u4f8b\u4e2d\u6211\u4eec\u9009\u62e9\u4e86<code>RdGy</code>\uff08Red-Gray\u7684\u7f29\u5199\uff09\u8272\u56fe\uff0c\u8fd9\u5bf9\u4e8e\u805a\u96c6\u7684\u6570\u636e\u6765\u8bf4\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\u3002Matplotlib \u6709\u5927\u91cf\u7684\u989c\u8272\u56fe\u53ef\u4f9b\u4f7f\u7528\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5728 IPython \u4e2d\u5bf9<code>plt.cm</code>\u6a21\u5757\u4f7f\u7528 TAB \u81ea\u52a8\u8865\u5168\u65b9\u6cd5\u5c31\u53ef\u4ee5\u770b\u5230\uff1a</p> <pre><code>plt.cm.&lt;TAB&gt;\n</code></pre> <p>\u4e0a\u9762\u7684\u56fe\u770b\u8d77\u6765\u6bd4\u7b2c\u4e00\u5e45\u56fe\u597d\u591a\u4e86\uff0c\u4f46\u662f\u7ebf\u6761\u4e4b\u95f4\u7684\u7a7a\u9699\u8fd8\u662f\u6709\u70b9\u8ba9\u4eba\u6df7\u6dc6\u3002\u6211\u4eec\u53ef\u4ee5\u5c06\u4e0a\u9762\u7684\u56fe\u6539\u4e3a\u586b\u5145\u8f6e\u5ed3\u56fe\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f7f\u7528<code>plt.contourf()</code>\u51fd\u6570\uff08\u6ce8\u610f\u51fd\u6570\u540d\u6700\u540e\u6709\u4e2a f\uff0c\u4ee3\u8868\u586b\u5145 fill\uff09\uff0c\u8fd9\u4e2a\u51fd\u6570\u7684\u8bed\u6cd5\u57fa\u672c\u4e0a\u4e0e<code>plt.contour()</code>\u4fdd\u6301\u4e00\u81f4\u3002</p> <p>\u5e76\u4e14\u6211\u4eec\u52a0\u4e0a\u4e86<code>plt.colorbar()</code>\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u5728\u56fe\u8868\u8fb9\u4e0a\u521b\u5efa\u4e00\u4e2a\u989c\u8272\u56fe\u4f8b\u7528\u4ee5\u5c55\u793a\u989c\u8272\u6240\u8868\u793a\u7684\u6570\u503c\u533a\u57df\uff1a</p> <pre><code>plt.contourf(X, Y, Z, 20, cmap='RdGy')\nplt.colorbar();\n</code></pre> <p></p> <p>\u6709\u4e86\u56fe\u4f8b\uff0c\u5f88\u5bb9\u6613\u53ef\u4ee5\u770b\u51fa\u9ed1\u8272\u533a\u57df\u4ee3\u8868\u7740\u201c\u5cf0\u201d\uff0c\u800c\u7ea2\u8272\u533a\u57df\u4ee3\u8868\u8fd9\u201c\u8c37\u201d\u3002</p> <p>\u4e0a\u56fe\u6709\u4e00\u4e2a\u7f3a\u70b9\uff0c\u90a3\u5c31\u662f\u56fe\u4e2d\u989c\u8272\u7684\u9636\u68af\u662f\u79bb\u6563\u7684\u800c\u4e0d\u662f\u8fde\u7eed\u7684\uff0c\u8fd9\u901a\u5e38\u4e0d\u662f\u6211\u4eec\u60f3\u8981\u7684\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u5f88\u9ad8\u7684\u8f6e\u5ed3\u7ebf\u6570\u91cf\u6765\u6539\u5584\uff0c\u4f46\u662f\u8fd9\u4f1a\u5bfc\u81f4\u7ed8\u5236\u56fe\u8868\u7684\u6027\u80fd\u964d\u4f4e\uff1aMatplotlib \u5fc5\u987b\u5728\u6bcf\u4e2a\u989c\u8272\u9636\u68af\u4e0a\u7ed8\u5236\u4e00\u6761\u65b0\u7684\u8f6e\u5ed3\u591a\u8fb9\u5f62\u3002\u66f4\u597d\u7684\u529e\u6cd5\u662f\u4f7f\u7528<code>plt.imshow()</code>\u51fd\u6570\uff0c\u5b83\u4f1a\u5c06\u4e00\u4e2a\u4e8c\u7ef4\u7684\u7f51\u683c\u56fe\u8868\u8f6c\u6362\u4e3a\u4e00\u5f20\u56fe\u50cf\u3002</p> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\u5c55\u793a\u4e86\u8be5\u65b9\u6cd5\uff1a</p> <pre><code>plt.imshow(Z, extent=[0, 5, 0, 5], origin='lower',\n           cmap='RdGy')\nplt.colorbar()\nplt.axis(aspect='image');\nC:\\Users\\gdc\\Anaconda3\\lib\\site-packages\\ipykernel_launcher.py:4: MatplotlibDeprecationWarning: Passing unsupported keyword arguments to axis() will raise a TypeError in 3.3.\n  after removing the cwd from sys.path.\n</code></pre> <p></p> <p>\u7136\u800c\uff0c\u5728\u4f7f\u7528<code>imshow()</code>\u7684\u65f6\u5019\u4e5f\u6709\u4e00\u4e9b\u5751\uff1a</p> <ul> <li><code>plt.imshow()</code>\u4e0d\u63a5\u53d7 x \u548c y \u7f51\u683c\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u56e0\u6b64\u4f60\u9700\u8981\u624b\u52a8\u6307\u5b9aextent\u53c2\u6570[xmin, xmax, ymin, ymax]\u6765\u8bbe\u7f6e\u56fe\u8868\u7684\u6570\u636e\u8303\u56f4\u3002</li> <li><code>plt.imshow()</code>\u4f7f\u7528\u7684\u662f\u9ed8\u8ba4\u7684\u56fe\u50cf\u5750\u6807\uff0c\u5373\u5de6\u4e0a\u89d2\u5750\u6807\u70b9\u662f\u539f\u70b9\uff0c\u800c\u4e0d\u662f\u901a\u5e38\u56fe\u8868\u7684\u5de6\u4e0b\u89d2\u5750\u6807\u70b9\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e<code>origin</code>\u53c2\u6570\u6765\u8bbe\u7f6e\u3002</li> <li><code>plt.imshow()</code>\u4f1a\u81ea\u52a8\u6839\u636e\u8f93\u5165\u6570\u636e\u8c03\u6574\u5750\u6807\u8f74\u7684\u6bd4\u4f8b\uff1b\u8fd9\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\u6765\u8bbe\u7f6e\uff0c\u4f8b\u5982\uff0c<code>plt.axis(aspect='image')</code>\u80fd\u8ba9 x \u548c y \u8f74\u7684\u5355\u4f4d\u4e00\u81f4\u3002</li> </ul> <p>\u6700\u540e\uff0c\u6709\u65f6\u53ef\u80fd\u9700\u8981\u5c06\u8f6e\u5ed3\u56fe\u548c\u56fe\u50cf\u7ed3\u5408\u8d77\u6765\u3002\u4f8b\u5982\uff0c\u4e0b\u4f8b\u4e2d\u6211\u4eec\u4f7f\u7528\u4e86\u534a\u900f\u660e\u7684\u80cc\u666f\u56fe\u50cf\uff08\u901a\u8fc7<code>alpha</code>\u53c2\u6570\u8bbe\u7f6e\u900f\u660e\u5ea6\uff09\uff0c\u7136\u540e\u5728\u80cc\u666f\u56fe\u5c42\u4e4b\u4e0a\u7ed8\u5236\u4e86\u8f6e\u5ed3\u56fe\uff0c\u5e76\u5e26\u6709\u6bcf\u4e2a\u8f6e\u5ed3\u7684\u6570\u503c\u6807\u7b7e\uff08\u4f7f\u7528<code>plt.clabel()</code>\u51fd\u6570\u7ed8\u5236\u6807\u7b7e\uff09\uff1a</p> <pre><code>contours = plt.contour(X, Y, Z, 3, colors='black')\nplt.clabel(contours, inline=True, fontsize=8)\n\nplt.imshow(Z, extent=[0, 5, 0, 5], origin='lower',\n           cmap='RdGy', alpha=0.5)\nplt.colorbar();\n</code></pre> <p></p> <p>\u901a\u8fc7\u7ec4\u5408\u4f7f\u7528<code>plt.contour</code>\u3001<code>plt.contourf</code>\u548c<code>plt.imshow</code>\u8fd9\u4e09\u4e2a\u51fd\u6570\uff0c\u57fa\u672c\u53ef\u4ee5\u6ee1\u8db3\u6211\u4eec\u7ed8\u5236\u6240\u6709\u8fd9\u79cd\u5728\u4e8c\u7ef4\u56fe\u6807\u4e0a\u7684\u4e09\u7ef4\u6570\u636e\u7684\u9700\u6c42\u3002\u9700\u8981\u4e86\u89e3\u66f4\u591a\u51fd\u6570\u7684\u53c2\u6570\u4fe1\u606f\uff0c\u53c2\u8003\u5b83\u4eec\u7684\u6587\u6863\u5b57\u7b26\u4e32\u3002\u5982\u679c\u4f60\u5bf9\u4e8e\u4f7f\u7528\u4e09\u7ef4\u56fe\u8868\u5c55\u793a\u8fd9\u79cd\u6570\u636e\u611f\u5174\u8da3\uff0c\u53c2\u89c1[\u5728 matplotlib \u4e2d\u521b\u5efa\u4e09\u7ef4\u56fe\u8868]\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#5","title":"5.\u76f4\u65b9\u56fe\uff0c\u5206\u6876\u548c\u5bc6\u5ea6","text":"<p>\u4e00\u4e2a\u7b80\u5355\u7684\u76f4\u65b9\u56fe\u53ef\u4ee5\u662f\u6211\u4eec\u5f00\u59cb\u7406\u89e3\u6570\u636e\u96c6\u7684\u7b2c\u4e00\u6b65\u3002\u524d\u9762\u6211\u4eec\u770b\u5230\u4e86 Matplotlib \u7684\u76f4\u65b9\u56fe\u51fd\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u884c\u4ee3\u7801\u7ed8\u5236\u57fa\u7840\u7684\u76f4\u65b9\u56fe\uff0c\u5f53\u7136\u9996\u5148\u9700\u8981\u5c06\u9700\u8981\u7528\u7684\u5305\u5bfc\u5165 notebook\uff1a</p> <pre><code>%matplotlib inline\nimport numpy as np\nimport matplotlib.pyplot as plt\nplt.style.use('seaborn-white')\n\ndata = np.random.randn(1000)\nplt.hist(data);\n</code></pre> <p></p> <p><code>hist()</code>\u51fd\u6570\u6709\u5f88\u591a\u7684\u53c2\u6570\u53ef\u4ee5\u7528\u6765\u8c03\u6574\u8fd0\u7b97\u548c\u5c55\u793a\uff1b\u4e0b\u9762\u53c8\u4e00\u4e2a\u66f4\u52a0\u4e2a\u6027\u5316\u7684\u76f4\u65b9\u56fe\u5c55\u793a\uff1a</p> <p>\u8bd1\u8005\u6ce8\uff1anormed \u53c2\u6570\u5df2\u7ecf\u8fc7\u65f6\uff0c\u6b64\u5904\u5bf9\u4ee3\u7801\u8fdb\u884c\u4e86\u76f8\u5e94\u4fee\u6539\uff0c\u4f7f\u7528\u4e86\u66ff\u4ee3\u7684 density \u53c2\u6570\u3002</p> <pre><code>plt.hist(data, bins=30, density=True, alpha=0.5,\n         histtype='stepfilled', color='steelblue',\n         edgecolor='none');\n</code></pre> <p></p> <p><code>plt.hist</code>\u6587\u6863\u4e2d\u6709\u66f4\u591a\u5173\u4e8e\u4e2a\u6027\u5316\u53c2\u6570\u7684\u4fe1\u606f\u3002\u4f5c\u8005\u53d1\u73b0\u8054\u5408\u4f7f\u7528<code>histtype='stepfilled'</code>\u548c<code>alpha</code>\u53c2\u6570\u8bbe\u7f6e\u900f\u660e\u5ea6\u5728\u5bf9\u4e0d\u540c\u5206\u5e03\u7684\u6570\u636e\u96c6\u8fdb\u884c\u6bd4\u8f83\u5c55\u793a\u65f6\u5f88\u6709\u7528\uff1a</p> <pre><code>x1 = np.random.normal(0, 0.8, 1000)\nx2 = np.random.normal(-2, 1, 1000)\nx3 = np.random.normal(3, 2, 1000)\n\nkwargs = dict(histtype='stepfilled', alpha=0.3, density=True, bins=40)\n\nplt.hist(x1, **kwargs)\nplt.hist(x2, **kwargs)\nplt.hist(x3, **kwargs);\n</code></pre> <p></p> <p>\u5982\u679c\u4f60\u53ea\u662f\u9700\u8981\u8ba1\u7b97\u76f4\u65b9\u56fe\u7684\u6570\u503c\uff08\u5373\u6bcf\u4e2a\u6876\u7684\u6570\u636e\u70b9\u6570\u91cf\uff09\u800c\u4e0d\u662f\u5c55\u793a\u56fe\u50cf\uff0c<code>np.histogram()</code>\u51fd\u6570\u53ef\u4ee5\u5b8c\u6210\u8fd9\u4e2a\u76ee\u6807\uff1a</p> <pre><code>counts, bin_edges = np.histogram(data, bins=5)\nprint(counts)\n[ 49 273 471 183  24]\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_7","title":"\u4e8c\u7ef4\u76f4\u65b9\u56fe\u548c\u5206\u6876","text":"<p>\u6b63\u5982\u524d\u9762\u6211\u4eec\u53ef\u4ee5\u5728\u4e00\u7ef4\u4e0a\u4f7f\u7528\u6570\u503c\u5bf9\u5e94\u7684\u76f4\u7ebf\u5212\u5206\u6876\u4e00\u6837\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728\u4e8c\u7ef4\u4e0a\u4f7f\u7528\u6570\u636e\u5bf9\u5e94\u7684\u70b9\u6765\u5212\u5206\u6876\u3002\u672c\u8282\u6211\u4eec\u4ecb\u7ecd\u51e0\u79cd\u5b9e\u73b0\u7684\u65b9\u6cd5\u3002\u9996\u5148\u5b9a\u4e49\u6570\u636e\u96c6\uff0c\u4ece\u591a\u5143\u9ad8\u65af\u5206\u5e03\u4e2d\u83b7\u5f97<code>x</code>\u548c<code>y</code>\u6570\u7ec4\uff1a</p> <pre><code>mean = [0, 0]\ncov = [[1, 1], [1, 2]]\nx, y = np.random.multivariate_normal(mean, cov, 10000).T\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#plthist2d","title":"<code>plt.hist2d</code>\uff1a\u4e8c\u7ef4\u76f4\u65b9\u56fe","text":"<p>\u7ed8\u5236\u4e8c\u7ef4\u76f4\u65b9\u56fe\u6700\u76f4\u63a5\u7684\u65b9\u6cd5\u662f\u4f7f\u7528 Matplotlib \u7684<code>plt.hist2d</code>\u51fd\u6570\uff1a</p> <pre><code>plt.hist2d(x, y, bins=30, cmap='Blues')\ncb = plt.colorbar()\ncb.set_label('counts in bin')\n</code></pre> <p></p> <p>\u7c7b\u4f3c<code>plt.hist</code>\uff0c<code>plt.hist2d</code>\u6709\u8bb8\u591a\u989d\u5916\u7684\u53c2\u6570\u6765\u8c03\u6574\u5206\u6876\u8ba1\u7b97\u548c\u56fe\u8868\u5c55\u793a\uff0c\u53ef\u4ee5\u901a\u8fc7\u6587\u6863\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002\u800c\u4e14\uff0c<code>plt.hist</code>\u6709<code>np.histogram</code>\uff0c<code>plt.hist2d</code>\u4e5f\u6709\u5176\u5bf9\u5e94\u7684\u51fd\u6570<code>np.histogram2d</code>\u3002\u5982\u4e0b\u4f8b\uff1a</p> <pre><code>counts, xedges, yedges = np.histogram2d(x, y, bins=30)\n</code></pre> <p>\u5982\u679c\u8981\u83b7\u5f97\u66f4\u9ad8\u7ef4\u5ea6\u7684\u5206\u6876\u7ed3\u679c\uff0c\u53c2\u89c1<code>np.histogramdd</code>\u51fd\u6570\u6587\u6863\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#plthexbin","title":"<code>plt.hexbin</code>\uff1a\u516d\u89d2\u5f62\u5206\u6876","text":"<p>\u521a\u624d\u7684\u4e8c\u7ef4\u5206\u6876\u662f\u6cbf\u7740\u5750\u6807\u8f74\u5c06\u6bcf\u4e2a\u6876\u5206\u4e3a\u6b63\u65b9\u5f62\u3002\u53e6\u4e00\u4e2a\u5f88\u81ea\u7136\u7684\u5206\u6876\u5f62\u72b6\u5c31\u662f\u6b63\u516d\u8fb9\u5f62\u3002\u5bf9\u4e8e\u8fd9\u4e2a\u9700\u6c42\uff0cMatplotlib \u63d0\u4f9b\u4e86<code>plt.hexbin</code>\u51fd\u6570\uff0c\u5b83\u4e5f\u662f\u5728\u4e8c\u7ef4\u5e73\u9762\u4e0a\u5206\u6876\u5c55\u793a\uff0c\u4e0d\u8fc7\u6bcf\u4e2a\u6876\uff08\u5373\u56fe\u8868\u4e0a\u7684\u6bcf\u4e2a\u6570\u636e\u683c\uff09\u5c06\u4f1a\u662f\u516d\u8fb9\u5f62\uff1a</p> <pre><code>plt.hexbin(x, y, gridsize=30, cmap='Blues')\ncb = plt.colorbar(label='count in bin')\n</code></pre> <p></p> <p><code>plt.hexbin</code>\u6709\u8bb8\u591a\u6709\u8da3\u7684\u53c2\u6570\uff0c\u5305\u62ec\u80fd\u5bf9\u6bcf\u4e2a\u70b9\u8bbe\u7f6e\u6743\u91cd\u548c\u5c06\u6bcf\u4e2a\u6876\u7684\u8f93\u51fa\u6570\u636e\u7ed3\u679c\u6539\u4e3a\u4efb\u610f\u7684 NumPy \u805a\u5408\u7ed3\u679c\uff08\u5e26\u6743\u91cd\u7684\u5e73\u5747\u503c\uff0c\u5e26\u6743\u91cd\u7684\u6807\u51c6\u5dee\u7b49\uff09\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_8","title":"\u6838\u5bc6\u5ea6\u4f30\u8ba1","text":"<p>\u53e6\u5916\u4e00\u4e2a\u5e38\u7528\u6765\u7edf\u8ba1\u591a\u7ef4\u6570\u636e\u5bc6\u5ea6\u7684\u5de5\u5177\u662f\u6838\u5bc6\u5ea6\u4f30\u8ba1\uff08KDE\uff09\u3002\u8fd9\u76ee\u524d\u6211\u4eec\u53ea\u9700\u8981\u77e5\u9053 KDE \u88ab\u8ba4\u4e3a\u662f\u4e00\u79cd\u53ef\u4ee5\u7528\u6765\u586b\u8865\u6570\u636e\u7684\u7a7a\u9699\u5e76\u8865\u5145\u4e0a\u5e73\u6ed1\u53d8\u5316\u6570\u636e\u7684\u65b9\u6cd5\u5c31\u8db3\u591f\u4e86\u3002\u5feb\u901f\u548c\u7b80\u5355\u7684 KDE \u7b97\u6cd5\u5df2\u7ecf\u5728<code>scipy.stats</code>\u6a21\u5757\u4e2d\u6709\u4e86\u6210\u719f\u7684\u5b9e\u73b0\u3002\u4e0b\u9762\u6211\u4eec\u5c31\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u6765\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 KDE \u548c\u7ed8\u5236\u76f8\u5e94\u7684\u4e8c\u7ef4\u76f4\u65b9\u56fe\uff1a</p> <pre><code>from scipy.stats import gaussian_kde\n\n# \u4ea7\u751f\u548c\u5904\u7406\u6570\u636e\uff0c\u521d\u59cb\u5316KDE\ndata = np.vstack([x, y])\nkde = gaussian_kde(data)\n\n# \u5728\u901a\u7528\u7684\u7f51\u683c\u4e2d\u8ba1\u7b97\u5f97\u5230Z\u7684\u503c\nxgrid = np.linspace(-3.5, 3.5, 40)\nygrid = np.linspace(-6, 6, 40)\nXgrid, Ygrid = np.meshgrid(xgrid, ygrid)\nZ = kde.evaluate(np.vstack([Xgrid.ravel(), Ygrid.ravel()]))\n\n# \u5c06\u56fe\u8868\u7ed8\u5236\u6210\u4e00\u5f20\u56fe\u50cf\nplt.imshow(Z.reshape(Xgrid.shape),\n           origin='lower', aspect='auto',\n           extent=[-3.5, 3.5, -6, 6],\n           cmap='Blues')\ncb = plt.colorbar()\ncb.set_label(\"density\")\n</code></pre> <p></p> <p>KDE \u6709\u7740\u5149\u6ed1\u7684\u957f\u5ea6\uff0c\u53ef\u4ee5\u5728\u7ec6\u8282\u548c\u5149\u6ed1\u5ea6\u4e2d\u6709\u6548\u7684\u8fdb\u884c\u8c03\u8282\uff08\u4e00\u4e2a\u4f8b\u5b50\u662f\u65b9\u5dee\u504f\u5dee\u6743\u8861\uff09\u3002\u8fd9\u65b9\u9762\u6709\u5927\u91cf\u7684\u6587\u732e\u4ecb\u7ecd\uff1a\u9ad8\u65af\u6838\u5bc6\u5ea6\u4f30\u8ba1<code>gaussian_kde</code>\u4f7f\u7528\u4e86\u7ecf\u9a8c\u6cd5\u5219\u6765\u5bfb\u627e\u8f93\u5165\u6570\u636e\u9644\u8fd1\u7684\u4f18\u5316\u5149\u6ed1\u957f\u5ea6\u503c\u3002</p> <p>\u5176\u4ed6\u7684 KDE \u5b9e\u73b0\u4e5f\u53ef\u4ee5\u5728 SciPy \u4e2d\u627e\u5230\uff0c\u6bcf\u4e00\u79cd\u90fd\u6709\u5b83\u7684\u4f18\u70b9\u548c\u7f3a\u70b9\uff1b\u53c2\u89c1<code>sklearn.neighbors.KernelDensity</code>\u548c<code>statsmodels.nonparametric.kernel_density.KDEMultivariate</code>\u3002\u8981\u7ed8\u5236\u57fa\u4e8e KDE \u8fdb\u884c\u53ef\u89c6\u5316\u7684\u56fe\u8868\uff0cMatplotlib \u5199\u51fa\u7684\u4ee3\u7801\u4f1a\u6bd4\u8f83\u5197\u957f\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#6","title":"6.\u81ea\u5b9a\u4e49\u56fe\u6807\u56fe\u4f8b","text":"<p>\u56fe\u4f8b\u53ef\u4ee5\u4e3a\u53ef\u89c6\u5316\u8d4b\u4e88\u5b9e\u9645\u542b\u4e49\uff0c\u4e3a\u4e0d\u540c\u7684\u56fe\u6807\u5143\u7d20\u9644\u4e0a\u660e\u786e\u8bf4\u660e\u3002\u6211\u4eec\u524d\u9762\u770b\u5230\u4e86\u4e00\u4e9b\u7b80\u5355\u7684\u56fe\u4f8b\u521b\u5efa\u4f8b\u5b50\uff1b\u672c\u5c0f\u8282\u4e2d\u6211\u4eec\u6765\u4ecb\u7ecd\u4e00\u4e0b\u5728 Matplotlib \u4e2d\u81ea\u5b9a\u4e49\u56fe\u4f8b\u7684\u4f4d\u7f6e\u548c\u8fdb\u884c\u7f8e\u5316\u7684\u65b9\u6cd5\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528<code>plt.legend()</code>\u51fd\u6570\u6765\u521b\u5efa\u6700\u7b80\u5355\u7684\u56fe\u4f8b\uff0c\u8fd9\u4e2a\u51fd\u6570\u80fd\u81ea\u52a8\u521b\u5efa\u4efb\u4f55\u5e26\u6709\u6807\u7b7e\u5c5e\u6027\u7684\u56fe\u8868\u5143\u7d20\u7684\u56fe\u4f8b\uff1a</p> <pre><code>import matplotlib.pyplot as plt\nplt.style.use('classic')\n%matplotlib inline\nimport numpy as np\nx = np.linspace(0, 10, 1000)\nfig, ax = plt.subplots()\nax.plot(x, np.sin(x), '-b', label='Sine')\nax.plot(x, np.cos(x), '--r', label='Cosine')\nax.axis('equal')\nleg = ax.legend();\n</code></pre> <p></p> <p>\u4f46\u9664\u6b64\u4e4b\u5916\u8fd8\u6709\u5f88\u591a\u80fd\u81ea\u5b9a\u4e49\u56fe\u4f8b\u7684\u65b9\u6cd5\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u6307\u5b9a\u56fe\u4f8b\u4f4d\u7f6e\u5e76\u4e14\u53bb\u9664\u8fb9\u6846\uff1a</p> <pre><code>ax.legend(loc='upper left', frameon=False)\nfig\n</code></pre> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>ncol</code>\u5c5e\u6027\u8bbe\u7f6e\u56fe\u4f8b\u4e2d\u6bcf\u884c\u7684\u5217\u6570\uff1a</p> <pre><code>ax.legend(frameon=False, loc='lower center', ncol=2)\nfig\n</code></pre> <p></p> <p>\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5706\u89d2\u65b9\u6846\uff08<code>fancybox</code>\uff09\u6216\u8005\u589e\u52a0\u9634\u5f71\uff0c\u8bbe\u7f6e\u65b9\u6846\u7684\u900f\u660e\u5ea6\uff08alpha \u503c\uff09\u6216\u4fee\u6539\u6587\u5b57\u7684\u8fb9\u8ddd\uff1a</p> <pre><code>ax.legend(fancybox=True, framealpha=1, shadow=True, borderpad=1)\nfig\n</code></pre> <p></p> <p>\u8981\u83b7\u53d6\u66f4\u591a legend \u51fd\u6570\u7684\u53ef\u7528\u9009\u9879\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003<code>plt.legend</code>\u7684\u6587\u6863\u5b57\u7b26\u4e32\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_9","title":"\u9009\u62e9\u8bbe\u7f6e\u56fe\u4f8b\u7684\u5143\u7d20","text":"<p>\u6b63\u5982\u6211\u4eec\u524d\u9762\u4f8b\u5b50\u6240\u793a\uff0c\u7ed8\u5236\u7684\u56fe\u4f8b\u9ed8\u8ba4\u5305\u62ec\u6240\u6709\u5e26\u6807\u7b7e\u7684\u5143\u7d20\u3002\u5982\u679c\u8fd9\u4e0d\u662f\u60f3\u8981\u7684\u6548\u679c\uff0c\u6211\u4eec\u53ef\u4ee5\u8c03\u6574\u54ea\u4e9b\u5143\u7d20\u548c\u6807\u7b7e\u4f1a\u51fa\u73b0\u5728\u56fe\u4f8b\u5f53\u4e2d\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e plot \u51fd\u6570\u6216\u65b9\u6cd5\u8fd4\u56de\u7684\u5bf9\u8c61\u5b9e\u73b0\u3002<code>plt.plot</code>\u51fd\u6570\u80fd\u591f\u540c\u65f6\u4ea7\u751f\u591a\u6761\u6298\u7ebf\uff0c\u7136\u540e\u5c06\u8fd9\u4e9b\u7ebf\u6761\u7684\u5b9e\u4f8b\u5217\u8868\u8fd4\u56de\u3002\u5c06\u5176\u4e2d\u7684\u90e8\u5206\u5b9e\u4f8b\u4f20\u9012\u5230<code>plt.legend()</code>\u51fd\u6570\u5c31\u80fd\u8bbe\u7f6e\u54ea\u4e9b\u7ebf\u6761\u4f1a\u51fa\u73b0\u5728\u56fe\u4f8b\u4e2d\uff0c\u518d\u901a\u8fc7\u4e00\u4e2a\u6807\u7b7e\u7684\u5217\u8868\u6307\u5b9a\u56fe\u4f8b\u7684\u540d\u79f0\uff1a</p> <pre><code>y = np.sin(x[:, np.newaxis] + np.pi * np.arange(0, 2, 0.5))\nlines = plt.plot(x, y)\n\n# lines\u662f\u4e00\u4e2a\u7ebf\u6761\u5b9e\u4f8b\u7684\u5217\u8868\nplt.legend(lines[:2], ['first', 'second']);\n</code></pre> <p></p> <p>\u4f5c\u8005\u66f4\u52a0\u503e\u5411\u4e8e\u4f7f\u7528\u7b2c\u4e00\u79cd\u65b9\u5f0f\uff0c\u56e0\u4e3a\u66f4\u52a0\u6e05\u6670\u3002\u901a\u8fc7\u5c06\u6807\u7b7e\u5e94\u7528\u5728\u56fe\u8868\u5143\u7d20\u4e0a\uff0c\u7136\u540e\u7ed8\u5236\u5230\u56fe\u4f8b\u4e2d\uff1a</p> <pre><code>plt.plot(x, y[:, 0], label='first')\nplt.plot(x, y[:, 1], label='second')\nplt.plot(x, y[:, 2:])\nplt.legend(framealpha=1, frameon=True);\n</code></pre> <p></p> <p>\u8bf7\u6ce8\u610f\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0clegend \u4f1a\u5ffd\u7565\u6240\u6709\u4e0d\u5e26\u6807\u7b7e\u7684\u5143\u7d20\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_10","title":"\u6563\u70b9\u5927\u5c0f\u7684\u56fe\u4f8b","text":"<p>\u67d0\u4e9b\u60c5\u51b5\u4e0b\u9ed8\u8ba4\u7684\u56fe\u4f8b\u4e0d\u8db3\u4ee5\u6ee1\u8db3\u7279\u5b9a\u7684\u53ef\u89c6\u5316\u9700\u6c42\u3002\u4f8b\u5982\uff0c\u4f60\u5728\u4f7f\u7528\u6563\u70b9\u7684\u5927\u5c0f\u6765\u6807\u8bb0\u6570\u636e\u7684\u67d0\u4e2a\u7279\u5f81\uff0c\u7136\u540e\u5e0c\u671b\u521b\u5efa\u4e00\u4e2a\u76f8\u5e94\u7684\u56fe\u4f8b\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u52a0\u5dde\u57ce\u5e02\u4eba\u53e3\u7684\u6563\u70b9\u56fe\uff0c\u6211\u4eec\u4f7f\u7528\u6563\u70b9\u7684\u5927\u5c0f\u8868\u73b0\u8be5\u57ce\u5e02\u7684\u9762\u79ef\uff0c\u6563\u70b9\u7684\u989c\u8272\u6765\u8868\u73b0\u57ce\u5e02\u7684\u4eba\u53e3\u6570\u91cf\uff08\u81ea\u7136\u5bf9\u6570\u503c\uff09\u3002\u6211\u4eec\u5e0c\u671b\u4f7f\u7528\u4e00\u4e2a\u56fe\u4f8b\u6765\u6307\u660e\u6563\u70b9\u5c3a\u5bf8\u7684\u6bd4\u4f8b\uff0c\u540c\u65f6\u7528\u4e00\u4e2a\u989c\u8272\u6761\u6765\u8bf4\u660e\u4eba\u53e3\u6570\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u7ed8\u5236\u4e00\u4e9b\u6807\u7b7e\u6570\u636e\u6765\u5b9e\u73b0\u5c3a\u5bf8\u56fe\u4f8b\uff1a</p> <p>\u8bd1\u8005\u6ce8\uff1a\u65b0\u7248 Matplotlib \u5df2\u7ecf\u53d6\u6d88 aspect \u53c2\u6570\uff0c\u6b64\u5904\u6539\u4e3a\u4f7f\u7528\u65b0\u7684<code>'scaled'</code>\u53c2\u6570\u8c03\u7528 axis \u51fd\u6570\u3002</p> <pre><code>import pandas as pd\ncities = pd.read_csv(r'D:\\python\\Github\u5b66\u4e60\u6750\u6599\\Python\u6570\u636e\u79d1\u5b66\u624b\u518c\\data\\california_cities.csv')\n\n# \u63d0\u53d6\u6211\u4eec\u611f\u5174\u8da3\u7684\u6570\u636e\nlat, lon = cities['latd'], cities['longd']\npopulation, area = cities['population_total'], cities['area_total_km2']\n\n# \u7ed8\u5236\u6563\u70b9\u56fe\uff0c\u4f7f\u7528\u5c3a\u5bf8\u4ee3\u8868\u9762\u79ef\uff0c\u989c\u8272\u4ee3\u8868\u4eba\u53e3\uff0c\u4e0d\u5e26\u6807\u7b7e\nplt.scatter(lon, lat, label=None,\n            c=np.log10(population), cmap='viridis',\n            s=area, linewidth=0, alpha=0.5)\nplt.axis('scaled')\nplt.xlabel('longitude')\nplt.ylabel('latitude')\nplt.colorbar(label='log$_{10}$(population)')\nplt.clim(3, 7)\n\n# \u4e0b\u9762\u6211\u4eec\u521b\u5efa\u56fe\u4f8b\uff1a\n# \u4f7f\u7528\u7a7a\u5217\u8868\u7ed8\u5236\u56fe\u4f8b\u4e2d\u7684\u6563\u70b9\uff0c\u4f7f\u7528\u4e0d\u540c\u9762\u79ef\u548c\u6807\u7b7e\uff0c\u5e26\u900f\u660e\u5ea6\nfor area in [100, 300, 500]:\n    plt.scatter([], [], c='k', alpha=0.3, s=area,\n                label=str(area) + ' km$^2$')\nplt.legend(scatterpoints=1, frameon=False, labelspacing=1, title='City Area')\n\nplt.title('California Cities: Area and Population');\n</code></pre> <p></p> <p>\u4e4b\u524d\u7684\u56fe\u4f8b\u90fd\u5173\u8054\u7740\u56fe\u8868\u4e0a\u7684\u4e00\u4e9b\u5bf9\u8c61\uff0c\u56e0\u6b64\u5982\u679c\u6211\u4eec\u9700\u8981\u5c55\u793a\u56fe\u4f8b\u7684\u8bdd\u6211\u4eec\u9996\u5148\u9700\u8981\u7ed8\u5236\u56fe\u8868\u5143\u7d20\u3002\u5728\u4e0a\u4f8b\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u7684\u56fe\u4f8b\u5bf9\u8c61\uff08\u7070\u8272\u5706\u5708\uff09\u4e0d\u5728\u56fe\u8868\u4e0a\uff0c\u56e0\u6b64\u6211\u4eec\u91c7\u7528\u7ed8\u5236\u7a7a\u5217\u8868\u7684\u65b9\u5f0f\u5c06\u5b83\u4eec\u4eff\u9020\u5728\u56fe\u8868\u4e0a\uff08\u5b9e\u9645\u4e0a\u56fe\u4e0a\u6ca1\u6709\u70b9\uff09\uff0c\u4f46\u662f\u8fd8\u662f\u9700\u8981\u6ce8\u610f\uff0c\u53ea\u6709\u90a3\u4e9b\u5e26\u6807\u7b7e\u7684\u5143\u7d20\u624d\u4f1a\u51fa\u73b0\u5728\u56fe\u4f8b\u4e2d\u3002</p> <p>\u901a\u8fc7\u7ed8\u5236\u7a7a\u5217\u8868\uff0c\u6211\u4eec\u521b\u5efa\u4e86\u4e09\u4e2a\u5e26\u6807\u7b7e\u7684\u5bf9\u8c61\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u51fa\u73b0\u5728\u56fe\u4f8b\u5f53\u4e2d\uff0c\u8fd9\u4e2a\u56fe\u4f8b\u5c31\u80fd\u8868\u793a\u51fa\u6709\u5173\u57ce\u5e02\u9762\u79ef\u7684\u76f8\u5173\u4fe1\u606f\u3002\u8fd9\u4e2a\u7b56\u7565\u5728\u5f88\u591a\u590d\u6742\u53ef\u89c6\u5316\u56fe\u8868\u6784\u5efa\u8fc7\u7a0b\u4e2d\u90fd\u88ab\u7528\u5230\u3002</p> <p>\u6700\u540e\u6211\u4eec\u6ce8\u610f\u5230\u8fd9\u4e2a\u56fe\u8868\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u5730\u7406\u4f4d\u7f6e\u56fe\u8868\uff0c\u5982\u679c\u6211\u4eec\u80fd\u5728\u4e0a\u9762\u7ed8\u5236\u5dde\u754c\u7ebf\u6216\u5176\u4ed6\u5730\u56fe\u76f8\u5173\u7684\u5143\u7d20\u7684\u8bdd\uff0c\u4f1a\u66f4\u52a0\u6e05\u6670\u3002Matplotlib \u63d0\u4f9b\u4e86\u4e00\u4e2a Basemap \u989d\u5916\u5de5\u5177\u96c6\u6765\u5b9e\u73b0\u8fd9\u4e2a\u76ee\u6807\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_11","title":"\u591a\u91cd\u56fe\u4f8b","text":"<p>\u6709\u65f6\u5019\u6211\u4eec\u53ef\u80fd\u9700\u8981\u5728\u540c\u4e00\u4e2a\u56fe\u8868\u7ef4\u5ea6\u4e2d\u8bbe\u8ba1\u591a\u4e2a\u56fe\u4f8b\u3002\u4e0d\u5e78\u7684\u662f\uff0cMatplotlib \u5e76\u6ca1\u6709\u63d0\u4f9b\u5f88\u7b80\u5355\u7684\u65b9\u5f0f\u5b9e\u73b0\uff1a\u901a\u8fc7\u6807\u51c6\u7684<code>legend</code>\u63a5\u53e3\uff0c\u53ea\u80fd\u5728\u6574\u5f20\u56fe\u8868\u4e0a\u521b\u5efa\u4e00\u4e2a\u56fe\u4f8b\u3002\u5982\u679c\u4f60\u8bd5\u56fe\u4f7f\u7528<code>plt.legend()</code>\u6216<code>ax.legend()</code>\u521b\u5efa\u7b2c\u4e8c\u4e2a\u56fe\u4f8b\uff0c\u90a3\u4e48\u7b2c\u4e8c\u6761\u8bed\u53e5\u521b\u5efa\u7684\u56fe\u4f8b\u4f1a\u8986\u76d6\u7b2c\u4e00\u6761\u8bed\u53e5\u521b\u5efa\u7684\u3002\u6211\u4eec\u53ea\u80fd\u901a\u8fc7\u4ece\u5e95\u5c42\u5f00\u59cb\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u56fe\u4f8b artist \u8fd9\u79cd\u65b9\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u7136\u540e\u4f7f\u7528<code>ax.add_artist()</code>\u7684\u5e95\u5c42\u65b9\u6cd5\u624b\u52a8\u5c06\u7b2c\u4e8c\u4e2a\u4f5c\u8005\u52a0\u5230\u56fe\u8868\u4e0a\uff1a</p> <pre><code>fig, ax = plt.subplots()\n\nlines = []\nstyles = ['-', '--', '-.', ':']\nx = np.linspace(0, 10, 1000)\n\nfor i in range(4):\n    lines += ax.plot(x, np.sin(x - i * np.pi / 2),\n                     styles[i], color='black')\nax.axis('equal')\n\n# \u6307\u5b9a\u7b2c\u4e00\u4e2a\u56fe\u4f8b\u7684\u7ebf\u6761\u548c\u6807\u7b7e\nax.legend(lines[:2], ['line A', 'line B'],\n          loc='upper right', frameon=False)\n\n# \u624b\u52a8\u521b\u5efa\u7b2c\u4e8c\u4e2a\u56fe\u4f8b\uff0c\u5e76\u5c06\u4f5c\u8005\u6dfb\u52a0\u5230\u56fe\u8868\u4e2d\nfrom matplotlib.legend import Legend\nleg = Legend(ax, lines[2:], ['line C', 'line D'],\n             loc='lower right', frameon=False)\nax.add_artist(leg);\n</code></pre> <p></p> <p>\u4e0a\u4f8b\u5c55\u793a\u4e86\u7528\u6765\u7ec4\u6210\u4efb\u4f55 Matplotlib \u56fe\u8868\u7684\u5e95\u5c42 artist \u5bf9\u8c61\u7684\u7b80\u5355\u8bf4\u660e\u3002\u5982\u679c\u4f60\u53bb\u67e5\u770b<code>ax.legend()</code>\u7684\u6e90\u4ee3\u7801\uff08\u4f60\u53ef\u4ee5\u901a\u8fc7 IPython \u7684<code>ax.legend??</code>\u5e2e\u52a9\u5de5\u5177\u505a\u5230\uff09\uff0c\u4f60\u53ef\u4ee5\u770b\u5230\u8fd9\u4e2a\u65b9\u6cd5\u5305\u542b\u4e86\u7528\u6765\u6784\u5efa\u5408\u9002<code>Legend</code>\u7684 artist \u5bf9\u8c61\u7684\u903b\u8f91\uff0c\u6784\u5efa\u7684\u5bf9\u8c61\u88ab\u4fdd\u5b58\u5728<code>legend_</code>\u5c5e\u6027\u5f53\u4e2d\uff0c\u5f53\u7ed8\u5236\u65f6\u88ab\u6dfb\u52a0\u5230\u56fe\u8868\u4e0a\u8fdb\u884c\u5c55\u793a\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#7","title":"7.\u4e2a\u6027\u5316\u989c\u8272\u6761","text":"<p>\u56fe\u4f8b\u53ef\u4ee5\u5c06\u79bb\u6563\u7684\u70b9\u6807\u793a\u4e3a\u79bb\u6563\u7684\u6807\u7b7e\u3002\u5bf9\u4e8e\u5efa\u7acb\u5728\u4e0d\u540c\u989c\u8272\u4e4b\u4e0a\u7684\u8fde\u7eed\u7684\u503c\uff08\u70b9\u7ebf\u9762\uff09\u6765\u8bf4\uff0c\u6807\u6ce8\u4e86\u7684\u989c\u8272\u6761\u662f\u975e\u5e38\u65b9\u4fbf\u7684\u5de5\u5177\u3002Matplotlib \u7684\u989c\u8272\u6761\u662f\u72ec\u7acb\u4e8e\u56fe\u8868\u4e4b\u5916\u7684\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u6bd4\u8272\u5361\u7684\u56fe\u5f62\uff0c\u7528\u6765\u5c55\u793a\u56fe\u8868\u4e2d\u4e0d\u540c\u989c\u8272\u7684\u6570\u503c\u542b\u4e49\u3002\u56e0\u4e3a\u672c\u4e66\u662f\u4f7f\u7528\u9ed1\u767d\u6253\u5370\u7684\uff0c\u672c\u8282\u5185\u5bb9\u4e2d\u7684\u6240\u6709\u5e26\u8272\u5f69\u7684\u56fe\u90fd\u53ef\u4ee5\u5728(https://github.com/wangyingsm/Python-Data-Science-Handbook)\u4e2d\u627e\u5230\u3002\u6211\u4eec\u8fd8\u662f\u9996\u5148\u5bfc\u5165\u672c\u8282\u9700\u8981\u7684\u5305\u548c\u6a21\u5757\uff1a</p> <pre><code>import matplotlib.pyplot as plt\nplt.style.use('classic')\n%matplotlib inline\nimport numpy as np\n</code></pre> <p>\u901a\u8fc7<code>plt.colorbar</code>\u51fd\u6570\u53ef\u4ee5\u521b\u5efa\u6700\u7b80\u5355\u7684\u989c\u8272\u6761\uff0c\u5728\u672c\u8282\u4e2d\u6211\u4eec\u4f1a\u591a\u6b21\u770b\u5230\uff1a</p> <pre><code>x = np.linspace(0, 10, 1000)\nI = np.sin(x) * np.cos(x[:, np.newaxis])\n\nplt.imshow(I)\nplt.colorbar();\n</code></pre> <p></p> <p>\u6211\u4eec\u4e0b\u9762\u6765\u8ba8\u8bba\u5982\u4f55\u4e2a\u6027\u5316\u989c\u8272\u6761\u4ee5\u53ca\u5728\u4e0d\u540c\u7684\u573a\u5408\u9ad8\u6548\u7684\u4f7f\u7528\u5b83\u4eec\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_12","title":"\u81ea\u5b9a\u4e49\u989c\u8272\u6761","text":"<p>\u989c\u8272\u6761\u53ef\u4ee5\u901a\u8fc7<code>cmap</code>\u53c2\u6570\u6307\u5b9a\u4f7f\u7528\u7684\u8272\u8c31\u7cfb\u7edf\uff08\u6216\u53eb\u8272\u56fe\uff09\uff1a</p> <pre><code>plt.imshow(I, cmap='gray');\n</code></pre> <p></p> <p>\u6240\u6709\u53ef\u7528\u7684\u8272\u56fe\u90fd\u53ef\u4ee5\u5728<code>plt.cm</code>\u6a21\u5757\u4e2d\u627e\u5230\uff1b\u5728 IPython \u4e2d\u4f7f\u7528 Tab \u81ea\u52a8\u8865\u5168\u529f\u80fd\u80fd\u5217\u51fa\u6240\u6709\u7684\u8272\u56fe\u5217\u8868\uff1a</p> <pre><code>plt.cm.&lt;TAB&gt;\n</code></pre> <p>\u4f46\u662f\u77e5\u9053\u5728\u54ea\u91cc\u9009\u62e9\u8272\u56fe\u53ea\u662f\u7b2c\u4e00\u6b65\uff1a\u66f4\u91cd\u8981\u7684\u662f\u5728\u5404\u79cd\u9009\u9879\u4e2d\u9009\u51fa\u5408\u9002\u7684\u8272\u56fe\u3002\u8fd9\u4e2a\u9009\u62e9\u6bd4\u4f60\u9884\u6599\u7684\u8981\u5fae\u5999\u7684\u591a\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_13","title":"\u9009\u62e9\u8272\u56fe","text":"<p>\u5728\u53ef\u89c6\u5316\u65b9\u6848\u4e2d\u9009\u62e9\u989c\u8272\u5b8c\u6574\u7684\u4ecb\u7ecd\u8bf4\u660e\u8d85\u51fa\u4e86\u672c\u4e66\u7684\u8303\u56f4\uff0c\u5982\u679c\u4f60\u5bf9\u8fd9\u4e2a\u8bfe\u9898\u548c\u76f8\u5173\u5185\u5bb9\u6709\u5174\u8da3\uff0c\u53ef\u4ee5\u53c2\u8003\u6587\u7ae0\"\u7ed8\u5236\u66f4\u6f02\u4eae\u56fe\u8868\u7684 10 \u4e2a\u7b80\u5355\u89c4\u5219\"\u3002Matplotlib \u7684\u5728\u7ebf\u6587\u6863\u4e5f\u6709\u4e00\u7ae0\u5173\u4e8e\u8272\u56fe\u9009\u62e9\u7684\u6709\u8da3\u8ba8\u8bba[5]\u3002</p> <p>\u901a\u5e38\u6765\u8bf4\uff0c\u4f60\u5e94\u8be5\u6ce8\u610f\u4ee5\u4e0b\u4e09\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u8272\u56fe\uff1a</p> <ul> <li>\u5e8f\u5217\u8272\u56fe\uff1a\u8fd9\u7c7b\u578b\u7684\u8272\u8c31\u53ea\u5305\u62ec\u4e00\u4e2a\u8fde\u7eed\u5e8f\u5217\u7684\u8272\u7cfb\uff08\u4f8b\u5982<code>binary</code>\u6216<code>viridis</code>\uff09\u3002</li> <li>\u5206\u5316\u8272\u56fe\uff1a\u8fd9\u7c7b\u578b\u7684\u8272\u8c31\u5305\u62ec\u4e24\u79cd\u72ec\u7acb\u7684\u8272\u7cfb\uff0c\u8fd9\u4e24\u79cd\u989c\u8272\u6709\u7740\u975e\u5e38\u5927\u7684\u5bf9\u6bd4\u5ea6\uff08\u4f8b\u5982<code>RdBu</code>\u6216<code>PuOr</code>\uff09\u3002</li> <li>\u5b9a\u6027\u8272\u56fe\uff1a\u8fd9\u7c7b\u578b\u7684\u8272\u56fe\u6df7\u5408\u4e86\u975e\u7279\u5b9a\u8fde\u7eed\u5e8f\u5217\u7684\u989c\u8272\uff08\u4f8b\u5982<code>rainbow</code>\u6216<code>jet</code>\uff09\u3002</li> </ul> <p><code>jet</code>\u8272\u56fe\uff0c\u5728 Matplotlib 2.0 \u7248\u672c\u4e4b\u524d\u90fd\u662f\u9ed8\u8ba4\u7684\u8272\u56fe\uff0c\u662f\u5b9a\u6027\u8272\u56fe\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002<code>jet</code>\u4f5c\u4e3a\u9ed8\u8ba4\u8272\u56fe\u7684\u4f4d\u7f6e\u5176\u5b9e\u6709\u70b9\u5c34\u5c2c\uff0c\u56e0\u4e3a\u5b9a\u6027\u56fe\u901a\u5e38\u90fd\u4e0d\u662f\u5bf9\u5b9a\u91cf\u6570\u636e\u8fdb\u884c\u5c55\u793a\u7684\u597d\u9009\u62e9\u3002\u539f\u56e0\u662f\u5b9a\u6027\u56fe\u901a\u5e38\u90fd\u4e0d\u80fd\u5728\u8303\u56f4\u589e\u52a0\u65f6\u63d0\u4f9b\u4eae\u5ea6\u7684\u5747\u5300\u589e\u957f\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5c06<code>jet</code>\u989c\u8272\u6761\u8f6c\u6362\u4e3a\u9ed1\u767d\u6765\u770b\u5230\u8fd9\u70b9\uff1a</p> <pre><code>from matplotlib.colors import LinearSegmentedColormap\n\ndef grayscale_cmap(cmap):\n\"\"\"\u8fd4\u56de\u7ed9\u5b9a\u8272\u56fe\u7684\u7070\u5ea6\u7248\u672c\"\"\"\n    cmap = plt.cm.get_cmap(cmap) # \u4f7f\u7528\u540d\u79f0\u83b7\u53d6\u8272\u56fe\u5bf9\u8c61\n    colors = cmap(np.arange(cmap.N)) # \u5c06\u8272\u56fe\u5bf9\u8c61\u8f6c\u4e3aRGBA\u77e9\u9635\uff0c\u5f62\u72b6\u4e3aN\u00d74\n\n    # \u5c06RGBA\u989c\u8272\u8f6c\u6362\u4e3a\u7070\u5ea6\n    # \u53c2\u8003 http://alienryderflex.com/hsp.html\n    RGB_weight = [0.299, 0.587, 0.114] # RGB\u4e09\u8272\u7684\u6743\u91cd\u503c\n    luminance = np.sqrt(np.dot(colors[:, :3] ** 2, RGB_weight)) # RGB\u5e73\u65b9\u503c\u548c\u6743\u91cd\u7684\u70b9\u79ef\u5f00\u5e73\u65b9\u6839\n    colors[:, :3] = luminance[:, np.newaxis] # \u5f97\u5230\u7070\u5ea6\u503c\u77e9\u9635\n    # \u8fd4\u56de\u76f8\u5e94\u7684\u7070\u5ea6\u503c\u8272\u56fe\n    return LinearSegmentedColormap.from_list(cmap.name + \"_gray\", colors, cmap.N)\n\n\ndef view_colormap(cmap):\n\"\"\"\u5c06\u8272\u56fe\u5bf9\u5e94\u7684\u7070\u5ea6\u7248\u672c\u7ed8\u5236\u51fa\u6765\"\"\"\n    cmap = plt.cm.get_cmap(cmap)\n    colors = cmap(np.arange(cmap.N))\n\n    cmap = grayscale_cmap(cmap)\n    grayscale = cmap(np.arange(cmap.N))\n\n    fig, ax = plt.subplots(2, figsize=(6, 2),\n                           subplot_kw=dict(xticks=[], yticks=[]))\n    ax[0].imshow([colors], extent=[0, 10, 0, 1])\n    ax[1].imshow([grayscale], extent=[0, 10, 0, 1])\nview_colormap('jet')\n</code></pre> <p></p> <p>\u6ce8\u610f\u4e00\u4e0b\u4e0a\u9762\u7684\u7070\u5ea6\u56fe\u4e2d\u4eae\u6761\u7eb9\u7684\u4f4d\u7f6e\u3002\u5373\u4f7f\u5728\u4e0a\u8ff0\u5f69\u8272\u56fe\u4e2d\uff0c\u4e5f\u51fa\u73b0\u4e86\u8fd9\u79cd\u4e0d\u89c4\u5219\u7684\u4eae\u6761\u7eb9\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u773c\u775b\u88ab\u533a\u57df\u4e2d\u4eae\u6761\u7eb9\u6240\u5438\u5f15\uff0c\u8fd9\u5f88\u53ef\u80fd\u9020\u6210\u9605\u8bfb\u8005\u88ab\u4e0d\u91cd\u8981\u7684\u6570\u636e\u96c6\u90e8\u5206\u5e72\u6270\u4e86\u3002\u66f4\u597d\u7684\u9009\u62e9\u662f\u4f7f\u7528\u7c7b\u4f3c<code>viridis</code>\u8fd9\u6837\u7684\u8272\u56fe\uff08Matplotlib 2.0 \u540e\u9ed8\u8ba4\u8272\u56fe\uff09\uff0c\u5b83\u4eec\u88ab\u8bbe\u8ba1\u4e3a\u6709\u7740\u5747\u5300\u7684\u4eae\u5ea6\u53d8\u5316\u3002\u56e0\u6b64\u5b83\u4eec\u65e0\u8bba\u662f\u5728\u5f69\u8272\u56fe\u4e2d\u8fd8\u662f\u5728\u7070\u5ea6\u56fe\u4e2d\u90fd\u6709\u7740\u540c\u6837\u7684\u4eae\u5ea6\u53d8\u5316\uff1a</p> <pre><code>view_colormap('viridis')\n</code></pre> <p></p> <p>\u5982\u679c\u4f60\u66f4\u559c\u6b22\u5f69\u8679\u65b9\u6848\uff0c\u53e6\u4e00\u4e2a\u597d\u7684\u9009\u62e9\u662f\u4f7f\u7528<code>cubehelix</code>\u8272\u56fe\uff1a</p> <pre><code>view_colormap('cubehelix')\n</code></pre> <p></p> <p>\u5bf9\u4e8e\u5176\u4ed6\u7684\u60c5\u51b5\uff0c\u4f8b\u5982\u67d0\u79cd\u6b63\u8d1f\u5206\u5e03\u7684\u6570\u636e\u96c6\uff0c\u53cc\u8272\u989c\u8272\u6761\u5982<code>RdBu</code>\uff08Red-Blue\uff09\u4f1a\u5f88\u5e38\u7528\u3002\u7136\u800c\u6b63\u5982\u4f60\u4ece\u4e0b\u9762\u4f8b\u5b50\u770b\u5230\u7684\uff0c\u5982\u679c\u5c06\u53cc\u8272\u989c\u8272\u6761\u8f6c\u5316\u4e3a\u7070\u5ea6\u7684\u8bdd\uff0c\u6b63\u8d1f\u6216\u4e24\u7ea7\u7684\u4fe1\u606f\u5c31\u4f1a\u4e22\u5931\uff1a</p> <pre><code>view_colormap('RdBu')\n</code></pre> <p></p> <p>\u540e\u9762\u6211\u4eec\u4f1a\u770b\u5230\u66f4\u591a\u4f7f\u7528\u8fd9\u4e9b\u8272\u56fe\u7684\u4f8b\u5b50\u3002</p> <p>Matplotlib \u4e2d\u6709\u5927\u91cf\u53ef\u7528\u7684\u8272\u56fe\uff1b\u8981\u770b\u5230\u5b83\u4eec\u7684\u5217\u8868\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 IPython \u6765\u63a2\u7d22<code>plt.cm</code>\u6a21\u5757\u3002\u8981\u5728 Python \u4e2d\u66f4\u52a0\u6b63\u89c4\u7684\u4f7f\u7528\u989c\u8272\uff0c\u4f60\u53ef\u4ee5\u67e5\u770b Seaborn \u5e93\u7684\u5de5\u5177\u548c\u6587\u6863\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_14","title":"\u989c\u8272\u9650\u5236\u548c\u6269\u5c55","text":"<p>Matplotlib \u5141\u8bb8\u4f60\u5bf9\u989c\u8272\u6761\u8fdb\u884c\u5927\u91cf\u7684\u81ea\u5b9a\u4e49\u3002\u989c\u8272\u6761\u672c\u8eab\u5c31\u662f\u4e00\u4e2a<code>plt.Axes</code>\u5bf9\u8c61\uff0c\u56e0\u6b64\u6240\u6709\u8f74\u548c\u523b\u5ea6\u5b9a\u5236\u7684\u6280\u5de7\u90fd\u53ef\u4ee5\u5e94\u7528\u5728\u4e0a\u9762\u3002\u989c\u8272\u6761\u4e5f\u6709\u7740\u4e00\u4e9b\u6709\u8da3\u7684\u81ea\u5b9a\u4e49\u884c\u4e3a\uff1a\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u7f29\u5c0f\u989c\u8272\u7684\u8303\u56f4\u5e76\u4e14\u901a\u8fc7\u8bbe\u7f6e<code>extend</code>\u53c2\u6570\u5c06\u8d85\u51fa\u8303\u56f4\u4e4b\u5916\u7684\u6570\u503c\u5c55\u793a\u4e3a\u9876\u90e8\u548c\u5e95\u90e8\u7684\u4e09\u89d2\u7bad\u5934\u5f62\u72b6\u3002\u8fd9\u5bf9\u4e8e\u5c55\u793a\u4e00\u4e9b\u53d7\u5230\u566a\u58f0\u5e72\u6270\u7684\u6570\u636e\u65f6\u975e\u5e38\u65b9\u4fbf\uff1a</p> <pre><code># \u5728I\u6570\u7ec4\u4e2d\u4eba\u4e3a\u751f\u6210\u4e0d\u8d85\u8fc71%\u7684\u566a\u58f0\nspeckles = (np.random.random(I.shape) &lt; 0.01)\nI[speckles] = np.random.normal(0, 3, np.count_nonzero(speckles))\n\nplt.figure(figsize=(10, 3.5))\n# \u4e0d\u8003\u8651\u53bb\u9664\u566a\u58f0\u65f6\u7684\u989c\u8272\u5206\u5e03\nplt.subplot(1, 2, 1)\nplt.imshow(I, cmap='RdBu')\nplt.colorbar()\n# \u8bbe\u7f6e\u53bb\u9664\u566a\u58f0\u65f6\u7684\u989c\u8272\u5206\u5e03\nplt.subplot(1, 2, 2)\nplt.imshow(I, cmap='RdBu')\nplt.colorbar(extend='both')\nplt.clim(-1, 1);\n</code></pre> <p></p> <p>\u6ce8\u610f\u5230\u5728\u5de6\u8fb9\u7684\u56fe\u8868\u4e2d\uff0c\u9ed8\u8ba4\u7684\u989c\u8272\u9608\u503c\u662f\u5305\u62ec\u4e86\u566a\u58f0\u7684\uff0c\u56e0\u6b64\u6574\u4f53\u7684\u6761\u7eb9\u5f62\u72b6\u90fd\u88ab\u566a\u58f0\u6570\u636e\u51b2\u5237\u6de1\u5316\u4e86\u3002\u800c\u53f3\u8fb9\u7684\u56fe\u8868\uff0c\u6211\u4eec\u624b\u52a8\u8bbe\u7f6e\u4e86\u989c\u8272\u7684\u9608\u503c\uff0c\u5e76\u5728\u7ed8\u5236\u989c\u8272\u6761\u662f\u52a0\u4e0a\u4e86<code>extend</code>\u53c2\u6570\u6765\u8868\u793a\u8d85\u51fa\u9608\u503c\u7684\u6570\u636e\u3002\u5bf9\u4e8e\u6211\u4eec\u7684\u6570\u636e\u6765\u8bf4\uff0c\u53f3\u56fe\u6bd4\u5de6\u56fe\u8981\u597d\u7684\u591a\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_15","title":"\u79bb\u6563\u989c\u8272\u6761","text":"<p>\u8272\u56fe\u9ed8\u8ba4\u662f\u8fde\u7eed\u7684\uff0c\u4f46\u662f\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4f60\u53ef\u80fd\u9700\u8981\u5c55\u793a\u79bb\u6563\u503c\u3002\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u4f7f\u7528<code>plt.cm.get_cmap()</code>\u51fd\u6570\uff0c\u5728\u4f20\u9012\u67d0\u4e2a\u8272\u56fe\u540d\u79f0\u7684\u540c\u65f6\uff0c\u8fd8\u989d\u5916\u4f20\u9012\u4e00\u4e2a\u989c\u8272\u5206\u6876\u7684\u6570\u91cf\u503c\u53c2\u6570\u7ed9\u8be5\u51fd\u6570\uff1a</p> <pre><code>plt.imshow(I, cmap=plt.cm.get_cmap('Blues', 6))\nplt.colorbar()\nplt.clim(-1, 1);\n</code></pre> <p></p> <p>\u79bb\u6563\u8272\u56fe\u7684\u4f7f\u7528\u65b9\u5f0f\u548c\u5176\u4ed6\u8272\u56fe\u6ca1\u6709\u4efb\u4f55\u533a\u522b\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_16","title":"\u4f8b\u5b50\uff1a\u624b\u5199\u6570\u5b57","text":"<p>\u6700\u540e\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u5f88\u6709\u5b9e\u7528\u4ef7\u503c\u7684\u4f8b\u5b50\uff0c\u8ba9\u6211\u4eec\u5b9e\u73b0\u5bf9\u4e00\u4e9b\u624b\u5199\u6570\u5b57\u56fe\u50cf\u6570\u636e\u7684\u53ef\u89c6\u5316\u5206\u6790\u3002\u8fd9\u4e2a\u6570\u636e\u5305\u542b\u5728 Sciki-Learn \u4e2d\uff0c\u4ee5\u4f9b\u5305\u542b\u6709\u5c06\u8fd1 2,000 \u5f20 \u5927\u5c0f\u7684\u4e0d\u540c\u7b14\u8ff9\u7684\u624b\u5199\u6570\u5b57\u7f29\u7565\u56fe\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u4e0b\u8f7d\u8fd9\u4e2a\u6570\u636e\u96c6\uff0c\u7136\u540e\u4f7f\u7528<code>plt.imshow()</code>\u5c06\u5176\u4e2d\u90e8\u5206\u6570\u636e\u5c55\u793a\u51fa\u6765\uff1a</p> <pre><code># \u8bfb\u53d6\u6570\u5b570-5\u7684\u624b\u5199\u56fe\u50cf\uff0c\u7136\u540e\u4f7f\u7528Matplotlib\u5c55\u793a\u593464\u5f20\u7f29\u7565\u56fe\nfrom sklearn.datasets import load_digits\ndigits = load_digits(n_class=6)\n\nfig, ax = plt.subplots(8, 8, figsize=(6, 6))\nfor i, axi in enumerate(ax.flat):\n    axi.imshow(digits.images[i], cmap='binary')\n    axi.set(xticks=[], yticks=[])\n</code></pre> <p></p> <p>\u56e0\u4e3a\u6bcf\u4e2a\u6570\u5b57\u90fd\u662f\u4f7f\u7528 64 \u4e2a\u50cf\u7d20\u70b9\u6e32\u67d3\u51fa\u6765\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba4\u4e3a\u6bcf\u4e2a\u6570\u5b57\u662f\u4e00\u4e2a 64 \u7ef4\u7a7a\u95f4\u4e2d\u7684\u70b9\uff1a\u6bcf\u4e2a\u7ef4\u5ea6\u4ee3\u8868\u8fd9\u5176\u4e2d\u4e00\u4e2a\u50cf\u7d20\u7684\u7070\u5ea6\u503c\u3002\u4f46\u662f\u8981\u5728\u56fe\u8868\u4e2d\u5c06\u8fd9\u4e48\u9ad8\u7ef4\u5ea6\u7a7a\u95f4\u7684\u8054\u7cfb\u53ef\u89c6\u5316\u51fa\u6765\u662f\u975e\u5e38\u56f0\u96be\u7684\u3002\u6709\u4e00\u79cd\u505a\u6cd5\u662f\u4f7f\u7528\u964d\u7ef4\u6280\u672f\uff0c\u6bd4\u65b9\u8bf4\u4f7f\u7528\u6d41\u5f62\u5b66\u4e60\u6765\u51cf\u5c11\u6570\u636e\u7684\u7ef4\u5ea6\u7136\u800c\u4e0d\u4f1a\u4e22\u5931\u6570\u636e\u4e2d\u6709\u6548\u7684\u4fe1\u606f\u3002</p> <p>\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u5c06\u8fd9\u4e9b\u624b\u5199\u6570\u5b57\u56fe\u50cf\u6570\u636e\u6620\u5c04\u5230\u4e8c\u7ef4\u6d41\u5f62\u5b66\u4e60\u5f53\u4e2d\uff1a</p> <pre><code># \u4f7f\u7528Isomap\u5c06\u624b\u5199\u6570\u5b57\u56fe\u50cf\u6620\u5c04\u5230\u4e8c\u7ef4\u6d41\u5f62\u5b66\u4e60\u4e2d\nfrom sklearn.manifold import Isomap\niso = Isomap(n_components=2)\nprojection = iso.fit_transform(digits.data)\n</code></pre> <p>\u6211\u4eec\u4f7f\u7528\u79bb\u6563\u989c\u8272\u6761\u6765\u5c55\u793a\u7ed3\u679c\uff0c\u8bbe\u7f6e<code>ticks</code>\u548c<code>clim</code>\u6765\u8fdb\u4e00\u6b65\u7f8e\u5316\u7ed3\u679c\u7684\u989c\u8272\u6761\uff1a</p> <pre><code># \u7ed8\u5236\u56fe\u8868\u7ed3\u679c\nplt.scatter(projection[:, 0], projection[:, 1], lw=0.1,\n            c=digits.target, cmap=plt.cm.get_cmap('cubehelix', 6))\nplt.colorbar(ticks=range(6), label='digit value')\nplt.clim(-0.5, 5.5)\n</code></pre> <p></p> <p>\u6211\u4eec\u4ece\u6d41\u5f62\u5b66\u4e60\u4e2d\u7684\u6620\u5c04\u4e2d\u53ef\u4ee5\u89c2\u5bdf\u5230\u4e00\u4e9b\u6709\u8da3\u73b0\u8c61\uff1a\u4f8b\u5982\uff0c\u56fe\u8868\u4e2d 5 \u548c 3 \u6709\u4e00\u4e9b\u91cd\u53e0\u7684\u90e8\u5206\uff0c\u8fd9\u8868\u793a\u4e00\u4e9b\u624b\u5199\u4f53\u4e2d 5 \u548c 3 \u662f\u6bd4\u8f83\u96be\u4ee5\u8fa8\u522b\u7684\uff0c\u56e0\u6b64\u5bf9\u4e8e\u81ea\u52a8\u8bc6\u522b\u7b97\u6cd5\u6765\u8bf4\u8fd9\u662f\u6bd4\u8f83\u5bb9\u6613\u6df7\u6dc6\u7684\u90e8\u5206\u3002\u800c 0 \u548c 1\uff0c\u5b83\u4eec\u5728\u56fe\u8868\u4e2d\u8ddd\u79bb\u5f88\u8fdc\uff0c\u8fd9\u8868\u793a\u4e24\u8005\u6bd4\u8f83\u5bb9\u6613\u8fa8\u522b\uff0c\u4e0d\u592a\u53ef\u80fd\u9020\u6210\u6df7\u6dc6\u3002\u8fd9\u4e2a\u56fe\u8868\u5206\u6790\u4e0e\u6211\u4eec\u7684\u76f4\u89c9\u4e00\u81f4\uff0c\u56e0\u4e3a 5 \u548c 3 \u663e\u7136\u6bd4 0 \u548c 1 \u770b\u8d77\u6765\u66f4\u52a0\u63a5\u8fd1\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#8","title":"8.\u591a\u4e2a\u5b50\u56fe\u8868","text":"<p>\u5728\u4e00\u4e9b\u60c5\u51b5\u4e2d\uff0c\u5982\u679c\u80fd\u5c06\u4e0d\u540c\u7684\u6570\u636e\u56fe\u8868\u5e76\u5217\u5c55\u793a\uff0c\u5bf9\u4e8e\u6211\u4eec\u8fdb\u884c\u6570\u636e\u5206\u6790\u548c\u6bd4\u8f83\u4f1a\u5f88\u6709\u5e2e\u52a9\u3002Matplotlib \u63d0\u4f9b\u4e86\u5b50\u56fe\u8868\u7684\u6982\u5ff5\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff1a\u5355\u4e2a\u56fe\u8868\u4e2d\u53ef\u4ee5\u5305\u62ec\u4e00\u7ec4\u5c0f\u7684 axes \u7528\u6765\u5c55\u793a\u591a\u4e2a\u5b50\u56fe\u8868\u3002\u8fd9\u4e9b\u5b50\u56fe\u8868\u53ef\u4ee5\u662f\u63d2\u56fe\uff0c\u7f51\u683c\u72b6\u5206\u5e03\u6216\u5176\u4ed6\u66f4\u590d\u6742\u7684\u5e03\u5c40\u3002\u5728\u672c\u8282\u4e2d\u6211\u4eec\u4f1a\u4ecb\u7ecd Matplotlib \u4e2d\u7528\u6765\u6784\u5efa\u5b50\u56fe\u8868\u7684\u56db\u4e2a\u51fd\u6570\u3002</p> <pre><code>%matplotlib inline\nimport matplotlib.pyplot as plt\nplt.style.use('seaborn-white')\nimport numpy as np\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#pltaxes","title":"<code>plt.axes</code>\uff1a\u624b\u52a8\u6784\u5efa\u5b50\u56fe\u8868","text":"<p>\u6784\u5efa axes \u4f5c\u4e3a\u5b50\u56fe\u8868\u7684\u6700\u57fa\u7840\u65b9\u6cd5\u5c31\u662f\u4f7f\u7528<code>plt.axes</code>\u51fd\u6570\u3002\u6b63\u5982\u6211\u4eec\u524d\u9762\u5df2\u7ecf\u770b\u5230\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e2a\u51fd\u6570\u591f\u521b\u5efa\u4e00\u4e2a\u6807\u51c6\u7684 axes \u5bf9\u8c61\u586b\u6ee1\u6574\u4e2a\u56fe\u8868\u533a\u57df\u3002<code>plt.axes</code>\u51fd\u6570\u4e5f\u53ef\u4ee5\u63a5\u6536\u4e00\u4e2a\u53ef\u9009\u7684\u5217\u8868\u53c2\u6570\u7528\u6765\u6307\u5b9a\u5728 axes \u5728\u6574\u4e2a\u56fe\u8868\u4e2d\u7684\u5750\u6807\u70b9\u4f4d\u7f6e\u3002\u5217\u8868\u4e2d\u6709\u56db\u4e2a\u6570\u503c\u5206\u522b\u4e3a<code>[left, bottom, width, height]</code>\uff08\u53d6\u503c\u90fd\u662f 0-1\uff09\uff0c\u4ee3\u8868\u7740\u5b50\u56fe\u8868\u7684\u5de6\u8fb9\u3001\u5e95\u90e8\u3001\u5bbd\u5ea6\u3001\u9ad8\u5ea6\u5728\u6574\u4e2a\u56fe\u8868\u4e2d\u5de6\u8fb9\u3001\u5e95\u90e8\u3001\u5bbd\u5ea6\u3001\u9ad8\u5ea6\u6240\u5360\u7684\u6bd4\u4f8b\u503c\u3002</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u8ddd\u79bb\u5de6\u8fb9\u548c\u5e95\u90e8 65%\u7684\u4f4d\u7f6e\uff0c\u4ee5\u63d2\u56fe\u7684\u5f62\u5f0f\u653e\u7f6e\u4e00\u4e2a\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u90fd\u662f 20%\u5b50\u56fe\u8868\uff0c\u4e0a\u8ff0\u6570\u503c\u5e94\u8be5\u4e3a<code>[0.65, 0.65, 0.2, 0.2]</code>\uff1a</p> <pre><code>ax1 = plt.axes()  # \u6807\u51c6\u56fe\u8868\nax2 = plt.axes([0.65, 0.65, 0.2, 0.2]) #\u5b50\u56fe\u8868\n</code></pre> <p></p> <p>\u4e0e\u4e0a\u8ff0\u7b49\u4ef7\u7684\u9762\u5411\u5bf9\u8c61\u63a5\u53e3\u7684\u8bed\u6cd5\u662f<code>fig.add_axes()</code>\u3002\u6211\u4eec\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u6765\u521b\u5efa\u4e24\u4e2a\u5782\u76f4\u5806\u53e0\u7684\u5b50\u56fe\u8868\uff1a</p> <pre><code>fig = plt.figure() # \u83b7\u5f97figure\u5bf9\u8c61\nax1 = fig.add_axes([0.1, 0.5, 0.8, 0.4],\n                   xticklabels=[], ylim=(-1.2, 1.2)) # \u5de6\u8fb910% \u5e95\u90e850% \u5bbd80% \u9ad840%\nax2 = fig.add_axes([0.1, 0.1, 0.8, 0.4],\n                   ylim=(-1.2, 1.2)) # \u5de6\u8fb910% \u5e95\u90e810% \u5bbd80% \u9ad840%\n\nx = np.linspace(0, 10)\nax1.plot(np.sin(x))\nax2.plot(np.cos(x));\n</code></pre> <p></p> <p>\u8fd9\u6837\u6211\u4eec\u5c31\u6709\u4e24\u4e2a\u5b50\u56fe\u8868\uff08\u4e0a\u9762\u7684\u5b50\u56fe\u8868\u6ca1\u6709 x \u8f74\u523b\u5ea6\uff09\uff0c\u8fd9\u4e24\u4e2a\u5b50\u56fe\u8868\u6b63\u597d\u543b\u5408\uff1a\u4e0a\u9762\u56fe\u8868\u7684\u5e95\u90e8\u662f\u6574\u4e2a\u56fe\u8868\u9ad8\u5ea6 50%\u4f4d\u7f6e\uff0c\u800c\u4e0b\u9762\u56fe\u8868\u7684\u9876\u90e8\u4e5f\u662f\u6574\u4e2a\u56fe\u8868\u7684 50%\u4f4d\u7f6e\uff080.1+0.4\uff09\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#pltsubplot","title":"<code>plt.subplot</code>\uff1a\u7b80\u5355\u7f51\u683c\u7684\u5b50\u56fe\u8868","text":"<p>\u5c06\u5b50\u56fe\u8868\u7684\u884c\u4e0e\u5217\u5bf9\u9f50\u662f\u4e00\u4e2a\u5f88\u5e38\u89c1\u7684\u9700\u6c42\uff0c\u56e0\u6b64 Matplotlib \u63d0\u4f9b\u4e86\u4e00\u4e9b\u7b80\u5355\u7684\u51fd\u6570\u6765\u5b9e\u73b0\u5b83\u4eec\u3002\u8fd9\u4e9b\u51fd\u6570\u5f53\u4e2d\u6700\u5e95\u5c42\u7684\u662f<code>plt.subplot()</code>\uff0c\u5b83\u4f1a\u5728\u7f51\u683c\u4e2d\u521b\u5efa\u4e00\u4e2a\u5b50\u56fe\u8868\u3002\u51fd\u6570\u63a5\u53d7\u4e09\u4e2a\u6574\u6570\u53c2\u6570\uff0c\u7f51\u683c\u884c\u6570\uff0c\u7f51\u683c\u5217\u6570\u4ee5\u53ca\u8be5\u7f51\u683c\u5b50\u56fe\u8868\u7684\u5e8f\u53f7\uff08\u4ece\u5de6\u4e0a\u89d2\u5411\u53f3\u4e0b\u89d2\u9012\u589e\uff09\uff1a</p> <pre><code>for i in range(1, 7):\n    plt.subplot(2, 3, i)\n    plt.text(0.5, 0.5, str((2, 3, i)),\n             fontsize=18, ha='center')\n</code></pre> <p></p> <p><code>plt.subplots_adjust</code>\u51fd\u6570\u7528\u6765\u8c03\u6574\u8fd9\u4e9b\u5b50\u56fe\u8868\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u4f7f\u7528\u4e86\u4e0e<code>plt.subplot()</code>\u7b49\u4ef7\u7684\u9762\u5411\u5bf9\u8c61\u63a5\u53e3\u65b9\u6cd5<code>fig.add_subplot()</code>\uff1a</p> <pre><code>fig = plt.figure()\nfig.subplots_adjust(hspace=0.4, wspace=0.4)\nfor i in range(1, 7):\n    ax = fig.add_subplot(2, 3, i)\n    ax.text(0.5, 0.5, str((2, 3, i)),\n           fontsize=18, ha='center')\n</code></pre> <p></p> <p>\u4e0a\u4f8b\u4e2d\u6211\u4eec\u6307\u5b9a\u4e86<code>plt.subplots_adjust</code>\u51fd\u6570\u7684<code>hspace</code>\u548c<code>wspace</code>\u53c2\u6570\uff0c\u5b83\u4eec\u4ee3\u8868\u8fd9\u6cbf\u7740\u9ad8\u5ea6\u548c\u5bbd\u5ea6\u65b9\u5411\u5b50\u56fe\u8868\u4e4b\u95f4\u7684\u8ddd\u79bb\uff0c\u5355\u4f4d\u662f\u5b50\u56fe\u8868\u7684\u5927\u5c0f\uff08\u5728\u672c\u4f8b\u4e2d\uff0c\u8ddd\u79bb\u662f\u5b50\u56fe\u8868\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u7684 40%\uff09\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#pltsubplots","title":"<code>plt.subplots</code>\uff1a\u4e00\u53e5\u4ee3\u7801\u8bbe\u7f6e\u6240\u6709\u7f51\u683c\u5b50\u56fe\u8868","text":"<p>\u4e0a\u9762\u7684\u65b9\u6cd5\u5f53\u6211\u4eec\u9700\u8981\u521b\u5efa\u5927\u91cf\u7684\u5b50\u56fe\u8868\u7f51\u683c\u65f6\u4f1a\u53d8\u5f97\u975e\u5e38\u5197\u957f\u4e4f\u5473\uff0c\u7279\u522b\u662f\u5982\u679c\u6211\u4eec\u9700\u8981\u5c06\u5185\u90e8\u56fe\u8868 x \u8f74\u548c y \u8f74\u6807\u7b7e\u9690\u85cf\u7684\u60c5\u51b5\u4e0b\u3002\u56e0\u6b64\uff0c<code>plt.subplots</code>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u662f\u4e00\u4e2a\u5408\u9002\u7684\u5de5\u5177\uff08\u6ce8\u610f\u672b\u5c3e\u6709\u4e2a s\uff09\u3002\u8fd9\u4e2a\u51fd\u6570\u4f1a\u4e00\u6b21\u6027\u521b\u5efa\u6240\u6709\u7684\u7f51\u683c\u5b50\u56fe\u8868\uff0c\u800c\u4e0d\u662f\u5355\u4e2a\u7f51\u683c\uff0c\u5e76\u5c06\u5b83\u4eec\u5728\u4e00\u4e2a NumPy \u6570\u7ec4\u4e2d\u8fd4\u56de\u3002\u53c2\u6570\u662f\u884c\u6570\u548c\u5217\u6570\uff0c\u8fd8\u6709\u4e24\u4e2a\u53ef\u9009\u7684\u5173\u952e\u5b57\u53c2\u6570<code>sharex</code>\u548c<code>sharey</code>\uff0c\u53ef\u4ee5\u8ba9\u4f60\u6307\u5b9a\u4e0d\u540c\u5b50\u56fe\u8868\u4e4b\u95f4\u7684\u5173\u8054\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u6765\u521b\u5efa\u4e00\u4e2a \u7f51\u683c\u7684\u5b50\u56fe\u8868\uff0c\u5176\u4e2d\u6bcf\u4e00\u884c\u7684\u5b50\u56fe\u8868\u5171\u4eab\u5b83\u4eec\u7684 y \u8f74\uff0c\u800c\u6bcf\u4e00\u5217\u7684\u5b50\u56fe\u8868\u5171\u4eab\u5b83\u4eec\u7684 x \u8f74\uff1a</p> <pre><code>fig, ax = plt.subplots(2, 3, sharex='col', sharey='row')\n</code></pre> <p></p> <p>\u6ce8\u610f\u4e0a\u9762\u6211\u4eec\u8bbe\u7f6e\u4e86<code>sharex</code>\u548c<code>sharey</code>\u4e4b\u540e\uff0c\u5185\u90e8\u5b50\u56fe\u8868\u7684 x \u8f74\u548c y \u8f74\u7684\u6807\u7b7e\u5c31\u81ea\u52a8\u88ab\u53bb\u6389\u4e86\u3002\u8fd4\u56de\u503c\u4e2d ax \u662f\u4e00\u4e2a NumPy \u6570\u7ec4\uff0c\u91cc\u9762\u542b\u6709\u6bcf\u4e00\u4e2a\u5b50\u56fe\u8868\u7684\u5b9e\u4f8b\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 NumPy \u7d22\u5f15\u7684\u8bed\u6cd5\u5f88\u7b80\u5355\u7684\u83b7\u5f97\u5b83\u4eec\uff1a</p> <pre><code># axes\u662f\u4e00\u4e2a2\u00d73\u7684\u6570\u7ec4\uff0c\u53ef\u4ee5\u901a\u8fc7[row, col]\u8fdb\u884c\u7d22\u5f15\u8bbf\u95ee\nfor i in range(2):\n    for j in range(3):\n        ax[i, j].text(0.5, 0.5, str((i, j)),\n                      fontsize=18, ha='center')\nfig\n</code></pre> <p></p> <p>\u5e76\u4e14\u76f8\u5bf9\u4e8e<code>plt.subplot</code>\uff0c<code>plt.subplots()</code>\u66f4\u590d\u5408 Python \u4ece 0 \u5f00\u59cb\u8fdb\u884c\u7d22\u5f15\u7684\u4e60\u60ef\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#pltgridspec","title":"<code>plt.GridSpec</code>\uff1a\u66f4\u590d\u6742\u7684\u6392\u5217","text":"<p>\u5f53\u4f60\u9700\u8981\u5b50\u56fe\u8868\u5728\u7f51\u683c\u4e2d\u5360\u636e\u591a\u884c\u6216\u591a\u5217\u65f6\uff0c<code>plt.GridSpec()</code>\u6b63\u662f\u4f60\u6240\u9700\u8981\u7684\u3002<code>plt.GridSpec()</code>\u5bf9\u8c61\u5e76\u4e0d\u81ea\u5df1\u521b\u5efa\u56fe\u8868\uff1b\u5b83\u53ea\u662f\u4e00\u4e2a\u53ef\u4ee5\u88ab\u4f20\u9012\u7ed9<code>plt.subplot()</code>\u7684\u53c2\u6570\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u4e24\u884c\u4e09\u5217\u5e76\u5e26\u6709\u6307\u5b9a\u7684\u5bbd\u5ea6\u9ad8\u5ea6\u95f4\u9694\u7684 gridspec \u53ef\u4ee5\u5982\u4e0b\u521b\u5efa\uff1a</p> <pre><code>grid = plt.GridSpec(2, 3, wspace=0.4, hspace=0.3)\n</code></pre> <p>\u4f7f\u7528\u8fd9\u4e2a\u5bf9\u8c61\u6211\u4eec\u53ef\u4ee5\u6307\u5b9a\u5b50\u56fe\u8868\u7684\u4f4d\u7f6e\u548c\u5360\u636e\u7684\u7f51\u683c\uff0c\u4ec5\u9700\u8981\u4f7f\u7528\u719f\u6089\u7684 Python \u5207\u7247\u8bed\u6cd5\u5373\u53ef\uff1a</p> <pre><code>plt.subplot(grid[0, 0])\nplt.subplot(grid[0, 1:])\nplt.subplot(grid[1, :2])\nplt.subplot(grid[1, 2]);\n</code></pre> <p></p> <p>\u8fd9\u79cd\u7075\u6d3b\u7684\u7f51\u683c\u5bf9\u9f50\u63a7\u5236\u65b9\u5f0f\u6709\u7740\u5e7f\u6cdb\u7684\u5e94\u7528\u3002\u4f5c\u8005\u7ecf\u5e38\u5728\u9700\u8981\u521b\u5efa\u591a\u4e2a\u76f4\u65b9\u56fe\u7684\u8054\u5408\u56fe\u8868\u4e2d\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0c\u5982\u4e0b\u4f8b\uff1a</p> <pre><code># \u6784\u5efa\u4e8c\u7ef4\u6b63\u6001\u5206\u5e03\u6570\u636e\nmean = [0, 0]\ncov = [[1, 1], [1, 2]]\nx, y = np.random.multivariate_normal(mean, cov, 3000).T\n\n# \u4f7f\u7528GridSpec\u521b\u5efa\u7f51\u683c\u5e76\u52a0\u5165\u5b50\u56fe\u8868\nfig = plt.figure(figsize=(6, 6))\ngrid = plt.GridSpec(4, 4, hspace=0.2, wspace=0.2)\nmain_ax = fig.add_subplot(grid[:-1, 1:])\ny_hist = fig.add_subplot(grid[:-1, 0], xticklabels=[], sharey=main_ax)\nx_hist = fig.add_subplot(grid[-1, 1:], yticklabels=[], sharex=main_ax)\n\n# \u5728\u4e3b\u56fe\u8868\u4e2d\u7ed8\u5236\u6563\u70b9\u56fe\nmain_ax.plot(x, y, 'ok', markersize=3, alpha=0.2)\n\n# \u5206\u522b\u5728x\u8f74\u548cy\u8f74\u65b9\u5411\u7ed8\u5236\u76f4\u65b9\u56fe\nx_hist.hist(x, 40, histtype='stepfilled',\n            orientation='vertical', color='gray')\nx_hist.invert_yaxis() # x\u8f74\u65b9\u5411\uff08\u53f3\u4e0b\uff09\u76f4\u65b9\u56fe\u5012\u8f6cy\u8f74\u65b9\u5411\n\ny_hist.hist(y, 40, histtype='stepfilled',\n            orientation='horizontal', color='gray')\ny_hist.invert_xaxis() # y\u8f74\u65b9\u5411\uff08\u5de6\u4e0a\uff09\u76f4\u65b9\u56fe\u5012\u8f6cx\u8f74\u65b9\u5411\n</code></pre> <p></p> <p>\u8fd9\u79cd\u6cbf\u7740\u6570\u636e\u5404\u81ea\u65b9\u5411\u5206\u5e03\u5e76\u7ed8\u5236\u76f8\u5e94\u56fe\u8868\u7684\u9700\u6c42\u662f\u5f88\u901a\u7528\u7684\uff0c\u56e0\u6b64\u5728 Seaborn \u5305\u4e2d\u5b83\u4eec\u6709\u4e13\u95e8\u7684 API \u6765\u5b9e\u73b0</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#9","title":"9.\u6587\u672c\u548c\u6807\u6ce8","text":"<p>\u521b\u5efa\u4e00\u4e2a\u4f18\u79c0\u7684\u53ef\u89c6\u5316\u56fe\u8868\u7684\u5173\u952e\u5728\u4e8e\u5f15\u5bfc\u8bfb\u8005\uff0c\u8ba9\u4ed6\u4eec\u80fd\u7406\u89e3\u56fe\u8868\u6240\u8bb2\u8ff0\u7684\u6545\u4e8b\u3002\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e2a\u6545\u4e8b\u53ef\u4ee5\u901a\u8fc7\u7eaf\u56fe\u50cf\u7684\u65b9\u5f0f\u8868\u8fbe\uff0c\u4e0d\u9700\u8981\u989d\u5916\u6dfb\u52a0\u6587\u5b57\uff0c\u4f46\u662f\u5728\u53e6\u5916\u4e00\u4e9b\u60c5\u51b5\u4e2d\uff0c\u56fe\u8868\u9700\u8981\u6587\u5b57\u7684\u63d0\u793a\u548c\u6807\u7b7e\u624d\u80fd\u5c06\u6545\u4e8b\u8bb2\u597d\u3002\u4e5f\u8bb8\u6807\u6ce8\u6700\u57fa\u672c\u7684\u7c7b\u578b\u5c31\u662f\u56fe\u8868\u7684\u6807\u7b7e\u548c\u6807\u9898\uff0c\u4f46\u662f\u5176\u4e2d\u7684\u9009\u9879\u53c2\u6570\u5374\u6709\u5f88\u591a\u3002\u8ba9\u6211\u4eec\u5728\u672c\u8282\u4e2d\u4f7f\u7528\u4e00\u4e9b\u6570\u636e\u6765\u521b\u5efa\u53ef\u89c6\u5316\u56fe\u8868\u5e76\u6807\u6ce8\u8fd9\u4e9b\u56fe\u8868\u6765\u8868\u8fbe\u8fd9\u4e9b\u6709\u8da3\u7684\u4fe1\u606f\u3002\u9996\u5148\u8fd8\u662f\u9700\u8981\u5c06\u8981\u7528\u5230\u7684\u6a21\u5757\u548c\u5305\u5bfc\u5165 notebook\uff1a</p> <pre><code>%matplotlib inline\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\nplt.style.use('seaborn-whitegrid')\nimport numpy as np\nimport pandas as pd\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_17","title":"\u4f8b\u5b50\uff1a\u8282\u5047\u65e5\u5bf9\u7f8e\u56fd\u51fa\u751f\u7387\u7684\u5f71\u54cd","text":"<p>\u672c\u4f8b\u4e2d\u7684\u6570\u636e\u53ef\u4ee5\u5728 https://raw.githubusercontent.com/jakevdp/data-CDCbirths/master/births.csv \u4e0b\u8f7d\u3002</p> <p>\u6211\u4eec\u5148\u6309\u7167\u524d\u9762\u7684\u65b9\u5f0f\u8fdb\u884c\u540c\u6837\u7684\u6570\u636e\u6e05\u6d17\u7a0b\u5e8f\uff0c\u7136\u540e\u4ee5\u56fe\u8868\u5c55\u793a\u8fd9\u4e2a\u7ed3\u679c\uff1a</p> <pre><code>births = pd.read_csv(r'D:\\python\\Github\u5b66\u4e60\u6750\u6599\\Python\u6570\u636e\u79d1\u5b66\u624b\u518c\\data\\births.csv')\n\nquartiles = np.percentile(births['births'], [25, 50, 75])\nmu, sig = quartiles[1], 0.74 * (quartiles[2] - quartiles[0])\nbirths = births.query('(births &gt; @mu - 5 * @sig) &amp; (births &lt; @mu + 5 * @sig)')\n\nbirths['day'] = births['day'].astype(int)\n\nbirths.index = pd.to_datetime(10000 * births.year +\n                              100 * births.month +\n                              births.day, format='%Y%m%d')\nbirths_by_date = births.pivot_table('births',\n                                    [births.index.month, births.index.day])\nbirths_by_date.index = [pd.datetime(2012, month, day)\n                        for (month, day) in births_by_date.index]\nC:\\Users\\gdc\\Anaconda3\\lib\\site-packages\\ipykernel_launcher.py:15: FutureWarning: The pandas.datetime class is deprecated and will be removed from pandas in a future version. Import from datetime module instead.\n  from ipykernel import kernelapp as app\nfig, ax = plt.subplots(figsize=(12, 4))\nbirths_by_date.plot(ax=ax);\n</code></pre> <p></p> <p>\u5f53\u6211\u4eec\u7ed8\u5236\u4e86\u8fd9\u6837\u7684\u56fe\u8868\u6765\u8868\u8fbe\u6570\u636e\u65f6\uff0c\u5982\u679c\u6211\u4eec\u80fd\u5bf9\u4e00\u4e9b\u56fe\u8868\u7684\u7279\u6027\u4f5c\u51fa\u6807\u6ce8\u6765\u5438\u5f15\u8bfb\u8005\u7684\u6ce8\u610f\u529b\u901a\u5e38\u662f\u975e\u5e38\u6709\u5e2e\u52a9\u7684\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528<code>plt.text</code>\u6216<code>ax.text</code>\u51fd\u6570\u6765\u5b9e\u73b0\uff0c\u5b83\u4eec\u53ef\u4ee5\u5728\u67d0\u4e2a\u7279\u5b9a\u7684 x\uff0cy \u8f74\u4f4d\u7f6e\u8f93\u51fa\u4e00\u6bb5\u6587\u5b57\uff1a</p> <pre><code>fig, ax = plt.subplots(figsize=(12, 4))\nbirths_by_date.plot(ax=ax)\n\n# \u5728\u6298\u7ebf\u7684\u7279\u6b8a\u4f4d\u7f6e\u6807\u6ce8\u6587\u5b57\nstyle = dict(size=10, color='gray')\n\nax.text('2012-1-1', 3950, \"New Year's Day\", **style)\nax.text('2012-7-4', 4250, \"Independence Day\", ha='center', **style)\nax.text('2012-9-4', 4850, \"Labor Day\", ha='center', **style)\nax.text('2012-10-31', 4600, \"Halloween\", ha='right', **style)\nax.text('2012-11-25', 4450, \"Thanksgiving\", ha='center', **style)\nax.text('2012-12-25', 3850, \"Christmas \", ha='right', **style)\n\n# \u8bbe\u7f6e\u6807\u9898\u548cy\u8f74\u6807\u7b7e\nax.set(title='USA births by day of year (1969-1988)',\n       ylabel='average daily births')\n\n# \u8bbe\u7f6ex\u8f74\u6807\u7b7e\u6708\u4efd\u5c45\u4e2d\nax.xaxis.set_major_locator(mpl.dates.MonthLocator())\nax.xaxis.set_minor_locator(mpl.dates.MonthLocator(bymonthday=15))\nax.xaxis.set_major_formatter(plt.NullFormatter())\nax.xaxis.set_minor_formatter(mpl.dates.DateFormatter('%h'));\n</code></pre> <p></p> <p><code>ax.text</code>\u65b9\u6cd5\u63a5\u6536 x \u4f4d\u7f6e\u3001y \u4f4d\u7f6e\u3001\u4e00\u4e2a\u5b57\u7b26\u4e32\u548c\u989d\u5916\u53ef\u9009\u7684\u5173\u952e\u5b57\u53c2\u6570\u53ef\u4ee5\u7528\u6765\u8bbe\u7f6e\u989c\u8272\u3001\u5927\u5c0f\u3001\u6837\u5f0f\u3001\u5bf9\u9f50\u7b49\u6587\u672c\u683c\u5f0f\u3002\u4e0a\u9762\u6211\u4eec\u4f7f\u7528\u4e86<code>ha='right'</code>\u548c<code>ha='center'</code>\uff0c\u8fd9\u91cc\u7684<code>ha</code>\u662fhirizonal alignment\uff08\u6c34\u5e73\u5bf9\u9f50\uff09\u7684\u7f29\u5199\u3002\u8981\u67e5\u9605\u66f4\u591a\u7684\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u67e5\u770b<code>plt.text()</code>\u548c<code>mpl.text.Text()</code>\u7684\u6587\u6863\u5b57\u7b26\u4e32\u5185\u5bb9\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_18","title":"\u8f6c\u6362\u548c\u6587\u672c\u4f4d\u7f6e","text":"<p>\u5728\u521a\u624d\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5c06\u6587\u5b57\u6807\u6ce8\u6839\u636e\u6570\u636e\u4f4d\u7f6e\u8fdb\u884c\u4e86\u5b9a\u4f4d\u3002\u6709\u4e9b\u65f6\u5019\u6211\u4eec\u9700\u8981\u5c06\u6587\u5b57\u6807\u6ce8\u72ec\u7acb\u4e8e\u6570\u636e\u4f4d\u7f6e\u800c\u6839\u636e\u56fe\u8868\u4f4d\u7f6e\u8fdb\u884c\u5b9a\u4f4d\u3002Matplotlib \u901a\u8fc7\u8f6c\u6362\u5b8c\u6210\u8fd9\u9879\u5de5\u4f5c\u3002</p> <p>\u4efb\u4f55\u7684\u56fe\u5f62\u663e\u793a\u6846\u67b6\u90fd\u9700\u8981\u5728\u5750\u6807\u7cfb\u7edf\u4e4b\u95f4\u8fdb\u884c\u8f6c\u6362\u7684\u673a\u5236\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u6570\u636e\u70b9\u4f4d\u4e8e \u88ab\u8f6c\u6362\u4e3a\u56fe\u8868\u4e2d\u7684\u67d0\u4e2a\u4f4d\u7f6e\uff0c\u8fdb\u800c\u8f6c\u6362\u4e3a\u5c4f\u5e55\u4e0a\u663e\u793a\u7684\u50cf\u7d20\u3002\u8fd9\u6837\u7684\u5750\u6807\u8f6c\u6362\u5728\u6570\u5b66\u4e0a\u90fd\u76f8\u5bf9\u6765\u8bf4\u6bd4\u8f83\u76f4\u63a5\uff0c\uff0c\u800c\u4e14 Matplotlib \u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684\u5de5\u5177\u5b9e\u73b0\u4e86\u8f6c\u6362\uff08\u8fd9\u4e9b\u5de5\u5177\u53ef\u4ee5\u5728<code>matplotlib.transforms</code>\u6a21\u5757\u4e2d\u627e\u5230\uff09\u3002</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u7528\u6237\u5f88\u5c11\u9700\u8981\u5173\u6ce8\u8fd9\u4e9b\u8f6c\u6362\u7684\u7ec6\u8282\uff0c\u4f46\u662f\u5f53\u8003\u8651\u5c06\u6587\u672c\u5728\u56fe\u8868\u4e0a\u5c55\u793a\u65f6\uff0c\u8fd9\u4e9b\u77e5\u8bc6\u5374\u6bd4\u8f83\u6709\u7528\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e2d\uff0c\u4e0b\u9762\u4e09\u79cd\u5b9a\u4e49\u597d\u7684\u8f6c\u6362\u662f\u6bd4\u8f83\u6709\u7528\u7684\uff1a</p> <ul> <li><code>ax.transData</code>\uff1a\u4e0e\u6570\u636e\u5750\u6807\u76f8\u5173\u7684\u8f6c\u6362</li> <li><code>ax.tranAxes</code>\uff1a\u4e0e Axes \u5c3a\u5bf8\u76f8\u5173\u7684\u8f6c\u6362\uff08\u5355\u4f4d\u662f axes \u7684\u5bbd\u548c\u9ad8\uff09</li> <li><code>ax.tranFigure</code>\uff1a\u4e0e figure \u5c3a\u5bf8\u76f8\u5173\u7684\u8f6c\u6362\uff08\u5355\u4f4d\u662f figure \u7684\u5bbd\u548c\u9ad8\uff09</li> </ul> <p>\u4e0b\u9762\u6211\u4eec\u6765\u770b\u770b\u4f7f\u7528\u8fd9\u4e9b\u8f6c\u6362\u5c06\u6587\u5b57\u5199\u5728\u56fe\u8868\u4e2d\u4e0d\u540c\u4f4d\u7f6e\u7684\u4f8b\u5b50\uff1a</p> <pre><code>fig, ax = plt.subplots(facecolor='lightgray')\nax.axis([0, 10, 0, 10])\n\n# transform=ax.transData\u662f\u9ed8\u8ba4\u7684\uff0c\u8fd9\u91cc\u5199\u51fa\u6765\u662f\u4e3a\u4e86\u660e\u786e\u5bf9\u6bd4\nax.text(1, 5, \". Data: (1, 5)\", transform=ax.transData)\nax.text(0.5, 0.1, \". Axes: (0.5, 0.1)\", transform=ax.transAxes)\nax.text(0.2, 0.2, \". Figure: (0.2, 0.2)\", transform=fig.transFigure);\n</code></pre> <p></p> <p>\u6ce8\u610f\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6587\u5b57\u662f\u5728\u6307\u5b9a\u5750\u6807\u4f4d\u7f6e\u9760\u5de6\u5bf9\u9f50\u7684\uff1a\u8fd9\u91cc\u6bcf\u4e2a\u5b57\u7b26\u4e32\u5f00\u59cb\u7684\".\"\u7684\u4f4d\u7f6e\u5c31\u662f\u6bcf\u79cd\u8f6c\u6362\u7684\u5750\u6807\u4f4d\u7f6e\u3002</p> <p><code>transData</code>\u5750\u6807\u7ed9\u5b9a\u7684\u662f\u901a\u5e38\u4f7f\u7528\u7684 x \u548c y \u8f74\u5750\u6807\u4f4d\u7f6e\u3002<code>transAxes</code>\u5750\u6807\u7ed9\u5b9a\u7684\u662f\u4ece axes \u5de6\u4e0b\u89d2\u5f00\u59cb\u7b97\u8d77\uff08\u767d\u8272\u533a\u57df\uff09\u7684\u5750\u6807\u4f4d\u7f6e\uff0c\u4f7f\u7528\u7684\u662f\u5bbd\u5ea6\u548c\u957f\u5ea6\u7684\u5360\u6bd4\u3002<code>transFigure</code>\u5750\u6807\u7c7b\u4f3c\uff0c\u7ed9\u5b9a\u7684\u662f\u4ece figure \u5de6\u4e0b\u89d2\u5f00\u59cb\u7b97\u8d77\uff08\u7070\u8272\u533a\u57df\uff09\u7684\u5750\u6807\u4f4d\u7f6e\uff0c\u4f7f\u7528\u7684\u4e5f\u662f\u5bbd\u5ea6\u548c\u957f\u5ea6\u7684\u5360\u6bd4\u3002</p> <p>\u56e0\u6b64\u5982\u679c\u6211\u4eec\u6539\u53d8\u4e86\u8f74\u7684\u6700\u5927\u957f\u5ea6\uff0c\u53ea\u6709<code>transData</code>\u5750\u6807\u4f1a\u6536\u5230\u5f71\u54cd\uff0c\u5176\u4ed6\u4e24\u4e2a\u8fd8\u662f\u4fdd\u6301\u5728\u76f8\u540c\u4f4d\u7f6e\uff1a</p> <pre><code>ax.set_xlim(0, 2)\nax.set_ylim(-6, 6)\nfig\n</code></pre> <p></p> <p>\u8fd9\u4e2a\u53d8\u5316\u53ef\u4ee5\u901a\u8fc7\u52a8\u6001\u6539\u53d8\u8f74\u7684\u6700\u5927\u957f\u5ea6\u770b\u7684\u66f4\u52a0\u6e05\u695a\uff1a\u5982\u679c\u4f60\u5728 notebook \u6267\u884c\u8fd9\u6bb5\u4ee3\u7801\uff0c\u4f60\u53ef\u4ee5\u5c06<code>%matplotlib inline</code>\u6539\u4e3a<code>%matplotlib notebook</code>\uff0c\u7136\u540e\u4f7f\u7528\u56fe\u8868\u7684\u83dc\u5355\u6765\u4ea4\u4e92\u5f0f\u7684\u6539\u53d8\u56fe\u8868\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_19","title":"\u7bad\u5934\u548c\u6807\u6ce8","text":"<p>\u9664\u4e86\u523b\u5ea6\u6807\u7b7e\u548c\u6587\u5b57\u6807\u7b7e\uff0c\u53e6\u4e00\u79cd\u5e38\u7528\u7684\u6807\u6ce8\u662f\u7bad\u5934\u3002</p> <p>\u5728 Matplotlib \u4e2d\u7ed8\u5236\u7bad\u5934\u901a\u5e38\u6bd4\u4f60\u60f3\u8c61\u7684\u96be\u5f97\u591a\u3002\u867d\u7136\u6709<code>plt.arrow()</code>\u51fd\u6570\uff0c\u4f5c\u8005\u4e0d\u5efa\u8bae\u4f7f\u7528\u5b83\uff1a\u8fd9\u4e2a\u51fd\u6570\u7ed8\u5236\u7684\u7bad\u5934\u662f\u4e00\u4e2a SVG \u5bf9\u8c61\uff0c\u56e0\u6b64\u5728\u56fe\u8868\u4f7f\u7528\u4e0d\u540c\u7684\u6bd4\u4f8b\u7684\u60c5\u51b5\u4f1a\u4ea7\u751f\u95ee\u9898\uff0c\u7ed3\u679c\u901a\u5e38\u4e0d\u80fd\u8ba9\u7528\u6237\u6ee1\u610f\u3002\u56e0\u6b64\uff0c\u4f5c\u8005\u5efa\u8bae\u4f7f\u7528<code>plt.annotate()</code>\u51fd\u6570\u3002\u8fd9\u4e2a\u51fd\u6570\u4f1a\u7ed8\u5236\u4e00\u4e9b\u6587\u5b57\u4ee5\u53ca\u4e00\u4e2a\u7bad\u5934\uff0c\u5e76\u4e14\u7bad\u5934\u53ef\u4ee5\u975e\u5e38\u7075\u6d3b\u7684\u8fdb\u884c\u914d\u7f6e\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u63d0\u4f9b\u4e00\u4e9b\u53c2\u6570\u6765\u4f7f\u7528<code>annotate</code>\u51fd\u6570\uff1a</p> <pre><code>%matplotlib inline\n\nfig, ax = plt.subplots()\n\nx = np.linspace(0, 20, 1000)\nax.plot(x, np.cos(x))\nax.axis('equal')\n\nax.annotate('local maximum', xy=(6.28, 1), xytext=(10, 4),\n            arrowprops=dict(facecolor='black', shrink=0.05))\n\nax.annotate('local minimum', xy=(5 * np.pi, -1), xytext=(2, -6),\n            arrowprops=dict(arrowstyle=\"-&gt;\",\n                            connectionstyle=\"angle3,angleA=0,angleB=-90\"));\n</code></pre> <p></p> <p>\u7bad\u5934\u7684\u6837\u5f0f\u662f\u4f7f\u7528<code>\u7bad\u5934\u5c5e\u6027</code>\u5b57\u5178\u503c\u8fdb\u884c\u63a7\u5236\u7684\uff0c\u91cc\u9762\u6709\u5f88\u591a\u53ef\u7528\u7684\u53c2\u6570\u3002\u8fd9\u4e9b\u53c2\u6570\u5728 Matplotlib \u7684\u5728\u7ebf\u6587\u6863\u4e2d\u5df2\u7ecf\u6709\u4e86\u5f88\u8be6\u7ec6\u7684\u8bf4\u660e\uff0c\u56e0\u6b64\u5728\u8fd9\u91cc\u5c31\u4e0d\u5c06\u8fd9\u90e8\u5206\u5185\u5bb9\u91cd\u590d\u4ecb\u7ecd\u4e00\u904d\u4e86\u3002\u6211\u4eec\u5728\u524d\u9762\u51fa\u751f\u7387\u56fe\u4e0a\u518d\u4f7f\u7528\u4e00\u4e9b\u53c2\u6570\u8fdb\u884c\u66f4\u591a\u7684\u8bf4\u660e\uff1a</p> <pre><code>fig, ax = plt.subplots(figsize=(12, 4))\nbirths_by_date.plot(ax=ax)\n\n# \u4e3a\u56fe\u8868\u6dfb\u52a0\u6807\u6ce8\nax.annotate(\"New Year's Day\", xy=('2012-1-1', 4100),  xycoords='data',\n            xytext=(50, -30), textcoords='offset points',\n            arrowprops=dict(arrowstyle=\"-&gt;\",\n                            connectionstyle=\"arc3,rad=-0.2\"))\n\nax.annotate(\"Independence Day\", xy=('2012-7-4', 4250),  xycoords='data',\n            bbox=dict(boxstyle=\"round\", fc=\"none\", ec=\"gray\"),\n            xytext=(10, -40), textcoords='offset points', ha='center',\n            arrowprops=dict(arrowstyle=\"-&gt;\"))\n\nax.annotate('Labor Day', xy=('2012-9-4', 4850), xycoords='data', ha='center',\n            xytext=(0, -20), textcoords='offset points')\nax.annotate('', xy=('2012-9-1', 4850), xytext=('2012-9-7', 4850),\n            xycoords='data', textcoords='data',\n            arrowprops={'arrowstyle': '|-|,widthA=0.2,widthB=0.2', })\n\nax.annotate('Halloween', xy=('2012-10-31', 4600),  xycoords='data',\n            xytext=(-80, -40), textcoords='offset points',\n            arrowprops=dict(arrowstyle=\"fancy\",\n                            fc=\"0.6\", ec=\"none\",\n                            connectionstyle=\"angle3,angleA=0,angleB=-90\"))\n\nax.annotate('Thanksgiving', xy=('2012-11-25', 4500),  xycoords='data',\n            xytext=(-120, -60), textcoords='offset points',\n            bbox=dict(boxstyle=\"round4,pad=.5\", fc=\"0.9\"),\n            arrowprops=dict(arrowstyle=\"-&gt;\",\n                            connectionstyle=\"angle,angleA=0,angleB=80,rad=20\"))\n\n\nax.annotate('Christmas', xy=('2012-12-25', 3850),  xycoords='data',\n             xytext=(-30, 0), textcoords='offset points',\n             size=13, ha='right', va=\"center\",\n             bbox=dict(boxstyle=\"round\", alpha=0.1),\n             arrowprops=dict(arrowstyle=\"wedge,tail_width=0.5\", alpha=0.1));\n\n# \u8bbe\u7f6e\u56fe\u8868\u6807\u9898\u548c\u5750\u6807\u8f74\u6807\u8bb0\nax.set(title='USA births by day of year (1969-1988)',\n       ylabel='average daily births')\n\n# \u8bbe\u7f6e\u6708\u4efd\u5750\u6807\u5c45\u4e2d\u663e\u793a\nax.xaxis.set_major_locator(mpl.dates.MonthLocator())\nax.xaxis.set_minor_locator(mpl.dates.MonthLocator(bymonthday=15))\nax.xaxis.set_major_formatter(plt.NullFormatter())\nax.xaxis.set_minor_formatter(mpl.dates.DateFormatter('%h'));\n\nax.set_ylim(3600, 5400);\n</code></pre> <p></p> <p>\u4e0a\u56fe\u4e2d\u7bad\u5934\u548c\u6587\u5b57\u6846\u90fd\u975e\u5e38\u8be6\u5c3d\u4e86\uff1a\u53ef\u4ee5\u770b\u51fa\u4f60\u51e0\u4e4e\u53ef\u4ee5\u4f7f\u7528<code>plt.annotate</code>\u521b\u5efa\u4efb\u4f55\u4f60\u60f3\u8981\u7684\u7bad\u5934\u6837\u5f0f\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u8fd9\u610f\u5473\u7740\u8fd9\u79cd\u7279\u6027\u90fd\u9700\u8981\u624b\u5de5\u8fdb\u884c\u8c03\u6574\uff0c\u56e0\u6b64\u5982\u679c\u9700\u8981\u83b7\u5f97\u5370\u5237\u8d28\u91cf\u7684\u56fe\u50cf\uff0c\u8fd9\u5c06\u662f\u4e00\u4e2a\u975e\u5e38\u8017\u8d39\u65f6\u95f4\u7684\u5de5\u4f5c\u3002\u6700\u540e\uff0c\u5fc5\u987b\u6307\u51fa\uff0c\u4e0a\u8ff0\u8fd9\u79cd\u591a\u79cd\u6837\u5f0f\u6df7\u5408\u7684\u65b9\u5f0f\u6765\u5c55\u73b0\u6570\u636e\u80af\u5b9a\u4e0d\u662f\u6700\u4f73\u5b9e\u8df5\uff0c\u8fd9\u91cc\u53ea\u662f\u4e3a\u4e86\u5c3d\u53ef\u80fd\u591a\u7684\u4ecb\u7ecd\u53ef\u7528\u7684\u53c2\u6570\u3002</p> <p>\u66f4\u591a\u5173\u4e8e Matplotlib \u7684\u7bad\u5934\u548c\u6807\u6ce8\u6837\u5f0f\u7684\u8ba8\u8bba\u548c\u4f8b\u5b50\u53ef\u4ee5\u8bbf\u95ee Matplotlib gallery\uff0c\u7279\u522b\u662f\u6807\u6ce8\u6f14\u793a[6]\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#10","title":"10.\u81ea\u5b9a\u4e49\u523b\u5ea6","text":"<p>Matplotlib \u9ed8\u8ba4\u7684\u523b\u5ea6\u6807\u5fd7\u548c\u683c\u5f0f\u88ab\u8bbe\u8ba1\u6210\u80fd\u6ee1\u8db3\u8bb8\u591a\u901a\u7528\u573a\u666f\u7684\u9700\u6c42\uff0c\u4f46\u662f\u4e0d\u4f1a\u662f\u6240\u6709\u56fe\u8868\u7684\u6700\u4f73\u9009\u62e9\u3002\u672c\u8282\u4f1a\u4ecb\u7ecd\u4e00\u4e9b\u8c03\u6574\u523b\u5ea6\u4f4d\u7f6e\u548c\u683c\u5f0f\u7684\u4f8b\u5b50\u6765\u8bf4\u660e\u81ea\u5b9a\u4e49\u523b\u5ea6\u7684\u4f7f\u7528\u3002</p> <p>\u5728\u4ecb\u7ecd\u4f8b\u5b50\u4e4b\u524d\uff0c\u6211\u4eec\u5e94\u8be5\u52a0\u6df1\u5bf9 Matplotlib \u56fe\u8868\u7684\u5bf9\u8c61\u5c42\u6b21\u7684\u7406\u89e3\u3002Matplotlib \u7684\u8bbe\u8ba1\u76ee\u6807\u662f\u5c55\u793a\u5728\u56fe\u8868\u4e2d\u7684\u6240\u6709\u5185\u5bb9\u90fd\u4f1a\u8868\u8fbe\u6210\u4e3a Python \u7684\u5bf9\u8c61\uff1a\u4f8b\u5982\uff0c\u56de\u5fc6\u524d\u9762\u6211\u4eec\u4ecb\u7ecd\u8fc7<code>figure</code>\u6307\u7684\u662f\u7528\u6765\u5c55\u793a\u56fe\u8868\u6240\u6709\u5185\u5bb9\u7684\u65b9\u6846\u3002\u6bcf\u4e2a Matplotlib \u5bf9\u8c61\u4e5f\u88ab\u8bbe\u8ba1\u4e3a\u5176\u5b50\u5bf9\u8c61\u7684\u4e00\u4e2a\u5bb9\u5668\uff1a\u4f8b\u5982<code>figure</code>\u5bf9\u8c61\u4e2d\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a<code>axes</code>\u5bf9\u8c61\uff0c\u6bcf\u4e2a<code>axes</code>\u5bf9\u8c61\u90fd\u4f9d\u6b21\u5305\u542b\u7740\u5176\u4ed6\u7528\u6765\u5c55\u793a\u56fe\u8868\u7684\u5185\u5bb9\u5bf9\u8c61\u3002</p> <p>\u523b\u5ea6\u4e5f\u4e0d\u4f8b\u5916\u3002\u6bcf\u4e2a<code>axes</code>\u5bf9\u8c61\u90fd\u6709\u7740\u5c5e\u6027<code>xaxis</code>\u548c<code>yaxis</code>\uff0c\u8868\u793a x \u548c y \u8f74\uff0c\u5176\u4e2d\u5305\u542b\u7740\u6240\u6709\u7684\u5c5e\u6027\u7528\u6765\u6307\u4ee3\u8f74\u7684\u7ebf\u3001\u523b\u5ea6\u548c\u6807\u7b7e\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_20","title":"\u4e3b\u8981\u7684\u548c\u6b21\u8981\u7684\u523b\u5ea6","text":"<p>\u5728\u6bcf\u4e2a\u5750\u6807\u8f74\u4e0a\uff0c\u90fd\u6709\u4e3b\u8981\u7684\u523b\u5ea6\u548c\u6b21\u8981\u7684\u523b\u5ea6\u6982\u5ff5\u3002\u6b63\u5982\u540d\u5b57\u6307\u4ee3\u7684\uff0c\u4e3b\u8981\u523b\u5ea6\u901a\u5e38\u662f\u5927\u7684\u548c\u66f4\u591a\u7528\u5230\u7684\uff0c\u800c\u6b21\u8981\u523b\u5ea6\u901a\u5e38\u662f\u5c0f\u7684\u3002\u9ed8\u8ba4 Matplotlib \u5f88\u5c11\u4f7f\u7528\u6b21\u8981\u523b\u5ea6\uff0c\u4f46\u662f\u5728\u5bf9\u6570\u56fe\u8868\u4e2d\u6211\u4eec\u53ef\u80fd\u4f1a\u770b\u5230\u5b83\u4eec\uff1a</p> <p>\u5728 Matplotlib 2.0 \u4e4b\u540e\uff0c\u5f53 axis \u7684\u8de8\u5ea6\u8fc7\u5927\u65f6\uff0c\u9ed8\u8ba4\u6b21\u8981\u523b\u5ea6\u5c06\u4f1a\u4e0d\u518d\u5c55\u793a\uff0c\u56e0\u6b64\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u7ecf\u8fc7\u4e86\u4fee\u6539\uff0c\u52a0\u4e0a\u4e86 xlim \u548c ylim \u53c2\u6570\u3002</p> <pre><code>import matplotlib.pyplot as plt\nplt.style.use('classic')\n%matplotlib inline\nimport numpy as np\nax = plt.axes(xscale='log', yscale='log', xlim=[10e-5, 10e5], ylim=[10e-5, 10e5])\nax.grid();\n</code></pre> <p></p> <p>\u6211\u4eec\u770b\u5230\u6bcf\u4e2a\u4e3b\u8981\u523b\u5ea6\u663e\u793a\u4e86\u4e00\u4e2a\u5927\u7684\u6807\u5fd7\u548c\u6807\u7b7e\uff0c\u800c\u6bcf\u4e2a\u6b21\u8981\u523b\u5ea6\u663e\u793a\u4e86\u4e00\u4e2a\u5c0f\u7684\u523b\u5ea6\u6807\u5fd7\u6ca1\u6709\u6807\u7b7e\u3002</p> <p>\u8fd9\u4e9b\u523b\u5ea6\u5c5e\u6027\uff0c\u4f4d\u7f6e\u548c\u6807\u7b7e\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528\u6bcf\u4e2a\u8f74\u7684<code>formatter</code>\u548c<code>locator</code>\u5bf9\u8c61\u8fdb\u884c\u4e2a\u6027\u5316\u8bbe\u7f6e\u3002\u4e0b\u9762\u6211\u4eec\u6765\u67e5\u770b\u4e00\u4e0b x \u8f74\u7684\u76f8\u5e94\u5bf9\u8c61\uff1a</p> <pre><code>print(ax.xaxis.get_major_locator())\nprint(ax.xaxis.get_minor_locator())\n&lt;matplotlib.ticker.LogLocator object at 0x000001E8074AF108&gt;\n&lt;matplotlib.ticker.LogLocator object at 0x000001E8074AD908&gt;\nprint(ax.xaxis.get_major_formatter())\nprint(ax.xaxis.get_minor_formatter())\n&lt;matplotlib.ticker.LogFormatterSciNotation object at 0x000001E8074AEB88&gt;\n&lt;matplotlib.ticker.LogFormatterSciNotation object at 0x000001E8074ADB48&gt;\n</code></pre> <p>\u6211\u4eec\u770b\u5230\u4e3b\u8981\u548c\u6b21\u8981\u523b\u5ea6\u7684\u4f4d\u7f6e\u90fd\u662f\u4f7f\u7528<code>LogLocator</code>\u6765\u8bbe\u7f6e\u7684\uff08\u5bf9\u4e8e\u5bf9\u6570\u56fe\u8868\u6765\u8bf4\u90a3\u662f\u7406\u6240\u5f53\u7136\u7684\uff09\u3002\u7136\u800c\u6b21\u8981\u523b\u5ea6\u7684\u6807\u7b7e\u7684\u683c\u5f0f\u662f<code>NullFormatter</code>\uff1a\u8fd9\u8868\u793a\u6b21\u8981\u523b\u5ea6\u4e0d\u4f1a\u663e\u793a\u6807\u7b7e\u3002</p> <p>\u8bd1\u8005\u6ce8\uff1a\u65b0\u7248 Matplotlib \u5df2\u7ecf\u4fee\u6539\uff0c\u53ef\u4ee5\u770b\u5230 Formatter \u90fd\u7edf\u4e00\u6210\u4e3a\u4e86 LogFormatterSciNotation\uff0c\u518d\u6839\u636e\u56fe\u8868\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u662f\u5426\u5c55\u793a\u6807\u7b7e\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u5c31\u53ef\u4ee5\u5f00\u59cb\u4ecb\u7ecd\u4e00\u4e9b\u8bbe\u7f6e\u8fd9\u4e9b locator \u548c formatter \u7684\u4f8b\u5b50\u4e86\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_21","title":"\u9690\u85cf\u523b\u5ea6\u548c\u6807\u7b7e","text":"<p>\u4e5f\u8bb8\u6700\u5e38\u89c1\u7684\u523b\u5ea6/\u6807\u7b7e\u683c\u5f0f\u8bbe\u7f6e\u7684\u64cd\u4f5c\u662f\u9690\u85cf\u523b\u5ea6\u6216\u6807\u7b7e\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528<code>plt.NullLocator()</code>\u548c<code>plt.NullFormatter()</code>\u6765\u8bbe\u7f6e\uff0c\u5982\u4e0b\u4f8b\uff1a</p> <pre><code>ax = plt.axes()\nax.plot(np.random.rand(50))\n\nax.yaxis.set_major_locator(plt.NullLocator())\nax.xaxis.set_major_formatter(plt.NullFormatter())\n</code></pre> <p></p> <p>\u6ce8\u610f\u4e0a\u56fe\u4e2d\u6211\u4eec\u53bb\u9664\u4e86 x \u8f74\u7684\u6807\u7b7e\uff08\u4f46\u662f\u4fdd\u7559\u4e86\u523b\u5ea6\u6216\u7f51\u683c\u7ebf\uff09\uff0cy \u8f74\u7684\u523b\u5ea6\u548c\u6807\u7b7e\u90fd\u88ab\u53bb\u9664\u4e86\u3002\u56fe\u8868\u4e2d\u6ca1\u6709\u523b\u5ea6\u548c\u6807\u7b7e\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\u5f88\u6709\u7528\uff0c\u4f8b\u5982\uff0c\u5f53\u4f60\u5e0c\u671b\u5c55\u793a\u4e00\u4e2a\u56fe\u50cf\u7684\u7f51\u683c\u3002\u6bd4\u65b9\u8bf4\uff0c\u8003\u8651\u4e0b\u9762\u7684\u56fe\u8868\uff0c\u5305\u542b\u7740\u4e0d\u540c\u7684\u5934\u50cf\uff0c\u4e00\u4e2a\u5f88\u5e38\u89c1\u7684\u6709\u76d1\u7763\u673a\u5668\u5b66\u4e60\u95ee\u9898\uff1a</p> <pre><code>fig, ax = plt.subplots(5, 5, figsize=(5, 5))\nfig.subplots_adjust(hspace=0, wspace=0)\n\n# \u4ecescikit-learn\u8f7d\u5165\u5934\u50cf\u6570\u636e\u96c6\nfrom sklearn.datasets import fetch_olivetti_faces\nfaces = fetch_olivetti_faces().images\n\nfor i in range(5):\n    for j in range(5):\n        ax[i, j].xaxis.set_major_locator(plt.NullLocator())\n        ax[i, j].yaxis.set_major_locator(plt.NullLocator())\n        ax[i, j].imshow(faces[10 * i + j], cmap=\"bone\")\ndownloading Olivetti faces from\nhttps://ndownloader.figshare.com/files/5976027\nto C:\\Users\\gdc\\scikit_learn_data\n</code></pre> <p></p> <p>\u6ce8\u610f\u4e0a\u56fe\u4e2d\u6bcf\u5f20\u56fe\u50cf\u90fd\u6709\u5b83\u81ea\u5df1\u7684 axes\uff0c\u6211\u4eec\u5c06\u6bcf\u4e00\u4e2a axes \u7684 locator \u90fd\u8bbe\u7f6e\u4e3a null \u56e0\u4e3a\u8fd9\u4e9b\u523b\u5ea6\u503c\uff08\u50cf\u7d20\u503c\uff09\u5728\u8fd9\u91cc\u5e76\u6ca1\u6709\u4efb\u4f55\u5b9e\u9645\u610f\u4e49\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_22","title":"\u51cf\u5c11\u6216\u589e\u52a0\u523b\u5ea6\u7684\u6570\u91cf","text":"<p>\u9ed8\u8ba4\u8bbe\u7f6e\u7684\u4e00\u4e2a\u5e38\u89c1\u95ee\u9898\u662f\u5f53\u5b50\u56fe\u8868\u8f83\u5c0f\u65f6\uff0c\u523b\u5ea6\u6807\u7b7e\u53ef\u80fd\u4f1a\u7c98\u5728\u4e00\u8d77\u3002\u6211\u4eec\u53ef\u4ee5\u4ece\u4e0b\u9762\u4f8b\u5b50\u770b\u5230\uff1a</p> <pre><code>fig, ax = plt.subplots(4, 4, sharex=True, sharey=True)\n</code></pre> <p></p> <p>\u7279\u522b\u662f x \u8f74\uff0c\u6807\u7b7e\u7684\u6570\u5b57\u5c31\u5feb\u91cd\u53e0\u5728\u4e00\u8d77\u4e86\uff0c\u8fd9\u8ba9\u8fd9\u4e9b\u6807\u7b7e\u96be\u4ee5\u8ba4\u6e05\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>plt.MaxNLocator()</code>\u6765\u4fee\u6b63\u8fd9\u70b9\uff0c\u7528\u5b83\u53ef\u4ee5\u8bbe\u7f6e\u6700\u5927\u5c55\u793a\u523b\u5ea6\u7684\u6570\u91cf\u3002Matplotlib \u4f1a\u81ea\u5df1\u8ba1\u7b97\u6309\u7167\u8fd9\u4e2a\u6700\u5927\u6570\u91cf\u8ba1\u7b97\u7684\u523b\u5ea6\u4f4d\u7f6e\uff1a</p> <pre><code># \u5bf9x\u548cy\u8f74\u8bbe\u7f6e\u523b\u5ea6\u6700\u5927\u6570\u91cf\nfor axi in ax.flat:\n    axi.xaxis.set_major_locator(plt.MaxNLocator(3))\n    axi.yaxis.set_major_locator(plt.MaxNLocator(3))\nfig\n</code></pre> <p></p> <p>\u4e0a\u56fe\u5c31\u6e05\u6670\u591a\u4e86\u3002\u5982\u679c\u4f60\u5e0c\u671b\u5bf9\u4e8e\u523b\u5ea6\u4f4d\u7f6e\u8fdb\u884c\u66f4\u52a0\u7cbe\u7ec6\u7684\u63a7\u5236\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528<code>plt.MultipleLocator</code>\uff0c\u6211\u4eec\u4f1a\u63a5\u4e0b\u6765\u8ba8\u8bba\u8fd9\u4e2a\u5bf9\u8c61\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_23","title":"\u590d\u6742\u7684\u523b\u5ea6\u683c\u5f0f","text":"<p>Matplotlib \u7684\u9ed8\u8ba4\u523b\u5ea6\u683c\u5f0f\u53ea\u80fd\u5728\u5f88\u591a\u5e38\u89c1\u60c5\u51b5\u4e0b\u5de5\u4f5c\u826f\u597d\uff0c\u4f46\u662f\u5728\u7279\u6b8a\u60c5\u51b5\u4e0b\u4f60\u4f1a\u5e0c\u671b\u80fd\u591f\u66f4\u591a\u7684\u8fdb\u884c\u4e2a\u6027\u5316\u3002\u8003\u8651\u4e0b\u9762\u7684\u6b63\u5f26\u548c\u4f59\u5f26\u56fe\u8868\uff1a</p> <pre><code># \u7ed8\u5236\u6b63\u5f26\u548c\u4f59\u5f26\u56fe\u8868\nfig, ax = plt.subplots()\nx = np.linspace(0, 3 * np.pi, 1000)\nax.plot(x, np.sin(x), lw=3, label='Sine')\nax.plot(x, np.cos(x), lw=3, label='Cosine')\n\n# \u8bbe\u7f6e\u7f51\u683c\u3001\u56fe\u4f8b\u548c\u8f74\u6781\u9650\nax.grid(True)\nax.legend(frameon=False)\nax.axis('equal')\nax.set_xlim(0, 3 * np.pi);\n</code></pre> <p></p> <p>\u8fd9\u91cc\u6709\u51e0\u4e2a\u6211\u4eec\u5e0c\u671b\u8fdb\u884c\u7684\u6539\u53d8\u3002\u9996\u5148\uff0c\u5982\u679c\u523b\u5ea6\u7684\u95f4\u8ddd\u548c\u7f51\u683c\u7ebf\u662fpi\u7684\u500d\u6570\u4f1a\u663e\u5f97\u66f4\u52a0\u81ea\u7136\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>MultipleLocator</code>\u6765\u8bbe\u7f6e\u5b83\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u7528\u6765\u8bbe\u7f6e\u523b\u5ea6\u7684\u914d\u7f6e\u3002\u4e3a\u4e86\u66f4\u76f4\u89c2\uff0c\u6211\u4eec\u8bbe\u7f6e\u4e3b\u8981\u523b\u5ea6\u4e3a \u4f4d\u7f6e\uff0c\u8bbe\u7f6e\u6b21\u8981\u523b\u5ea6\u4e3a \u4f4d\u7f6e\uff1a</p> <pre><code>ax.xaxis.set_major_locator(plt.MultipleLocator(np.pi / 2))\nax.xaxis.set_minor_locator(plt.MultipleLocator(np.pi / 4))\nfig\n</code></pre> <p></p> <p>\u4f46\u662f\u4e0a\u56fe\u770b\u8d77\u6765\u6709\u70b9\u50bb\uff1a\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\u523b\u5ea6\u786e\u5b9e\u662f \u7684\u500d\u6570\uff0c\u4f46\u662f\u4f7f\u7528\u4e86\u5c0f\u6570\u7684\u5c55\u793a\u8ba9\u5b83\u4eec\u770b\u8d77\u6765\u5f88\u5947\u602a\u3002\u8981\u4fee\u6b63\u8fd9\u4e9b\u6807\u7b7e\uff0c\u6211\u4eec\u9700\u8981\u4fee\u6539\u523b\u5ea6\u7684 formatter\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e2d\uff0c\u6ca1\u6709\u5167\u5efa\u7684 formatter \u53ef\u4ee5\u7ed9\u6211\u4eec\u4f7f\u7528\uff0c\u56e0\u6b64\u6211\u4eec\u4f7f\u7528<code>plt.FuncFormatter</code>\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u80fd\u591f\u63a5\u53d7\u4e00\u4e2a\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u51fd\u6570\u6765\u63d0\u4f9b\u5bf9\u4e8e\u523b\u5ea6\u6807\u7b7e\u7684\u7cbe\u7ec6\u63a7\u5236\uff1a</p> <pre><code>def format_func(value, tick_number):\n    # N\u662fpi/2\u7684\u500d\u6570\n    N = int(np.round(2 * value / np.pi))\n    if N == 0:\n        return \"0\" # 0\u70b9\n    elif N == 1:\n        return r\"$\\frac{\\pi}{2}$\" # pi/2\n    elif N == 2:\n        return r\"$\\pi$\" # pi\n    elif N % 2 &gt; 0:\n        return r\"$\\frac{{%d}\\pi}{2}$\" %N # n*pi/2 n\u662f\u5947\u6570\n    else:\n        return r\"${0}\\pi$\".format(N // 2) # n*pi n\u662f\u6574\u6570\n\nax.xaxis.set_major_formatter(plt.FuncFormatter(format_func))\nfig\n</code></pre> <p></p> <p>\u4e0a\u56fe\u770b\u8d77\u6765\u597d\u591a\u4e86\u3002\u6ce8\u610f\u5230\u6211\u4eec\u4f7f\u7528\u5230\u4e86 Matplotlib \u7684 LaTeX \u652f\u6301\uff0c\u4f7f\u7528\u7f8e\u5143\u7b26\u53f7\u5c06 LaTeX \u5b57\u7b26\u4e32\u62ec\u8d77\u6765\u3002\u8fd9\u662f\u7528\u6765\u5c55\u793a\u6570\u5b66\u7b26\u53f7\u548c\u516c\u5f0f\u7684\u7b80\u4fbf\u65b9\u6cd5\uff1a\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d<code>\"$\\pi$\"</code>\u88ab\u6e32\u67d3\u6210\u5e0c\u814a\u5b57\u6bcd \u3002</p> <p><code>plt.FuncFomatter()</code>\u63d0\u4f9b\u4e86\u5bf9\u4e8e\u56fe\u8868\u523b\u5ea6\u6700\u9ad8\u7ea7\u7684\u81ea\u5b9a\u4e49\u548c\u7cbe\u7ec6\u63a7\u5236\uff0c\u5e76\u4e14\u5f53\u4f60\u9700\u8981\u521b\u5efa\u9700\u8981\u5370\u5237\u6216\u51fa\u7248\u7684\u56fe\u8868\u65f6\u975e\u5e38\u65b9\u4fbf\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#formatter-locator","title":"Formatter \u548c Locator \u603b\u7ed3","text":"<p>\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u4e00\u4e9b formatter \u548c locator\u3002\u5728\u6700\u540e\u6211\u4eec\u901a\u8fc7\u5c06\u5167\u5efa\u7684 locator \u548c formatter \u53c2\u6570\u5217\u51fa\u6765\u5bf9\u672c\u8282\u505a\u4e00\u4e2a\u603b\u7ed3\u3002\u8981\u83b7\u5f97\u66f4\u591a\u76f8\u5173\u5185\u5bb9\uff0c\u8bf7\u53c2\u9605\u6587\u6863\u6216 Matplotlib \u7684\u5728\u7ebf\u6587\u6863\u3002\u4e0b\u8868\u4e2d\u5217\u51fa\u7684\u5bf9\u8c61\u5728<code>plt</code>\u547d\u540d\u7a7a\u95f4\u4e2d\u90fd\u662f\u6709\u6548\u7684\uff1a</p> Locator \u5bf9\u8c61 \u63cf\u8ff0 <code>NullLocator</code> \u65e0\u523b\u5ea6 <code>FixedLocator</code> \u56fa\u5b9a\u523b\u5ea6\u4f4d\u7f6e <code>IndexLocator</code> \u5e8f\u53f7\u56fe\u8868\u523b\u5ea6 (\u4f8b\u5982 x = range(len(y))) <code>LinearLocator</code> \u4ece\u6700\u5c0f\u5230\u6700\u5927\u503c\u7684\u5747\u5300\u5206\u5272\u523b\u5ea6 <code>LogLocator</code> \u4ece\u6700\u5c0f\u5230\u6700\u5927\u503c\u7684\u5bf9\u6570\u5206\u5272\u523b\u5ea6 <code>MultipleLocator</code> \u67d0\u4e2a\u57fa\u6570\u7684\u500d\u6570\u523b\u5ea6 <code>MaxNLocator</code> \u523b\u5ea6\u6570\u91cf\u6700\u5927\u503c <code>AutoLocator</code> \u9ed8\u8ba4\u7684\u523b\u5ea6\u6570\u91cf\u6700\u5927\u503c <code>AutoMinorLocator</code> \u9ed8\u8ba4\u7684\u6b21\u8981\u523b\u5ea6 Formatter \u5bf9\u8c61 \u63cf\u8ff0 <code>NullFormatter</code> \u65e0\u6807\u7b7e <code>IndexFormatter</code> \u4ece\u4e00\u4e2a\u5217\u8868\u83b7\u5f97\u6807\u7b7e <code>FixedFormatter</code> \u4ece\u56fa\u5b9a\u7684\u5b57\u7b26\u4e32\u8bbe\u7f6e\u6807\u7b7e <code>FuncFormatter</code> \u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u8bbe\u7f6e\u6807\u7b7e <code>FormatStrFormatter</code> \u4f7f\u7528\u4e00\u4e2a\u683c\u5f0f\u5316\u5b57\u7b26\u4e32\u8bbe\u7f6e\u6807\u7b7e <code>ScalarFormatter</code> \u9ed8\u8ba4\u7684\u6807\u91cf\u6807\u7b7e <code>LogFormatter</code> \u9ed8\u8ba4\u7684\u5bf9\u6570\u6807\u7b7e"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#11-matplotlib","title":"11.\u5728 matplotlib \u4e2d\u521b\u5efa\u4e09\u7ef4\u56fe\u8868","text":"<p>Matplotlib \u6700\u5f00\u59cb\u88ab\u8bbe\u8ba1\u4e3a\u4ec5\u652f\u6301\u4e8c\u7ef4\u7684\u56fe\u8868\u3002\u5230 1.0 \u7248\u672c\u53d1\u5e03\u5de6\u53f3\uff0c\u4e00\u4e9b\u4e09\u7ef4\u56fe\u8868\u7684\u5de5\u5177\u5728\u4e8c\u7ef4\u5c55\u793a\u7684\u57fa\u7840\u4e0a\u88ab\u521b\u5efa\u4e86\u51fa\u6765\uff0c\u7ed3\u679c\u5c31\u662f Matplotlib \u63d0\u4f9b\u4e86\u4e00\u4e2a\u65b9\u4fbf\u7684\uff08\u540c\u65f6\u4e5f\u662f\u6709\u9650\u7684\uff09\u7684\u53ef\u7528\u4e8e\u4e09\u7ef4\u6570\u636e\u53ef\u89c6\u5316\u7684\u4e00\u5957\u5de5\u5177\u3002\u4e09\u7ef4\u56fe\u8868\u53ef\u4ee5\u4f7f\u7528\u8f7d\u5165<code>mplot3d</code>\u5de5\u5177\u5305\u6765\u6fc0\u6d3b\uff0c\u8fd9\u4e2a\u5305\u4f1a\u968f\u7740 Matplotlib \u81ea\u52a8\u5b89\u88c5\uff1a</p> <pre><code>from mpl_toolkits import mplot3d\n</code></pre> <p>\u4e00\u65e6\u6a21\u5757\u88ab\u5bfc\u5165\uff0c\u4e09\u7ef4 axes \u5c31\u53ef\u4ee5\u50cf\u5176\u4ed6\u666e\u901a axes \u4e00\u6837\u901a\u8fc7\u5173\u952e\u5b57\u53c2\u6570<code>projection='3d'</code>\u6765\u521b\u5efa\uff1a</p> <pre><code>%matplotlib inline\nimport numpy as np\nimport matplotlib.pyplot as plt\nfig = plt.figure()\nax = plt.axes(projection='3d')\n</code></pre> <p></p> <p>\u4e09\u7ef4 axes \u6fc0\u6d3b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4e0a\u9762\u7ed8\u5236\u4e0d\u540c\u7684\u4e09\u7ef4\u56fe\u8868\u7c7b\u578b\u3002\u4e09\u7ef4\u56fe\u8868\u5728 notebook \u4e2d\u4f7f\u7528\u4ea4\u4e92\u5f0f\u56fe\u8868\u5c55\u793a\u4f1a\u4f18\u4e8e\u4f7f\u7528\u9759\u6001\u5c55\u793a\uff1b\u56de\u5fc6\u6211\u4eec\u524d\u9762\u4ecb\u7ecd\u8fc7\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528<code>%matplotlib notebook</code>\u800c\u4e0d\u662f<code>%matplotlib inline</code>\u6765\u6fc0\u6d3b\u4ea4\u4e92\u5f0f\u5c55\u793a\u6a21\u5f0f\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_24","title":"\u4e09\u7ef4\u7684\u70b9\u548c\u7ebf","text":"<p>\u4e09\u7ef4\u56fe\u8868\u4e2d\u6700\u57fa\u7840\u7684\u662f\u4f7f\u7528(x, y, z)\u5750\u6807\u5b9a\u4e49\u7684\u4e00\u6839\u7ebf\u6216\u6563\u70b9\u7684\u96c6\u5408\u3002\u524d\u9762\u4ecb\u7ecd\u8fc7\u666e\u901a\u7684\u4e8c\u7ef4\u56fe\u8868\uff0c\u4f5c\u4e3a\u7c7b\u6bd4\uff0c\u4f7f\u7528<code>ax.plot3D</code>\u548c<code>ax.scatter3D</code>\u51fd\u6570\u53ef\u4ee5\u521b\u5efa\u4e09\u7ef4\u6298\u7ebf\u548c\u6563\u70b9\u56fe\u3002\u8fd9\u4e24\u4e2a\u51fd\u6570\u7684\u7b7e\u540d\u4e0e\u4e8c\u7ef4\u7684\u7248\u672c\u57fa\u672c\u4e00\u81f4\uff0c\u4f60\u53ef\u4ee5\u53c2\u8003[\u7b80\u5355\u6298\u7ebf\u56fe]\u548c[\u7b80\u5355\u6563\u70b9\u56fe]\u6765\u590d\u4e60\u4e00\u4e0b\u8fd9\u90e8\u5206\u7684\u5185\u5bb9\u3002\u4e0b\u9762\u6211\u4eec\u7ed8\u5236\u4e00\u4e2a\u4e09\u7ef4\u4e2d\u7684\u4e09\u89d2\u87ba\u65cb\uff0c\u5728\u7ebf\u7684\u9644\u8fd1\u5728\u7ed8\u5236\u4e00\u4e9b\u968f\u673a\u7684\u70b9\uff1a</p> <pre><code>ax = plt.axes(projection='3d')\n\n# \u4e09\u7ef4\u87ba\u65cb\u7ebf\u7684\u6570\u636e\nzline = np.linspace(0, 15, 1000)\nxline = np.sin(zline)\nyline = np.cos(zline)\nax.plot3D(xline, yline, zline, 'gray')\n\n# \u4e09\u7ef4\u6563\u70b9\u7684\u6570\u636e\nzdata = 15 * np.random.random(100)\nxdata = np.sin(zdata) + 0.1 * np.random.randn(100)\nydata = np.cos(zdata) + 0.1 * np.random.randn(100)\nax.scatter3D(xdata, ydata, zdata, c=zdata, cmap='Greens');\n</code></pre> <p></p> <p>\u6ce8\u610f\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u56fe\u4e2d\u7684\u6563\u70b9\u4f1a\u6709\u900f\u660e\u5ea6\u7684\u533a\u522b\uff0c\u7528\u4e8e\u4f53\u73b0\u5728\u56fe\u4e2d\u6563\u70b9\u7684\u6df1\u5ea6\u3002\u867d\u7136\u4e09\u7ef4\u6548\u679c\u5728\u9759\u6001\u56fe\u50cf\u4e2d\u96be\u4ee5\u663e\u793a\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ea4\u4e92\u5f0f\u7684\u89c6\u56fe\u6765\u83b7\u5f97\u66f4\u4f73\u7684\u4e09\u7ef4\u76f4\u89c2\u6548\u679c\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_25","title":"\u4e09\u7ef4\u8f6e\u5ed3\u56fe","text":"<p>\u7c7b\u4f3c\u4e8e\u6211\u4eec\u5728[\u5bc6\u5ea6\u548c\u8f6e\u5ed3\u56fe]\u4e2d\u4ecb\u7ecd\u7684\u5185\u5bb9\uff0c<code>mplot3d</code>\u4e5f\u5305\u542b\u7740\u80fd\u591f\u521b\u5efa\u4e09\u7ef4\u6d6e\u96d5\u56fe\u50cf\u7684\u5de5\u5177\u3002\u5c31\u50cf\u4e8c\u7ef4\u7684<code>ax.contour</code>\u56fe\u8868\uff0c<code>ax.contour3D</code>\u8981\u6c42\u8f93\u5165\u6570\u636e\u7684\u683c\u5f0f\u662f\u4e8c\u7ef4\u666e\u901a\u7f51\u683c\u4e0a\u8ba1\u7b97\u5f97\u5230\u7684 Z \u8f74\u7684\u6570\u636e\u503c\u3002\u4e0b\u9762\u6211\u4eec\u5c55\u793a\u4e00\u4e2a\u4e09\u7ef4\u7684\u6b63\u5f26\u51fd\u6570\u8f6e\u5ed3\u56fe\uff1a</p> <pre><code>def f(x, y):\n    return np.sin(np.sqrt(x ** 2 + y ** 2))\n\nx = np.linspace(-6, 6, 30)\ny = np.linspace(-6, 6, 30)\n\nX, Y = np.meshgrid(x, y)\nZ = f(X, Y)\nfig = plt.figure()\nax = plt.axes(projection='3d')\nax.contour3D(X, Y, Z, 50, cmap='binary')\nax.set_xlabel('x')\nax.set_ylabel('y')\nax.set_zlabel('z');\n</code></pre> <p></p> <p>\u6709\u65f6\u5019\u9ed8\u8ba4\u7684\u89c6\u89d2\u89d2\u5ea6\u4e0d\u662f\u6700\u7406\u60f3\u7684\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>view_init</code>\u51fd\u6570\u6765\u8bbe\u7f6e\u6c34\u5e73\u89d2\u548c\u65b9\u4f4d\u89d2\u3002\u5728\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u7684\u662f 60\u00b0 \u7684\u6c34\u5e73\u89d2\uff08\u5373\u4ee5 60\u00b0 \u4fef\u89c6 x-y \u5e73\u9762\uff09\u548c 35\u00b0 \u7684\u65b9\u4f4d\u89d2\uff08\u5373\u5c06 z \u8f74\u9006\u65f6\u9488\u65cb\u8f6c 35\u00b0\uff09\uff1a</p> <pre><code>ax.view_init(60, 35)\nfig\n</code></pre> <p></p> <p>\u540c\u6837\uff0c\u6ce8\u610f\u5230\u5f53\u4f7f\u7528 Matplotlib \u4ea4\u4e92\u5f0f\u5c55\u793a\u662f\uff0c\u8fd9\u6837\u7684\u65cb\u8f6c\u53ef\u4ee5\u901a\u8fc7\u9f20\u6807\u70b9\u51fb\u548c\u62d6\u62fd\u6765\u5b9e\u73b0\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_26","title":"\u6846\u7ebf\u56fe\u548c\u8868\u9762\u56fe","text":"<p>\u4f7f\u7528\u7f51\u683c\u6570\u636e\u751f\u6210\u7684\u4e09\u7ef4\u56fe\u8868\u8fd8\u6709\u6846\u7ebf\u56fe\u548c\u8868\u9762\u56fe\u3002\u8fd9\u4e24\u79cd\u56fe\u8868\u5c06\u7f51\u683c\u6570\u636e\u6295\u5c04\u5230\u7279\u5b9a\u7684\u4e09\u7ef4\u8868\u9762\uff0c\u80fd\u591f\u4f7f\u5f97\u7ed3\u679c\u56fe\u50cf\u975e\u5e38\u76f4\u89c2\u548c\u5177\u6709\u8bf4\u670d\u529b\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u6846\u7ebf\u56fe\u7684\u4f8b\u5b50\uff1a</p> <pre><code>fig = plt.figure()\nax = plt.axes(projection='3d')\nax.plot_wireframe(X, Y, Z, color='black')\nax.set_title('wireframe');\n</code></pre> <p></p> <p>\u8868\u9762\u56fe\u7c7b\u4f3c\u6846\u7ebf\u56fe\uff0c\u533a\u522b\u5728\u4e8e\u6bcf\u4e2a\u6846\u7ebf\u6784\u6210\u7684\u591a\u8fb9\u5f62\u90fd\u4f7f\u7528\u989c\u8272\u8fdb\u884c\u4e86\u586b\u5145\u3002\u6dfb\u52a0\u8272\u56fe\u7528\u4e8e\u586b\u5145\u591a\u8fb9\u5f62\u80fd\u591f\u8ba9\u56fe\u5f62\u8868\u9762\u5c55\u793a\u51fa\u6765\uff1a</p> <pre><code>ax = plt.axes(projection='3d')\nax.plot_surface(X, Y, Z, rstride=1, cstride=1,\n                cmap='viridis', edgecolor='none')\nax.set_title('surface');\n</code></pre> <p></p> <p>\u6ce8\u610f\u867d\u7136\u6bcf\u4e2a\u989c\u8272\u586b\u5145\u7684\u8868\u9762\u90fd\u662f\u4e8c\u7ef4\u7684\uff0c\u4f46\u662f\u8868\u9762\u7684\u8fb9\u7f18\u4e0d\u9700\u8981\u662f\u76f4\u7ebf\u6784\u6210\u7684\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u4f7f\u7528<code>surface3D</code>\u7ed8\u5236\u4e86\u4e00\u4e2a\u90e8\u5206\u6781\u5750\u6807\u7f51\u683c\uff0c\u80fd\u591f\u8ba9\u6211\u4eec\u5207\u5165\u5230\u51fd\u6570\u5185\u90e8\u89c2\u5bdf\u6548\u679c\uff1a</p> <pre><code>r = np.linspace(0, 6, 20)\ntheta = np.linspace(-0.9 * np.pi, 0.8 * np.pi, 40)\nr, theta = np.meshgrid(r, theta)\n\nX = r * np.sin(theta)\nY = r * np.cos(theta)\nZ = f(X, Y)\n\nax = plt.axes(projection='3d')\nax.plot_surface(X, Y, Z, rstride=1, cstride=1,\n                cmap='viridis', edgecolor='none');\n</code></pre> <p></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_27","title":"\u8868\u9762\u4e09\u89d2\u5256\u5206","text":"<p>\u5728\u4e00\u4e9b\u5e94\u7528\u573a\u5408\u4e2d\uff0c\u4e0a\u9762\u7684\u8fd9\u79cd\u5747\u5300\u7f51\u683c\u7ed8\u5236\u7684\u56fe\u8868\u65b9\u5f0f\u592a\u8fc7\u4e8e\u5c40\u9650\u548c\u4e0d\u65b9\u4fbf\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4e09\u89d2\u5256\u5206\u7684\u56fe\u8868\u53ef\u4ee5\u6d3e\u4e0a\u7528\u573a\u3002\u5982\u679c\u6211\u4eec\u5e76\u4e0d\u662f\u4f7f\u7528\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u6216\u6781\u5750\u6807\u7cfb\u7684\u7f51\u683c\u6765\u7ed8\u5236\u4e09\u7ef4\u56fe\u8868\uff0c\u800c\u662f\u4f7f\u7528\u4e00\u7ec4\u968f\u673a\u7684\u70b9\u6765\u7ed8\u5236\u4e09\u7ef4\u56fe\u8868\u5462\uff1f</p> <pre><code>theta = 2 * np.pi * np.random.random(1000)\nr = 6 * np.random.random(1000)\nx = np.ravel(r * np.sin(theta))\ny = np.ravel(r * np.cos(theta))\nz = f(x, y)\n</code></pre> <p>\u6709\u4e86\u4e0a\u9762\u7684\u6570\u636e\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b83\u4eec\u6765\u7ed8\u5236\u4e00\u5f20\u6563\u70b9\u56fe\u8868\u73b0\u51fa\u6837\u672c\u6240\u5728\u8868\u9762\u7684\u60c5\u51b5\uff1a</p> <pre><code>ax = plt.axes(projection='3d')\nax.scatter(x, y, z, c=z, cmap='viridis', linewidth=0.5);\n</code></pre> <p></p> <p>\u4e0a\u56fe\u5e76\u672a\u5f62\u8c61\u7684\u8868\u793a\u51fa\u8868\u9762\u60c5\u51b5\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>ax.plot_trisurf</code>\u51fd\u6570\uff0c\u5b83\u80fd\u9996\u5148\u6839\u636e\u6211\u4eec\u7684\u6570\u636e\u8f93\u5165\u627e\u5230\u5404\u70b9\u5185\u5728\u7684\u4e09\u89d2\u51fd\u6570\u5f62\u5f0f\uff0c\u7136\u540e\u7ed8\u5236\u8868\u9762\uff08\u6ce8\u610f\u7684\u662f\u8fd9\u91cc\u7684 x\uff0cy\uff0cz \u662f\u4e00\u7ef4\u7684\u6570\u7ec4\uff09\uff1a</p> <pre><code>ax = plt.axes(projection='3d')\nax.plot_trisurf(x, y, z,\n                cmap='viridis', edgecolor='none');\n</code></pre> <p></p> <p>\u4e0a\u56fe\u7684\u7ed3\u679c\u5f88\u663e\u7136\u6ca1\u6709\u4f7f\u7528\u7f51\u683c\u7ed8\u5236\u8868\u9762\u56fe\u90a3\u4e48\u6e05\u6670\uff0c\u4f46\u662f\u5bf9\u4e8e\u6211\u4eec\u5e76\u4e0d\u662f\u4f7f\u7528\u51fd\u6570\u6784\u5efa\u6570\u636e\u6837\u672c\uff08\u6570\u636e\u6837\u672c\u901a\u5e38\u6765\u81ea\u771f\u5b9e\u4e16\u754c\u7684\u91c7\u6837\uff09\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd9\u80fd\u63d0\u4f9b\u5f88\u5927\u7684\u5e2e\u52a9\u3002\u4f8b\u5982\u6211\u4eec\u4e0b\u9762\u4f1a\u770b\u5230\uff0c\u80fd\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\u7ed8\u5236\u4e00\u6761\u4e09\u7ef4\u7684\u83ab\u6bd4\u4e4c\u65af\u73af\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_28","title":"\u4f8b\u5b50\uff1a\u7ed8\u5236\u83ab\u6bd4\u4e4c\u65af\u73af","text":"<p>\u83ab\u6bd4\u4e4c\u65af\u73af\u662f\u4f7f\u7528\u4e00\u6761\u7eb8\u6761\uff0c\u4e00\u7aef\u7ffb\u6298\u540e\u4e0e\u53e6\u4e00\u7aef\u7c98\u8d77\u6765\u5f62\u6210\u7684\u73af\u5f62\u3002\u5728\u62d3\u6251\u5b66\u4e2d\u8fd9\u662f\u975e\u5e38\u6709\u8da3\u7684\u4e00\u4e2a\u5f62\u72b6\uff0c\u56e0\u4e3a\u5b83\u53ea\u6709\u4e00\u4e2a\u9762\u3002\u6211\u4eec\u4e0b\u9762\u4f7f\u7528 Matplotlib \u7684\u4e09\u7ef4\u5de5\u5177\u7ed8\u5236\u83ab\u6bd4\u4e4c\u65af\u73af\u3002\u521b\u5efa\u83ab\u6bd4\u4e4c\u65af\u73af\u7684\u5173\u952e\u5728\u4e8e\u80fd\u53c2\u6570\u5316\u5b83\uff1a\u83ab\u6bd4\u4e4c\u65af\u73af\u662f\u4e00\u4e2a\u4e8c\u7ef4\u7684\u73af\u72b6\u7ed3\u6784\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u4e24\u4e2a\u7279\u5b9a\u7684\u7ef4\u5ea6\u3002\u4e00\u4e2a\u6211\u4eec\u79f0\u4e3a \uff0c\u53d6\u503c\u8303\u56f4\u662f \u8868\u793a\u6574\u4e2a\u73af\u72b6\uff0c\u8fd8\u6709\u4e00\u4e2a\u79f0\u4e3a \uff0c\u53d6\u503c\u8303\u56f4\u662f \u8868\u793a\u7eb8\u5e26\u7684\u5bbd\u5ea6\uff1a</p> <pre><code>theta = np.linspace(0, 2 * np.pi, 30)\nw = np.linspace(-0.25, 0.25, 8)\nw, theta = np.meshgrid(w, theta)\n</code></pre> <p>\u6709\u4e86\u8fd9\u4e24\u4e2a\u53c2\u6570\u4e4b\u540e\uff0c\u6211\u4eec\u9700\u8981\u786e\u5b9a\u83ab\u6bd4\u4e4c\u65af\u73af\u4e0a(x, y, z)\u5750\u6807\u7684\u4f4d\u7f6e\u3002</p> <p>\u4ed4\u7ec6\u601d\u8003\u4e00\u4e0b\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\u5728\u83ab\u6bd4\u4e4c\u65af\u73af\u4e0a\u6709\u4e24\u4e2a\u81ea\u8f6c\u53d1\u751f\uff1a\u4e00\u4e2a\u662f\u7eb8\u5e26\u7ed5\u73af\u5f62\u4e2d\u592e\u4f4d\u7f6e\u7684\u65cb\u8f6c\uff08\u6211\u4eec\u79f0\u4e3a \uff09\uff0c\u53e6\u4e00\u4e2a\u7eb8\u5e26\u7ed5\u7740\u4e2d\u95f4\u8f74\u7ebf\u7684\u65cb\u8f6c\uff08\u6211\u4eec\u79f0\u4e3a \uff09\u3002\u7eb8\u5e26\u4e2d\u592e\u4f4d\u7f6e\u65cb\u8f6c\u4e00\u6574\u5708 \u65f6\uff0c\u7eb8\u5e26\u7ed5\u4e2d\u95f4\u8f74\u7ebf\u65cb\u8f6c\u521a\u597d\u534a\u5708 \uff0c\u6211\u4eec\u5c06\u6574\u4e2a\u65cb\u8f6c\u5747\u5300\u5206\u5e03\u5728\u7eb8\u5e26\u4e0a\u65f6\uff0c\u5c31\u4f1a\u6709 \u3002</p> <pre><code>phi = 0.5 * theta\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\u6240\u6709\u9700\u8981\u83b7\u5f97\u4e09\u7ef4\u5750\u6807\u503c\u7684\u53c2\u6570\u4e86\u3002\u6211\u4eec\u5b9a\u4e49 \u4e3a\u6bcf\u4e2a\u5750\u6807\u70b9\u8ddd\u79bb\u73af\u5f62\u4e2d\u95f4\u7684\u4f4d\u7f6e\uff0c\u4f7f\u7528\u5b83\u6765\u8ba1\u7b97\u6700\u7ec8 \u4e09\u7ef4\u5750\u6807\u7cfb\u7684\u5750\u6807\u503c\uff1a</p> <pre><code># r\u662f\u5750\u6807\u70b9\u8ddd\u79bb\u73af\u5f62\u4e2d\u5fc3\u7684\u8ddd\u79bb\u503c\nr = 1 + w * np.cos(phi)\n# \u5229\u7528\u7b80\u5355\u7684\u4e09\u89d2\u51fd\u6570\u77e5\u8bc6\u7b97\u5f97x\uff0cy\uff0cz\u5750\u6807\u503c\nx = np.ravel(r * np.cos(theta))\ny = np.ravel(r * np.sin(theta))\nz = np.ravel(w * np.sin(phi))\n</code></pre> <p>\u6700\u540e\uff0c\u4e3a\u4e86\u7ed8\u5236\u5bf9\u8c61\uff0c\u6211\u4eec\u5fc5\u987b\u4fdd\u8bc1\u4e09\u89d2\u5256\u5206\u662f\u6b63\u786e\u7684\u3002\u5b9e\u73b0\u8fd9\u4e2a\u6700\u597d\u7684\u65b9\u6cd5\u662f\u5728\u5e95\u5c42\u7684\u53c2\u6570\u4e0a\u9762\u5b9e\u73b0\u4e09\u89d2\u5256\u5206\uff0c\u6700\u540e\u8ba9 Matplotlib \u5c06\u8fd9\u4e2a\u4e09\u89d2\u5256\u5206\u6295\u5c04\u5230\u4e09\u7ef4\u7a7a\u95f4\u4e2d\u5f62\u6210\u83ab\u6bd4\u4e4c\u65af\u73af\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u6700\u7ec8\u7ed8\u5236\u56fe\u5f62\uff1a</p> <pre><code># \u5728\u5e95\u5c42\u53c2\u6570\u7684\u57fa\u7840\u4e0a\u8fdb\u884c\u4e09\u89d2\u5256\u5206\nfrom matplotlib.tri import Triangulation\ntri = Triangulation(np.ravel(w), np.ravel(theta))\n\nax = plt.axes(projection='3d')\nax.plot_trisurf(x, y, z, triangles=tri.triangles,\n                cmap='viridis', linewidths=0.2);\n\nax.set_xlim(-1, 1); ax.set_ylim(-1, 1); ax.set_zlim(-1, 1);\n</code></pre> <p></p> <p>\u7ed3\u5408\u8fd9\u4e9b\u6280\u5de7\uff0c\u80fd\u591f\u4e3a\u4f60\u63d0\u4f9b\u5728 Matplotlib \u521b\u5efa\u548c\u5c55\u73b0\u5927\u91cf\u4e09\u7ef4\u5bf9\u8c61\u548c\u6a21\u5f0f\u7684\u80fd\u529b\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#12xkcd","title":"12.xkcd\u98ce\u683c\u7ed8\u56fe","text":"<p>matplotlib\u4e2d\u96c6\u6210\u4e86skcd\u98ce\u683c\uff0c\u53ef\u4ee5\u901a\u8fc7plt.xkcd()\u5f00\u542f</p> <pre><code>%pylab inline\n# %pylab inline\u76f8\u5f53\u4e8e\u5728notebook\u4e2dimport * from numpy\u548cmatplotlib\uff0c\u4ee5\u53caimport as np\u548cplt\n\nplt.xkcd()  # Yes...\nplt.plot(sin(linspace(0, 10)))\nplt.title('Whoo Hoo!!!')\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#13","title":"13.\u5176\u5b83\u683c\u5f0f\u63a7\u5236\u6280\u5de7","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_29","title":"\u51cf\u5c11\u5750\u6807\u8f74\u523b\u5ea6\u6570\u91cf\uff0c\u907f\u514d\u523b\u5ea6\u8fc7\u4e8e\u5bc6\u96c6","text":"<p>\u4ee5\u4e0b\u4ee3\u7801\u8bbe\u7f6ex\u8f74\u4e3a\u53d8\u91cfDate\uff0c\u523b\u5ea6\u95f4\u9694\u4e3a15\u5929 <pre><code> plt.figure(figsize=(12, 6))\n plt.plot(df[\"Date\"], df[\"Price\"])\n #\u6bcf15\u4e2a\u523b\u5ea6\u663e\u793a\u4e00\u6b21\n plt.xticks(np.arange(0, len(df), 15), fontsize=12)\n plt.yticks(fontsize=12)\n\n plt.show()\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_30","title":"\u4f7f\u7528\u8f85\u52a9\u8f74\u5728\u4e00\u5f20\u56fe\u4e0a\u663e\u793a\u4e24\u4e2a\u53d8\u91cf","text":"<pre><code> fig, ax1 = plt.subplots(figsize=(12,6))\n ax2 = ax1.twinx()\n\n ax1.plot(df[\"Date\"], df[\"Price\"])\n ax2.plot(df[\"Date\"], df[\"SalesQty\"], color=\"orange\")\n ax1.set_ylabel(\"Price\", fontsize=15)\n ax2.set_ylabel(\"SalesQty\", fontsize=15)\n ax1.tick_params(axis='both', which='major', labelsize=12)\n ax2.tick_params(axis='both', which='major', labelsize=12)\n\n plt.xticks(np.arange(0, len(df), 15))\n ax1.grid(False)\n ax2.grid(False)\n\n plt.show()\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#x","title":"\u5171\u4eabx\u8f74\u7684\u5b50\u56fe\u5750\u6807\u5bf9\u9f50","text":"<p>\u7528tight_layout\u5373\u53ef <pre><code>fig, (ax1, ax2) = plt.subplots(\n    nrows=2, ncols=1,\n    sharex=True,\n    figsize=(12, 8)\n )\nfig.tight_layout(pad=2)\n\nax1.plot(df[\"Date\"], df[\"Price\"])\nax1.set_title(\"Price\", fontsize=15)\n\nax2.plot(df[\"Date\"], df[\"SalesQty\"])\nax2.set_title(\"SalesQty\", fontsize=15)\n\nax1.tick_params(axis='both', which='major', labelsize=12)\nax2.tick_params(axis='both', which='major', labelsize=12)\nplt.xticks(np.arange(0, len(df), 15), fontsize=12)\nplt.show()\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#14","title":"14.\u5176\u4ed6\u5e38\u7528\u7ed8\u56fe","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_31","title":"\u8868\u8fbe\u591a\u4e2a\u53d8\u91cf\u95f4\u7684\u5173\u7cfb","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_32","title":"\u70ed\u56fe","text":"<p>\u89c1\u5b98\u7f51 https://matplotlib.org/stable/gallery/images_contours_and_fields/image_annotated_heatmap.html \uff0c\u5728\u8868\u8fbe\u53d8\u91cf\u95f4\u5173\u7cfb\u65f6\u5341\u5206\u597d\u7528\u3002</p> <p></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_33","title":"\u53d8\u91cf\u77e9\u9635","text":"<p>matplotlib\u7f3a\u5c11\u7ed8\u5236\u53d8\u91cf\u77e9\u9635\u7684\u529f\u80fd\uff0c\u4f46\u53ef\u4ee5\u7528pandas\u6216\u8005plotly\u7684<code>scatter_matrix</code>\u51fd\u6570\u5b9e\u73b0\u3002</p> <p><pre><code>X = pd.DataFrame(np.random.randn(1000, 4), columns=['A','B','C','D'])\ncategory = pd.DataFrame(np.random.randint(low=0,high=8,size=1000), columns=['Category'])\ndf = pd.concat([category,X],axis=1)\ny = df['Category']\npd.plotting.scatter_matrix(X, c = y, figsize=(9,9))\n</code></pre> </p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/matplotlib%E5%85%A5%E9%97%A8/#_34","title":"\u77e2\u91cf\u573a\u51fd\u6570","text":"<p><code>plt.quiver</code>\u51fd\u6570\u53ef\u4ee5\u7ed8\u5236\u77e2\u91cf\u573a\uff0c\u4e0b\u9762\u7684\u4f8b\u5b50\u7ed8\u5236\u51fd\u6570\\(f(x)=x_1*exp(-(x_1^2+x_2^2))\\)\u7684\u503c\u7b49\u9ad8\u7ebf\u56fe\u548c\u68af\u5ea6\u573a\u56fe</p> <p><pre><code>import sympy\nfrom sympy.functions import exp\n\n# \u5b9a\u4e49\u53d8\u91cf\nx1,x2 = sympy.symbols('x1 x2')\n# \u5b9a\u4e49\u539f\u51fd\u6570\nf_x = x1*exp(-(x1**2 + x2**2))\nprint(f_x)\n\n# \u6c42\u68af\u5ea6\u51fd\u6570\ngrad_f = [sympy.diff(f_x,var) for var in (x1,x2)]\nprint(grad_f)\n\n# \u628a\u539f\u51fd\u6570\u548c\u68af\u5ea6\u51fd\u6570\u4ecesympy\u8f6c\u5316\u4e3a\u666e\u901a\u7684numpy\u51fd\u6570\nf_x_fcn = sympy.lambdify([x1,x2],f_x)\ngrad_fcn = sympy.lambdify([x1,x2],grad_f)\n\n# \u77e2\u91cf\u56fe\u7ed8\u5236\u95f4\u9694\u66f4\u5927\u4e00\u70b9\nxx1, xx2 = np.meshgrid(np.linspace(-2,2,40),np.linspace(-2,2,40))\nxx1_, xx2_ = np.meshgrid(np.linspace(-2,2,20),np.linspace(-2,2,20))\n\nff_x = f_x_fcn(xx1,xx2)\nV = grad_fcn(xx1_,xx2_)\n\n# contourf\u7ed8\u5236\u7b49\u9ad8\u7ebf\nplt.contourf(xx1, xx2, ff_x,20, cmap = 'RdBu_r')\n\n# quiver\u7ed8\u5236\u68af\u5ea6\u573a\nplt.quiver (xx1_, xx2_, V[0], V[1],\n            angles='xy', scale_units='xy',\n            edgecolor='none', facecolor= 'k')\nplt.show()\n</code></pre> </p> <p><code>plt.quiver</code>\u57283D\u56fe\u4e0a\u4e5f\u53ef\u4ee5\u7528</p> <pre><code>ff_x_ = f_x_fcn(xx1_,xx2_)\n\n# 3D visualization + vectors\nax = plt.figure().add_subplot(projection='3d')\nax.plot_wireframe(xx1, xx2, ff_x, rstride=1, \n                  cstride=1, color = [0.5,0.5,0.5],\n                  linewidth = 0.2)\nax.contour3D(xx1, xx2, ff_x, 20, cmap = 'RdBu_r')\n\nlengths = np.sqrt(V[0]**2+V[1]**2+1**2)\n\nfor x1,y1,z1,u1,v1,w1,l in zip(xx1_.flatten(),\n                               xx2_.flatten(),\n                               ff_x_.flatten(),\n                               V[0].flatten(), \n                               V[1].flatten(), \n                               V[0].flatten()*0 - 1,\n                               lengths.flatten()):\n\n    ax.quiver(x1, y1, z1, u1, v1, w1, length=l*0.2,\n              color = 'k')\n\nax.xaxis.set_ticks([])\nax.yaxis.set_ticks([])\nax.zaxis.set_ticks([])\nplt.xlim(-2,2)\nplt.ylim(-2,2)\nax.view_init(30, -125)\nax.set_xlabel('$x_1$')\nax.set_ylabel('$x_2$')\nax.set_zlabel('$f(x_1,x_2)$')\nplt.show()\n</code></pre> <p></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/numba/","title":"numba\u7684\u4f7f\u7528","text":"In\u00a0[\u00a0]: Copied! <pre>import numpy\nfrom numba import jit, njit\nfrom numba.typed import List\n\n# @jit(nopython=True)\n@njit\ndef do_trig(x, y):\n    z = numpy.empty_like(x)\n    for i in range(x.shape[0]):\n        for j in range(x.shape[1]):\n            z[i, j] = numpy.sin(x[i, j]**2) + numpy.cos(y[i, j])\n    return z\n\nx = numpy.random.random((1000, 1000))\ny = numpy.random.random((1000, 1000))\n\n%timeit do_trig(x, y)\n</pre> import numpy from numba import jit, njit from numba.typed import List  # @jit(nopython=True) @njit def do_trig(x, y):     z = numpy.empty_like(x)     for i in range(x.shape[0]):         for j in range(x.shape[1]):             z[i, j] = numpy.sin(x[i, j]**2) + numpy.cos(y[i, j])     return z  x = numpy.random.random((1000, 1000)) y = numpy.random.random((1000, 1000))  %timeit do_trig(x, y) <p>\u53ef\u4ee5\u5728jit\u4e2d\u6307\u5b9a\u8f93\u5165\u8f93\u51fa\u53c2\u6570\u7c7b\u578b\uff0c\u652f\u6301\u7684\u7c7b\u578b\u89c1https://numba.readthedocs.io/en/stable/reference/types.html#basic-types \u3002\u6ce8\u610fjit\u4f1a\u201c\u9884\u7f16\u8bd1\u201d\u4f60\u7684\u4ee3\u7801\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u4f1a\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u56fa\u5b9a\u4f4f\u5404\u4e2a\u53d8\u91cf\u7684\u6570\u636e\u7c7b\u578b\uff1b\u6240\u4ee5\u4f7f\u7528jit\u52a0\u901f\u65f6\uff0c\u5982\u679c\u60f3\u8981\u4f7f\u7528\u7684\u662ffloat\u6570\u7ec4\u7684\u8bdd\uff0c\u5c31\u4e0d\u80fd\u7528[0]*len(x)\u5b9a\u4e49\u3001\u800c\u5e94\u8be5\u7528\uff1a[0.]*len(x)</p> <pre>@numba.jit([\n        \"void(int64, int64, int64, int64, float32[:,:,:,:],\"\n        \"int64, int64, int64, float32[:,:,:,:], float32[:,:,:,:])\"\n    ], nopython=True)\n    def conv_bp(n, n_filters, out_h, out_w, dx_padded,\n            filter_height, filter_width, sd, inner_weight, delta):\n</pre> In\u00a0[\u00a0]: Copied! <pre>from numba import njit, int32\n \n@njit(int32(int32, int32))\ndef f_t(x, y):\n    return x + y\n</pre> from numba import njit, int32   @njit(int32(int32, int32)) def f_t(x, y):     return x + y <p>\u901a\u8fc7enable\u5e76\u884c\u53ef\u4ee5\u5b9e\u73b0\u8fdb\u4e00\u6b65\u52a0\u901f\u3002\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u9009\u9879\uff0c\u5982fastmath=True\u727a\u7272\u5c11\u91cf\u7cbe\u5ea6\u63d0\u5347\u901f\u5ea6\uff0c\u591a\u7ebf\u7a0b\u4e0b\u901a\u8fc7@jit(nogil=True)\u7ed5\u5f00GIL\u9501\u7b49\uff0c\u9700\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u548c\u6d4b\u8bd5\u7ed3\u679c\u9009\u7528</p> In\u00a0[\u00a0]: Copied! <pre>import numba\nfrom numba import prange # parallel=True\u65f6\uff0c\u5faa\u73af\u5185range\u8981\u6539\u6210prange\u4f7f\u5f97numba\u80fd\u591f\u8bc6\u522b\n\nnumba.config.NUMBA_DEFAULT_NUM_THREADS=4 # \u5e76\u884c\u5ea6\u4e0d\u662f\u8d8a\u9ad8\u8d8a\u597d\uff0c\u901a\u5e38\u4e0d\u8d85\u8fc7CPU\u6838\u6570\n\n@njit(parallel=True,fastmath=True) # \u8fdb\u4e00\u6b65\u4f18\u5316\u5e76\u884c\ndef do_trig_p(x, y):\n    z = numpy.empty_like(x)\n    for i in prange(x.shape[0]):\n        for j in prange(x.shape[1]):\n            z[i, j] = numpy.sin(x[i, j]**2) + numpy.cos(y[i, j])\n    return z\n\n%timeit do_trig_p(x, y)\n</pre> import numba from numba import prange # parallel=True\u65f6\uff0c\u5faa\u73af\u5185range\u8981\u6539\u6210prange\u4f7f\u5f97numba\u80fd\u591f\u8bc6\u522b  numba.config.NUMBA_DEFAULT_NUM_THREADS=4 # \u5e76\u884c\u5ea6\u4e0d\u662f\u8d8a\u9ad8\u8d8a\u597d\uff0c\u901a\u5e38\u4e0d\u8d85\u8fc7CPU\u6838\u6570  @njit(parallel=True,fastmath=True) # \u8fdb\u4e00\u6b65\u4f18\u5316\u5e76\u884c def do_trig_p(x, y):     z = numpy.empty_like(x)     for i in prange(x.shape[0]):         for j in prange(x.shape[1]):             z[i, j] = numpy.sin(x[i, j]**2) + numpy.cos(y[i, j])     return z  %timeit do_trig_p(x, y) In\u00a0[\u00a0]: Copied! <pre>import math\nfrom numba import vectorize\n\n# @vectorize\n@vectorize('float64(float64, float64)', target='cuda') #\u6307\u5b9a\u7c7b\u578b\u53ef\u4ee5\u8fdb\u4e00\u6b65\u52a0\u901f\uff0c\u67d0\u4e9b\u7c7b\u578b\u53ef\u80fd\u9700\u8981\u4ecenumba\u91ccimport\ndef do_trig_vec_par(x, y):\n    z = math.sin(x**2) + math.cos(y)\n    return z\n\n%timeit do_trig_vec_par(x, y)\n</pre> import math from numba import vectorize  # @vectorize @vectorize('float64(float64, float64)', target='cuda') #\u6307\u5b9a\u7c7b\u578b\u53ef\u4ee5\u8fdb\u4e00\u6b65\u52a0\u901f\uff0c\u67d0\u4e9b\u7c7b\u578b\u53ef\u80fd\u9700\u8981\u4ecenumba\u91ccimport def do_trig_vec_par(x, y):     z = math.sin(x**2) + math.cos(y)     return z  %timeit do_trig_vec_par(x, y) In\u00a0[\u00a0]: Copied! <pre>import numba as nb\nimport numpy as np\n\n# \u666e\u901a\u7684 MaxPool\ndef max_pool_kernel(x, rs, *args):\n    n, n_channels, pool_height, pool_width, out_h, out_w = args\n    for i in range(n):\n        for j in range(n_channels):\n            for p in range(out_h):\n                for q in range(out_w):\n                    window = x[i, j, p:p+pool_height, q:q+pool_width]\n                    rs[i, j, p, q] += np.max(window)\n\n# \u7b80\u5355\u5730\u52a0\u4e86\u4e2a jit \u540e\u7684 MaxPool\n@nb.jit(nopython=True)\ndef jit_max_pool_kernel(x, rs, *args):\n    n, n_channels, pool_height, pool_width, out_h, out_w = args\n    for i in range(n):\n        for j in range(n_channels):\n            for p in range(out_h):\n                for q in range(out_w):\n                    window = x[i, j, p:p+pool_height, q:q+pool_width]\n                    rs[i, j, p, q] += np.max(window)\n\n# \u4e0d\u60e7\u7528 for \u7684\u3001\u201c\u66f4\u50cf C\u201d\u7684 MaxPool\n@nb.jit(nopython=True)\ndef jit_max_pool_kernel2(x, rs, *args):\n    n, n_channels, pool_height, pool_width, out_h, out_w = args\n    for i in range(n):\n        for j in range(n_channels):\n            for p in range(out_h):\n                for q in range(out_w):\n                    _max = x[i, j, p, q]\n                    for r in range(pool_height):\n                        for s in range(pool_width):\n                            _tmp = x[i, j, p+r, q+s]\n                            if _tmp &gt; _max:\n                                _max = _tmp\n                    rs[i, j, p, q] += _max\n\n# MaxPool \u7684\u5c01\u88c5\ndef max_pool(x, kernel, args):\n    n, n_channels = args[:2]\n    out_h, out_w = args[-2:]\n    rs = np.zeros([n, n_filters, out_h, out_w], dtype=np.float32)\n    kernel(x, rs, *args)\n    return rs\n\n# 64 \u4e2a 3 x 28 x 28 \u7684\u56fe\u50cf\u8f93\u5165\uff08\u6a21\u62df mnist\uff09\nx = np.random.randn(64, 3, 28, 28).astype(np.float32)\n# 16 \u4e2a 5 x 5 \u7684 kernel\nw = np.random.randn(16, x.shape[1], 5, 5).astype(np.float32)\n\nn, n_channels, height, width = x.shape\nn_filters, _, filter_height, filter_width = w.shape\nout_h = height - filter_height + 1\nout_w = width - filter_width + 1\n\npool_height, pool_width = 2, 2\nn, n_channels, height, width = x.shape\nout_h = height - pool_height + 1\nout_w = width - pool_width + 1\nargs = (n, n_channels, pool_height, pool_width, out_h, out_w)\n\nassert np.allclose(max_pool(x, max_pool_kernel, args), max_pool(x, jit_max_pool_kernel, args))\nassert np.allclose(max_pool(x, jit_max_pool_kernel, args), max_pool(x, jit_max_pool_kernel2, args))\n%timeit max_pool(x, max_pool_kernel, args)\n%timeit max_pool(x, jit_max_pool_kernel, args)\n%timeit max_pool(x, jit_max_pool_kernel2, args)\n</pre> import numba as nb import numpy as np  # \u666e\u901a\u7684 MaxPool def max_pool_kernel(x, rs, *args):     n, n_channels, pool_height, pool_width, out_h, out_w = args     for i in range(n):         for j in range(n_channels):             for p in range(out_h):                 for q in range(out_w):                     window = x[i, j, p:p+pool_height, q:q+pool_width]                     rs[i, j, p, q] += np.max(window)  # \u7b80\u5355\u5730\u52a0\u4e86\u4e2a jit \u540e\u7684 MaxPool @nb.jit(nopython=True) def jit_max_pool_kernel(x, rs, *args):     n, n_channels, pool_height, pool_width, out_h, out_w = args     for i in range(n):         for j in range(n_channels):             for p in range(out_h):                 for q in range(out_w):                     window = x[i, j, p:p+pool_height, q:q+pool_width]                     rs[i, j, p, q] += np.max(window)  # \u4e0d\u60e7\u7528 for \u7684\u3001\u201c\u66f4\u50cf C\u201d\u7684 MaxPool @nb.jit(nopython=True) def jit_max_pool_kernel2(x, rs, *args):     n, n_channels, pool_height, pool_width, out_h, out_w = args     for i in range(n):         for j in range(n_channels):             for p in range(out_h):                 for q in range(out_w):                     _max = x[i, j, p, q]                     for r in range(pool_height):                         for s in range(pool_width):                             _tmp = x[i, j, p+r, q+s]                             if _tmp &gt; _max:                                 _max = _tmp                     rs[i, j, p, q] += _max  # MaxPool \u7684\u5c01\u88c5 def max_pool(x, kernel, args):     n, n_channels = args[:2]     out_h, out_w = args[-2:]     rs = np.zeros([n, n_filters, out_h, out_w], dtype=np.float32)     kernel(x, rs, *args)     return rs  # 64 \u4e2a 3 x 28 x 28 \u7684\u56fe\u50cf\u8f93\u5165\uff08\u6a21\u62df mnist\uff09 x = np.random.randn(64, 3, 28, 28).astype(np.float32) # 16 \u4e2a 5 x 5 \u7684 kernel w = np.random.randn(16, x.shape[1], 5, 5).astype(np.float32)  n, n_channels, height, width = x.shape n_filters, _, filter_height, filter_width = w.shape out_h = height - filter_height + 1 out_w = width - filter_width + 1  pool_height, pool_width = 2, 2 n, n_channels, height, width = x.shape out_h = height - pool_height + 1 out_w = width - pool_width + 1 args = (n, n_channels, pool_height, pool_width, out_h, out_w)  assert np.allclose(max_pool(x, max_pool_kernel, args), max_pool(x, jit_max_pool_kernel, args)) assert np.allclose(max_pool(x, jit_max_pool_kernel, args), max_pool(x, jit_max_pool_kernel2, args)) %timeit max_pool(x, max_pool_kernel, args) %timeit max_pool(x, jit_max_pool_kernel, args) %timeit max_pool(x, jit_max_pool_kernel2, args) In\u00a0[\u00a0]: Copied! <pre>import numpy\nfrom numba import njit\n\nclass Point():\n\"\"\"    \n    Arguments:\n        domain: the domain of random generated coordinates x,y,z, \n                default=1.0\n    Attributes:\n        x, y, z: coordinates of the point\n    \"\"\"\n    def __init__(self, domain=1.0):\n        self.x = domain * numpy.random.random()\n        self.y = domain * numpy.random.random()\n        self.z = domain * numpy.random.random()\n            \n    def distance(self, other):\n        return ((self.x - other.x)**2 + \n                (self.y - other.y)**2 + \n                (self.z - other.z)**2)**.5\n\nclass Particle(Point):\n\"\"\"    \n    Attributes:\n        m: mass of the particle\n        phi: the potential of the particle\n    \"\"\"\n    \n    def __init__(self, domain=1.0, m=1.0):\n        Point.__init__(self, domain) ##\u7236\u7c7b\u7684\u521d\u59cb\u5316\u5426\u5219\u7684\u8bdd\u4e00\u822c\u662f Particle.__inti__()\n        self.m = m\n        self.phi = 0.\n</pre> import numpy from numba import njit  class Point():     \"\"\"         Arguments:         domain: the domain of random generated coordinates x,y,z,                  default=1.0          Attributes:         x, y, z: coordinates of the point     \"\"\"     def __init__(self, domain=1.0):         self.x = domain * numpy.random.random()         self.y = domain * numpy.random.random()         self.z = domain * numpy.random.random()                  def distance(self, other):         return ((self.x - other.x)**2 +                  (self.y - other.y)**2 +                  (self.z - other.z)**2)**.5  class Particle(Point):     \"\"\"         Attributes:         m: mass of the particle         phi: the potential of the particle     \"\"\"          def __init__(self, domain=1.0, m=1.0):         Point.__init__(self, domain) ##\u7236\u7c7b\u7684\u521d\u59cb\u5316\u5426\u5219\u7684\u8bdd\u4e00\u822c\u662f Particle.__inti__()         self.m = m         self.phi = 0.  <p>\u8fd9\u91cc\u6211\u4eec\u5c31\u5b9a\u4e49\u4e86\u4e00\u4e2a\u53ebParticle\u7684\u5bf9\u8c61\uff0c\u76f4\u63a5\u8c03\u7528\u4ed6\u7684\u5c5e\u6027\u5c31\u4f1a\u4ea7\u751f\u7c7b\u4f3c\u7ed3\u6784\u4f53\u7684\u529f\u80fd\u4e86\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u4ea7\u751f1000\u4e2a\u8fd9\u6837\u7684\u7ed3\u6784\u4f53\u8868\u793a1000\u4e2a\u6570\u636e\u96c6\uff0c\u7136\u540e\u653e\u5165\u666e\u901a\u51fd\u6570\u4e2d\u8ba1\u7b97</p> In\u00a0[\u00a0]: Copied! <pre>n = 1000\nparticles = [Particle(m = 1 / n) for i in range(n)]\ndef direct_sum(particles):\n\"\"\"\n    Calculate the potential at each particle\n    using direct summation method.\n\n    Arguments:\n        particles: the list of particles\n\n    \"\"\"\n    for i, target in enumerate(particles):\n        for source in (particles[:i] + particles[i+1:]):\n            r = target.distance(source)\n            target.phi += source.m / r\n\norig_time = %timeit -o direct_sum(particles)\n</pre> n = 1000 particles = [Particle(m = 1 / n) for i in range(n)] def direct_sum(particles):     \"\"\"     Calculate the potential at each particle     using direct summation method.      Arguments:         particles: the list of particles      \"\"\"     for i, target in enumerate(particles):         for source in (particles[:i] + particles[i+1:]):             r = target.distance(source)             target.phi += source.m / r  orig_time = %timeit -o direct_sum(particles) <p>\u8be5\u51fd\u6570\u5982\u679c\u7528@jit\u4f18\u5316\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3anumba\u65e0\u6cd5\u8bc6\u522bpython\u4e2d\u7684\u7c7bclass\u3002\u90a3\u4e48\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1f</p> <p>\u5176\u5b9e\uff0cnumpy\u6709\u4e00\u4e2a\u5f88\u6709\u610f\u601d\u7684\u529f\u80fd\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u7c7b\u4f3c\u7ed3\u6784\u4f53\u7684\u529f\u80fd\uff0c\u800c\u4e14\u8c03\u7528\u7684\u6548\u7387\u8981\u6bd4\u901a\u8fc7class\u6765\u5b9a\u4e49\u7684\u7ed3\u6784\u4f53\u9ad8\u592a\u591a\u3002</p> <p>\u4e0b\u9762\u5b9a\u4e49\u4e86\u4e00\u4e2anumpy\u7684\u6570\u636e\u7c7b\u578b\u201cparticle_dtype\u201d\uff0c\u7c7b\u4f3c\u4e8ec\u4e2d\u7684struct\uff0c\u9996\u5148\u662f\u7ec4\u5458\u7684\u540d\u5b57\u5206\u4e3a\uff1a'x','y','z','m','phi'\uff0c\u7136\u540e\u901a\u8fc7formats\u5b9a\u4e49\u6bcf\u4e00\u4e2a\u7ec4\u5458\u7684\u6570\u636e\u7c7b\u578b\u3002</p> In\u00a0[\u00a0]: Copied! <pre>particle_dtype = numpy.dtype({'names':['x','y','z','m','phi'], \n                             'formats':[numpy.double, \n                                        numpy.double, \n                                        numpy.double, \n                                        numpy.double, \n                                        numpy.double]})\n</pre> particle_dtype = numpy.dtype({'names':['x','y','z','m','phi'],                               'formats':[numpy.double,                                          numpy.double,                                          numpy.double,                                          numpy.double,                                          numpy.double]}) <p>\u63a5\u4e0b\u6765\u6211\u4eec\u628a\u4e0a\u8ff0\u7684\u7ed3\u6784\u4f53\u5b9a\u4e49\u5b9e\u4f8b\u5316</p> In\u00a0[\u00a0]: Copied! <pre>def create_n_random_particles(n, m, domain=1):\n'''\n    Creates `n` particles with mass `m` with random coordinates\n    between 0 and `domain`\n    '''\n    parts = numpy.zeros((n), dtype=particle_dtype)\n    \n    parts['x'] = numpy.random.random(size=n) * domain\n    parts['y'] = numpy.random.random(size=n) * domain\n    parts['z'] = numpy.random.random(size=n) * domain\n    parts['m'] = m\n    parts['phi'] = 0.0\n\n    return parts\nparts = create_n_random_particles(1000, .001, 1)\nprint(parts[:5])\n</pre> def create_n_random_particles(n, m, domain=1):     '''     Creates `n` particles with mass `m` with random coordinates     between 0 and `domain`     '''     parts = numpy.zeros((n), dtype=particle_dtype)          parts['x'] = numpy.random.random(size=n) * domain     parts['y'] = numpy.random.random(size=n) * domain     parts['z'] = numpy.random.random(size=n) * domain     parts['m'] = m     parts['phi'] = 0.0      return parts parts = create_n_random_particles(1000, .001, 1) print(parts[:5]) <p>\u73b0\u5728\u53ef\u4ee5\u7528jit\u4f18\u5316\u4e86</p> In\u00a0[\u00a0]: Copied! <pre>@njit\ndef distance(self, other):\n    return ((self.x - other.x)**2 + \n            (self.y - other.y)**2 + \n            (self.z - other.z)**2)**.5\n\n\n@njit\ndef direct_sum_jit(particles):\n    for i, target in enumerate(particles):\n        for j in range(particles.shape[0]):\n            if i == j:\n                continue\n            source = particles[j]\n            r = distance(target, source)\n            target['phi'] += source['m'] / r\n%timeit direct_sum_jit(parts)\n</pre> @njit def distance(self, other):     return ((self.x - other.x)**2 +              (self.y - other.y)**2 +              (self.z - other.z)**2)**.5   @njit def direct_sum_jit(particles):     for i, target in enumerate(particles):         for j in range(particles.shape[0]):             if i == j:                 continue             source = particles[j]             r = distance(target, source)             target['phi'] += source['m'] / r %timeit direct_sum_jit(parts) In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/numba/#numba","title":"numba\u7684\u4f7f\u7528\u00b6","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/numba/","title":"\u5b89\u88c5\u00b6","text":"<pre><code>pip install numba tbb\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/numba/#jitnjit","title":"jit\u4e0enjit\u00b6","text":"<p>\u4e3b\u8981\u7528\u4e8e\u5faa\u73af\uff0c\u5f88\u591a\u573a\u666f\u4e0b\u4e00\u4e2a@njit\uff08\u7b49\u4ef7\u4e8e@jit(nopython=True)\uff09\u88c5\u9970\u7b26\u5c31\u53ef\u4ee5\u6709\u5f88\u597d\u7684\u6548\u679c</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/numba/#vectorize","title":"vectorize\u00b6","text":"<p>@vectorize\u53ef\u4ee5\u52a0\u901f\u77e9\u9635\u8fd0\u7b97\uff0c\u7c7b\u4f3cnumpy\u7684ufunc\u5e7f\u64ad\uff0c\u5e76\u884c\u76ee\u6807\u53ef\u4ee5\u662fcpu,parallel\u6216\u8005cuda\uff0c\u5176\u9009\u62e9\u5efa\u8bae\u89c1\u4e0b\uff1a</p> <p>A general guideline is to choose different targets for different data sizes and algorithms. The \u201ccpu\u201d target works well for small data sizes (approx. less than 1KB) and low compute intensity algorithms. It has the least amount of overhead. The \u201cparallel\u201d target works well for medium data sizes (approx. less than 1MB). Threading adds a small delay. The \u201ccuda\u201d target works well for big data sizes (approx. greater than 1MB) and high compute intensity algorithms. Transfering memory to and from the GPU adds significant overhead</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/numba/#tips","title":"\u4f18\u5316tips\u00b6","text":"<p>\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\uff0c\u4f7f\u7528jit\u548c\u4f7f\u7528\u7eafnumpy\u8fdb\u884c\u7f16\u7a0b\u7684\u5f88\u5927\u4e00\u70b9\u4e0d\u540c\u5c31\u662f\uff0c\u4e0d\u8981\u754f\u60e7\u7528for\uff1b\u4e8b\u5b9e\u4e0a\u4e00\u822c\u6765\u8bf4\uff0c\u4ee3\u7801\u201c\u957f\u5f97\u8d8a\u50cf C\u201d\u3001\u901f\u5ea6\u5c31\u4f1a\u8d8a\u5feb</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/numba/#numbanumpy","title":"numba\u548cnumpy\u7684\u7ed3\u6784\u4f53\u00b6","text":"<p>numba\u5bf9\u4e8enumpy\u7684\u652f\u6301\u662f\u6700\u5b8c\u5584\u7684\uff0c\u5bf9\u4e8epython\u4e2d\u7684list\u3001dict\u3001tuple\u7b49\u6570\u636e\u7c7b\u578b\u8981\u4e0d\u5c31\u662f\u4e0d\u652f\u6301\u4f18\u5316\u8981\u4e0d\u5c31\u662f\u652f\u6301\u4f18\u5316\u4f46\u662f\u4f7f\u7528\u5b58\u5728\u4e00\u5b9a\u7684\u5c40\u9650\u6027\uff0c\u6240\u4ee5\u6bd4\u8f83\u5efa\u8bae\u5c3d\u91cf\u628a\u8f93\u5165\u7528numpy\u7684\u65b9\u5f0f\u8868\u793a\u8d77\u6765\u3002</p> <p>\u6709\u65f6\u5019\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u4eec\u5e0c\u671bnumba\u6240\u4fee\u9970\u7684\u51fd\u6570\u80fd\u591f\u63a5\u53d7\u7ed3\u6784\u4f53\u7c7b\u578b\u7684\u53c2\u6570\u8be5\u600e\u4e48\u529e\uff0c\u56e0\u4e3apython\u4e2d\u6ca1\u6709\u663e\u5f0f\u7684struct\u51fd\u6570\uff0c\u53ea\u6709class\u51fd\u6570\u53ef\u4ee5\u7528\u6765\u5145\u5f53struct\u6765\u7528\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/Docker%E5%AE%89%E8%A3%85%E4%B8%8E%E5%AE%B9%E5%99%A8%E9%85%8D%E7%BD%AE/","title":"Docker\u5b89\u88c5\u4e0e\u5bb9\u5668\u914d\u7f6e","text":"<ul> <li>Docker\u5b89\u88c5\u4e0e\u5bb9\u5668\u914d\u7f6e<ul> <li>Docker\u5b89\u88c5<ul> <li>\u539f\u7248docker\u5b89\u88c5</li> <li>Nvidia container toolkit</li> </ul> </li> <li>\u4f7f\u7528docker\u914d\u7f6e\u673a\u5668\u65e0\u5173\u7684\u9879\u76ee\u5de5\u4f5c\u73af\u5883<ul> <li>Dockerfile</li> <li>\u8fd0\u884c</li> <li>\u8fc1\u79fb</li> </ul> </li> <li>docker compose\u534f\u540c\u591a\u4e2a\u955c\u50cf<ul> <li>docker compose up\u548cdocker compose up -d\u7684\u533a\u522b</li> <li>docker compose\u5b98\u65b9\u793a\u4f8b\u96c6</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/Docker%E5%AE%89%E8%A3%85%E4%B8%8E%E5%AE%B9%E5%99%A8%E9%85%8D%E7%BD%AE/#docker_1","title":"Docker\u5b89\u88c5","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/Docker%E5%AE%89%E8%A3%85%E4%B8%8E%E5%AE%B9%E5%99%A8%E9%85%8D%E7%BD%AE/#docker_2","title":"\u539f\u7248docker\u5b89\u88c5","text":"<p>\u53c2\u8003https://docs.docker.com/engine/install/ubuntu/\u548chttps://docs.docker.com/engine/install/linux-postinstall/\uff0c\u5176\u4e2d\u524d\u8005\u5fc5\u9700\uff0c\u540e\u8005\u7684\u5982\u4e0b\u64cd\u4f5c\u57fa\u672c\u4e5f\u662f\u5fc5\u9700\uff0c\u5426\u5219\u6240\u6709docker\u6307\u4ee4\u90fd\u8981sudo\u624d\u80fd\u6267\u884c\uff1a</p> <ul> <li>\u6dfb\u52a0docker\u7528\u6237\u7ec4<pre><code>sudo groupadd docker\n</code></pre> </li> </ul> <ul> <li>\u5c06\u7528\u6237\u52a0\u5165\u8be5 group \u5185\u3002<pre><code>sudo gpasswd -a ${USER} docker\n</code></pre> </li> </ul> <ul> <li>\u91cd\u542f docker \u670d\u52a1<pre><code>sudo service docker restart\n</code></pre> </li> </ul> <ul> <li>\u5207\u6362\u5f53\u524d\u4f1a\u8bdd\u5230\u65b0 group\uff08\u6709\u65f6\u4e0d\u751f\u6548\uff0c\u8fd9\u65f6\u76f4\u63a5\u91cd\u542f\u5373\u53ef\uff09<pre><code>newgrp - docker\n</code></pre> </li> </ul> <p>\u4ee5\u540e\u542f\u52a8docker\u5c31\u4e0d\u7528\u52a0sudo\u4e86\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/Docker%E5%AE%89%E8%A3%85%E4%B8%8E%E5%AE%B9%E5%99%A8%E9%85%8D%E7%BD%AE/#nvidia-container-toolkit","title":"Nvidia container toolkit","text":"<p>Nvidia container toolkit\u5c31\u662f\u4e4b\u524d\u7684nvidia docker\uff0c\u5728\u5bb9\u5668\u5185\u7528\u5230CUDA\u65f6\u5fc5\u9700\u3002\u5b89\u88c5\u8fc7\u7a0b\u89c1https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html#docker\u3002\u539f\u59cbrepo\u5728https://github.com/NVIDIA/nvidia-docker\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/Docker%E5%AE%89%E8%A3%85%E4%B8%8E%E5%AE%B9%E5%99%A8%E9%85%8D%E7%BD%AE/#docker_3","title":"\u4f7f\u7528docker\u914d\u7f6e\u673a\u5668\u65e0\u5173\u7684\u9879\u76ee\u5de5\u4f5c\u73af\u5883","text":"<p>\u5982\u679c\u5e0c\u671b\u4fdd\u8bc1\u4e0d\u540c\u673a\u5668\u7684\u5de5\u4f5c\u5b8c\u5168\u4e00\u81f4\uff0cdocker\u955c\u50cf\u662f\u66f4\u5b89\u5168\u7684\u65b9\u5f0f\uff0c\u7136\u800c\u4f53\u79ef\u4e5f\u66f4\u5927\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/Docker%E5%AE%89%E8%A3%85%E4%B8%8E%E5%AE%B9%E5%99%A8%E9%85%8D%E7%BD%AE/#dockerfile","title":"Dockerfile","text":"<p>\u81ea\u5b9a\u4e49image\u5efa\u8bae\u57fa\u4e8edockerhub\u4e0a\u5df2\u6709\u7684\u5b98\u65b9\u955c\u50cf\u6dfb\u52a0\u5185\u5bb9\u3002\u4ee5\u4eba\u8138\u68c0\u6d4b\u9879\u76ee\u4e3a\u4f8b\uff0c\u9996\u5148\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u5efa\u7acb\u4e00\u4e2a\u540d\u53ebDockerfile\u7684\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>FROM pytorch/pytorch:1.2-cuda10.0-cudnn7-runtime\n\nMAINTAINER zhizhang \"zhizhang@tusvisiontech.com\"\n\nADD pytorch_multracking /workspace/pytorch_multracking/\n\nRUN apt-get update \\\n&amp;&amp; apt-get install -y apt-utils libglib2.0-0 libjpeg-dev libtiff5-dev \\\n&amp;&amp; apt-get install -y libjasper-dev libpng12-dev \\\n&amp;&amp; apt-get install -y libavcodec-dev libavformat-dev libswscale-dev libv4l-dev \\\n&amp;&amp; apt-get install -y libxvidcore-dev libx264-dev libx265-dev \\\n&amp;&amp; apt-get install -y libatlas-base-dev gfortran\n\nRUN pip install -r /workspace/pytorch_multracking/req3.txt -i  http://pypi.douban.com/simple/ --trusted-host pypi.douban.com\n\nRUN pip install -r /workspace/pytorch_multracking/requirements.txt -i  http://pypi.douban.com/simple/ --trusted-host pypi.douban.com\n\nRUN pip install -r /workspace/pytorch_multracking/req2.txt -i  http://pypi.douban.com/simple/ --trusted-host pypi.douban.com\n\nRUN cd /workspace/pytorch_multracking/utils/lib &amp;&amp; python setup.py build develop\n\nWORKDIR \"/workspace\"\nCMD [\"/bin/bash\"]\n</code></pre> <p>\u5176\u6b21\u5728Dockerfile\u6240\u5728\u76ee\u5f55\u4e0b\u7f16\u8bd1\u955c\u50cf\uff08\u5982\u679c\u4e4b\u524d\u672a\u4e0b\u8f7d\u8fc7pytorch1.2\u955c\u50cf\u4f1a\u81ea\u52a8\u4e0b\u8f7d\uff09\uff1a</p> <pre><code>docker build -t myprojectname:0.01 . # 0.01\u662ftag\uff0c\u53ef\u9009\n</code></pre> <p>\u5b8c\u6210\u540e\u7528docker images\u547d\u4ee4\u53ef\u4ee5\u770b\u5230\u540d\u4e3amyprojectname\u7684\u65b0docker\u955c\u50cf\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/Docker%E5%AE%89%E8%A3%85%E4%B8%8E%E5%AE%B9%E5%99%A8%E9%85%8D%E7%BD%AE/#_1","title":"\u8fd0\u884c","text":"<p>\u53ef\u4ee5\u7528\u5982\u4e0b\u547d\u4ee4\u542f\u52a8\u955c\u50cf\u5e76\u5c06\u5f53\u524d\u76ee\u5f55\u6620\u5c04\u4e3adocker\u7cfb\u7edf\u5185\u7684usr/src/test\u6587\u4ef6\u5939\uff0cexit\u9000\u51fa\u73af\u5883\uff1a</p> <pre><code># Starting a GPU enabled container on specific GPUs\ndocker run --gpus '\"device=1,2\"' -ti --rm -v $PWD:/workspace/test  -w /workspace/test myprojectname:0.01\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/Docker%E5%AE%89%E8%A3%85%E4%B8%8E%E5%AE%B9%E5%99%A8%E9%85%8D%E7%BD%AE/#_2","title":"\u8fc1\u79fb","text":"<p>\u7f16\u8bd1\u597d\u7684\u955c\u50cf\u53ef\u4ee5\u76f4\u63a5\u6253\u5305\uff1a</p> <pre><code>docker save myprojectname &gt; /home/myprojectname.tar\n</code></pre> <p>\u538b\u7f29\u6587\u4ef6\u62f7\u8d1d\u5230\u5176\u4ed6\u673a\u5668\u540e\u89e3\u538b\u5373\u7528\uff1a</p> <pre><code>docker load &lt; myprojectname.tar\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/Docker%E5%AE%89%E8%A3%85%E4%B8%8E%E5%AE%B9%E5%99%A8%E9%85%8D%E7%BD%AE/#docker-compose","title":"docker compose\u534f\u540c\u591a\u4e2a\u955c\u50cf","text":"<p>docker compose\u4f7f\u7528yaml\u5b9a\u4e49\u884c\u4e3a\uff0c\u7f3a\u7701\u6587\u4ef6\u540d\u4e3adocker-compose.yml\uff0c\u4e5f\u53ef\u4ee5\u7528<code>-f</code>\u53c2\u6570\u6307\u5b9a\u6587\u4ef6\u540d\u3002\u4ee5\u4e0b\u662fdocker-compose.yml\u7684\u4e00\u4e2a\u793a\u4f8b\uff1a <pre><code>version: \"3.5\"\nservices:\nweb-fe:\nbuild: .\ncommand: python app.py\nports:\n- target: 5000\npublished: 5000\nnetworks:\n- counter-net\nvolumes:\n- type: volume\nsource: counter-vol\ntarget: /code\nredis:\nimage: \"redis:alpine\"\nnetworks:\ncounter-net:\n\nnetworks:\ncounter-net:\n\nvolumes:\ncounter-vol:\n</code></pre> \u5f53\u524d\u76ee\u5f55\u4e0b\u5b58\u5728docker-compose.yml\u65f6\uff0c\u53ef\u4ee5\u7528<code>docker compose up</code>\u542f\u52a8\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/Docker%E5%AE%89%E8%A3%85%E4%B8%8E%E5%AE%B9%E5%99%A8%E9%85%8D%E7%BD%AE/#docker-compose-updocker-compose-up-d","title":"<code>docker compose up</code>\u548c<code>docker compose up -d</code>\u7684\u533a\u522b","text":"<p><code>docker compose up</code>\u7b49\u4ef7\u4e8e<code>docker compose logs -f</code>\uff0c\u5b83\u4f1a\u6536\u96c6\u6240\u6709\u5bb9\u5668\u7684\u65e5\u5fd7\u8f93\u51fa\u76f4\u5230\u9000\u51fa<code>docker compose up</code>\u547d\u4ee4\uff0c\u6216\u8005\u5bb9\u5668\u90fd\u505c\u6b62\u8fd0\u884c\u3002<code>docker compose up -d</code>\u5219\u4ee5\u540e\u53f0\u65b9\u5f0f\u8fd0\u884c\u5bb9\u5668\u3002\u4e0d\u4f1a\u5728\u7ec8\u7aef\u4e0a\u6253\u5370\u8fd0\u884c\u65e5\u5fd7\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/Docker%E5%AE%89%E8%A3%85%E4%B8%8E%E5%AE%B9%E5%99%A8%E9%85%8D%E7%BD%AE/#docker-compose_1","title":"docker compose\u5b98\u65b9\u793a\u4f8b\u96c6","text":"<p>https://github.com/docker/awesome-compose</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/","title":"\u57fa\u672c\u547d\u4ee4","text":"<pre><code>docker run -ti bvlc/caffe:cpu caffe --version\ndocker run -ti --rm -v $(pwd):$(pwd) -w $(pwd) bvlc/caffe:cpu\nnvidia-docker run -ti --rm -v $(pwd):$(pwd) -w $(pwd) bvlc/caffe:gpu\nnvidia-docker run -ti --rm bvlc/caffe:gpu ipython\nnvidia-docker run --rm nvidia/caffe caffe train --solver &lt;args&gt;\ndocker run --rm -u $(id -u):$(id -g) -v $(pwd):$(pwd) -w $(pwd) bvlc/caffe:cpu caffe train --solver=example_solver.prototxt\nnvidia-docker run -d -p 5000:5000 -v /home/zhangzhi/datasets:/datasets nvidia/digits\n\ndocker ps\ndocker images\ndocker rmi &lt;image id&gt;\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_1","title":"\u5e38\u7528\u547d\u4ee4","text":""},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#root","title":"\u67e5\u770b\u5bb9\u5668\u7684root\u7528\u6237\u5bc6\u7801","text":"<pre><code>docker logs &lt;\u5bb9\u5668\u540dorID&gt; 2&gt;&amp;1 | grep '^User: ' | tail -n1\n</code></pre> <p>\u56e0\u4e3aDocker\u5bb9\u5668\u542f\u52a8\u65f6\u7684root\u7528\u6237\u7684\u5bc6\u7801\u662f\u968f\u673a\u5206\u914d\u7684\u3002\u6240\u4ee5\uff0c\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u5c31\u53ef\u4ee5\u5f97\u5230redmine\u5bb9\u5668\u7684root\u7528\u6237\u7684\u5bc6\u7801\u4e86\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_2","title":"\u67e5\u770b\u5bb9\u5668\u65e5\u5fd7","text":"<pre><code>docker logs -f &lt;\u5bb9\u5668\u540dorID&gt;\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_3","title":"\u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668","text":"<pre><code>docker ps\ndocker ps -a\u4e3a\u67e5\u770b\u6240\u6709\u7684\u5bb9\u5668\uff0c\u5305\u62ec\u5df2\u7ecf\u505c\u6b62\u7684\u3002\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_4","title":"\u5220\u9664\u6240\u6709\u5bb9\u5668","text":"<pre><code>docker rm $(docker ps -a -q)\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_5","title":"\u5220\u9664\u5355\u4e2a\u5bb9\u5668","text":"<pre><code>docker rm &lt;\u5bb9\u5668\u540dorID&gt;\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_6","title":"\u505c\u6b62\u3001\u542f\u52a8\u3001\u6740\u6b7b\u4e00\u4e2a\u5bb9\u5668","text":"<pre><code>docker stop &lt;\u5bb9\u5668\u540dorID&gt;\ndocker start &lt;\u5bb9\u5668\u540dorID&gt;\ndocker kill &lt;\u5bb9\u5668\u540dorID&gt;\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_7","title":"\u67e5\u770b\u6240\u6709\u955c\u50cf","text":"<pre><code>docker images\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_8","title":"\u5220\u9664\u6240\u6709\u955c\u50cf","text":"<pre><code>docker rmi $(docker images | grep none | awk '{print $3}' | sort -r)\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#redmine","title":"\u8fd0\u884c\u4e00\u4e2a\u65b0\u5bb9\u5668\uff0c\u540c\u65f6\u4e3a\u5b83\u547d\u540d\u3001\u7aef\u53e3\u6620\u5c04\u3001\u6587\u4ef6\u5939\u6620\u5c04\u3002\u4ee5redmine\u955c\u50cf\u4e3a\u4f8b","text":"<pre><code>docker run --name redmine -p 9003:80 -p 9023:22 -d -v /var/redmine/files:/redmine/files -v /var/redmine/mysql:/var/lib/mysql sameersbn/redmine\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_9","title":"\u4e00\u4e2a\u5bb9\u5668\u8fde\u63a5\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668","text":"<p><pre><code>docker run -i -t --name sonar -d -link mmysql:db   tpires/sonar-server\nsonar\n</code></pre> \u5bb9\u5668\u8fde\u63a5\u5230mmysql\u5bb9\u5668\uff0c\u5e76\u5c06mmysql\u5bb9\u5668\u91cd\u547d\u540d\u4e3adb\u3002\u8fd9\u6837\uff0csonar\u5bb9\u5668\u5c31\u53ef\u4ee5\u4f7f\u7528db\u7684\u76f8\u5173\u7684\u73af\u5883\u53d8\u91cf\u4e86\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_10","title":"\u62c9\u53d6\u955c\u50cf","text":"<pre><code>docker pull &lt;\u955c\u50cf\u540d:tag&gt;\n</code></pre> <p>\u5982 <pre><code>docker pull sameersbn/redmine:latest\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#dockerfile","title":"\u67e5\u770b\u955c\u50cf\u751f\u6210\u8fc7\u7a0b\uff08\u8ddf\u5b9e\u9645\u7684Dockerfile\u4f1a\u6709\u5fae\u5c0f\u5dee\u5f02\uff09","text":"<pre><code>docker image history \u955c\u50cf\u540d\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_11","title":"\u67e5\u770b\u955c\u50cf\u4fe1\u606f","text":"<pre><code>docker image inspect \u955c\u50cf\u540d\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_12","title":"\u6253\u5305\u548c\u89e3\u5305\u955c\u50cf","text":"<p>\u5f53\u9700\u8981\u628a\u4e00\u53f0\u673a\u5668\u4e0a\u7684\u955c\u50cf\u8fc1\u79fb\u5230\u53e6\u4e00\u53f0\u673a\u5668\u7684\u65f6\u5019\uff0c\u9700\u8981\u4fdd\u5b58\u955c\u50cf\u4e0e\u52a0\u8f7d\u955c\u50cf\u3002\u53ef\u4ee5\u5728\u673a\u5668a\u4e0a\u6267\u884c <pre><code>docker save busybox-1 &gt; /home/save.tar\n</code></pre> \u4f7f\u7528scp\u5c06save.tar\u62f7\u5230\u673a\u5668b\u4e0a\uff0c\u7136\u540e\uff1a <pre><code>docker load &lt; /home/save.tar\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_13","title":"\u6784\u5efa\u81ea\u5df1\u7684\u955c\u50cf","text":"<p><pre><code>docker build -t &lt;\u955c\u50cf\u540d&gt; &lt;Dockerfile\u8def\u5f84&gt;\n</code></pre> \u5982Dockerfile\u5728\u5f53\u524d\u8def\u5f84\uff1a <pre><code>docker build -t xx/gitlab .\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#docker-attachcontainerstdout","title":"\u7528docker attach\u67e5\u770bcontainer\u7684stdout","text":"<pre><code># \u540e\u53f0\u8fd0\u884c\uff08-d\uff09ubuntu\u955c\u50cf\u5e76\u5728\u5176\u5185\u90e8\u6267\u884ctop\u547d\u4ee4\n$ ID=$(sudo docker run -d ubuntu /usr/bin/top -b)\n# \u83b7\u53d6\u6b63\u5728running\u7684container\u7684\u8f93\u51fa\n$ sudo docker attach $ID\ntop - 02:05:52 up  3:05,  0 users,  load average: 0.01, 0.02, 0.05\nTasks:   1 total,   1 running,   0 sleeping,   0 stopped,   0 zombie\nCpu(s):  0.1%us,  0.2%sy,  0.0%ni, 99.7%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st\nMem:    373572k total,   355560k used,    18012k free,    27872k buffers\nSwap:   786428k total,        0k used,   786428k free,   221740k cached\n^C$\n$ sudo docker stop $ID\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#-d-p2233301","title":"\u540e\u53f0\u8fd0\u884c(-d)\u3001\u5e76\u66b4\u9732\u7aef\u53e3(-p)\uff0c\u5c06\u955c\u50cf\u768422\u7aef\u53e3\u6620\u5c04\u5230\u5bbf\u4e3b\u673a\u768433301\u7aef\u53e3","text":"<pre><code>docker run -d -p 33301:22 centos6-ssh\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#container","title":"\u4eceContainer\u4e2d\u62f7\u8d1d\u6587\u4ef6\u51fa\u6765","text":"<p><pre><code>sudo docker cp 7bb0e258aefe:/etc/debian_version .\n</code></pre> \u62f7\u8d1d7bb0e258aefe\u4e2d\u7684/etc/debian_version\u5230\u5f53\u524d\u76ee\u5f55\u4e0b\u3002</p> <p>\u6ce8\u610f\uff1a\u53ea\u89817bb0e258aefe\u6ca1\u6709\u88ab\u5220\u9664\uff0c\u6587\u4ef6\u547d\u540d\u7a7a\u95f4\u5c31\u8fd8\u5728\uff0c\u53ef\u4ee5\u653e\u5fc3\u7684\u628aexit\u72b6\u6001\u7684container\u7684\u6587\u4ef6\u62f7\u8d1d\u51fa\u6765</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_14","title":"\u56fe\u5f62\u754c\u9762","text":"<p>Linux\u4e0b\u82e5\u9700\u4f7f\u7528\u56fe\u5f62\u754c\u9762\uff0c\u53ef\u4ee5\u7528-e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix\u628a\u663e\u793a\u8f93\u51fa\u6307\u5b9a\u4e3a\u5bbf\u4e3b\u673a\u7684\u663e\u793a\u5668\uff08\u901a\u8fc7x11\uff09\uff1a <pre><code>docker run -it --rm -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix jarfil/gimp-git\n</code></pre> \u5728\u6b64\u4e4b\u524d\uff0c\u8981\u8bbe\u7f6ex11server\u5141\u8bb8\u672c\u5730docker\u7528\u6237\u63a5\u5165\uff1a <pre><code>sudo apt install x11-xserver-utils\nxhost +local:docker\n</code></pre> \u82e5\u9700\u4f7f\u7528\u6444\u50cf\u5934\u7b49\u5916\u8bbe\uff0c\u5219\u7528--device\u6307\u5b9a\uff1a <pre><code>docker run -it --device=/dev/video0 &lt;image_name&gt;\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_15","title":"\u5751","text":"<ul> <li>ubuntu14\u4e0b\u7684docker\u662f\u6ca1\u6709service\u670d\u52a1\u3002\u53bb\u9664\u6bcf\u6b21sudo\u8fd0\u884cdocker\u547d\u4ee4\uff0c\u9700\u8981\u6dfb\u52a0\u7ec4\uff1a <pre><code># Add the docker group if it doesn't already exist.\n$ sudo groupadd docker\n# \u6539\u5b8c\u540e\u9700\u8981\u91cd\u65b0\u767b\u9646\u7528\u6237\n$ sudo gpasswd -a ${USER} docker\n</code></pre></li> <li>ubuntu14\u7684febootstrap\u6ca1\u6709-i\u547d\u4ee4</li> </ul> <p>Dockerfile\u4e2d\u7684EXPOSE\u3001docker run --expose\u3001docker run -p\u4e4b\u95f4\u7684\u533a\u522b: Dockerfile\u7684EXPOSE\u76f8\u5f53\u4e8edocker run --expose\uff0c\u63d0\u4f9bcontainer\u4e4b\u95f4\u7684\u7aef\u53e3\u8bbf\u95ee\u3002docker run -p\u5141\u8bb8container\u5916\u90e8\u4e3b\u673a\u8bbf\u95eecontainer\u7684\u7aef\u53e3</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#docker","title":"\u4eceDocker\u5bb9\u5668\u5185\u62f7\u8d1d\u6587\u4ef6\u5230\u4e3b\u673a\u4e0a","text":"<pre><code>docker cp &lt;containerId&gt;:/file/path/within/container /host/path/target\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_16","title":"\u4ece\u4e3b\u673a\u4e0a\u62f7\u8d1d\u6587\u4ef6\u5230\u5bb9\u5668\u5185\u7684\u4e09\u79cd\u65b9\u6cd5","text":"<p>\u53c2\u8003\u81ea\uff1a</p> <p>http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#-v","title":"\u7528-v\u6302\u8f7d\u4e3b\u673a\u6570\u636e\u5377\u5230\u5bb9\u5668\u5185","text":"<p>\u5148pwd\u5f97\u5230\u5f53\u524d\u76ee\u5f55 <pre><code>docker run -v /path/to/hostdir:/mnt $container\n</code></pre> \u5728\u5bb9\u5668\u5185\u62f7\u8d1d <pre><code>cp /mnt/sourcefile /path/to/destfile\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_17","title":"\u76f4\u63a5\u5728\u4e3b\u673a\u4e0a\u62f7\u8d1d\u5230\u5bb9\u5668\u7269\u7406\u5b58\u50a8\u7cfb\u7edf","text":"<p>A. \u83b7\u53d6\u5bb9\u5668\u540d\u79f0\u6216\u8005id : <pre><code>$ docker ps\n</code></pre> B. \u83b7\u53d6\u6574\u4e2a\u5bb9\u5668\u7684id <pre><code>$ docker inspect -f  '{{.Id}}'  \u6b65\u9aa4A\u83b7\u53d6\u7684\u540d\u79f0\u6216\u8005id\n</code></pre> C. \u5728\u4e3b\u673a\u4e0a\u62f7\u8d1d\u6587\u4ef6: <pre><code>$ sudo cp path-file-host /var/lib/docker/aufs/mnt/FULL_CONTAINER_ID/PATH-NEW-FILE\n</code></pre> \u6216\u8005 <pre><code>$ sudo cp path-file-host /var/lib/docker/devicemapper/mnt/123abc&lt;&lt;id&gt;&gt;/rootfs/root\n</code></pre> \u4f8b\u5b50\uff1a <pre><code>$ docker ps\n\nCONTAINER ID      IMAGE    COMMAND      CREATED      STATUS      PORTS        NAMES\n\nd8e703d7e303  solidleon/ssh:latest      /usr/sbin/sshd -D                      cranky_pare\n\n$ docker inspect -f  '{{.Id}}' cranky_pare\n\nor\n\n$ docker inspect -f  '{{.Id}}' d8e703d7e303\n\nd8e703d7e3039a6df6d01bd7fb58d1882e592a85059eb16c4b83cf91847f88e5\n\n$ sudo cp file.txt /var/lib/docker/aufs/mnt/**d8e703d7e3039a6df6d01bd7fb58d1882e592a85059eb16c4b83cf91847f88e5\n</code></pre></p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_18","title":"\u7528\u8f93\u5165\u8f93\u51fa\u7b26","text":"<pre><code>docker run -i Ubuntu /bin/bash -c 'cat &gt; /path/to/container/file' &lt; /path/to/host/file/\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#_19","title":"\u5220\u9664\u4e0d\u7528\u7684\u955c\u50cf","text":"<p>docker images\u5f80\u5f80\u4e0d\u77e5\u4e0d\u89c9\u5c31\u5360\u6ee1\u4e86\u786c\u76d8\u7a7a\u95f4\uff0c\u4e3a\u4e86\u6e05\u7406\u5197\u4f59\u7684image\uff0c\u53ef\u91c7\u7528\u4ee5\u4e0b\u65b9\u6cd5\uff1a</p> <ol> <li>\u8fdb\u5165root\u6743\u9650 <pre><code>sudo su\n</code></pre></li> <li>\u505c\u6b62\u6240\u6709\u7684container\uff0c\u8fd9\u6837\u624d\u80fd\u591f\u5220\u9664\u5176\u4e2d\u7684images\uff1a <pre><code>docker stop $(docker ps -a -q)\n</code></pre> \u5982\u679c\u60f3\u8981\u5220\u9664\u6240\u6709container\u7684\u8bdd\u518d\u52a0\u4e00\u4e2a\u6307\u4ee4\uff1a <pre><code>docker rm $(docker ps -a -q)\n</code></pre></li> <li>\u67e5\u770b\u5f53\u524d\u6709\u4e9b\u4ec0\u4e48images <pre><code>docker images\n</code></pre></li> <li>\u5220\u9664images\uff0c\u901a\u8fc7image\u7684id\u6765\u6307\u5b9a\u5220\u9664\u8c01 <pre><code>docker rmi &lt;image id&gt;\n</code></pre> \u60f3\u8981\u5220\u9664untagged images\uff0c\u4e5f\u5c31\u662f\u90a3\u4e9bid\u4e3a\u7684image\u7684\u8bdd\u53ef\u4ee5\u7528 <pre><code>docker rmi $(docker images | grep \"^&lt;none&gt;\" | awk \"{print $3}\")\n</code></pre> \u8981\u5220\u9664\u5168\u90e8image\u7684\u8bdd <pre><code>docker rmi $(docker images -q)\n</code></pre>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/docker/%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#tips","title":"tips","text":"<ul> <li>\u5982\u4f55\u514dsudo\u542f\u52a8docker\uff1a</li> </ul> <p>\u628a\u5f53\u524d\u7528\u6237\u6dfb\u52a0\u5230docker\u5c5e\u7ec4\u5373\u53ef\u3002\u5982\u679c\u8fd8\u6ca1\u6709 docker group \u5c31\u6dfb\u52a0\u4e00\u4e2a\uff1a <pre><code>sudo groupadd docker\n</code></pre> \u5c06\u7528\u6237\u52a0\u5165\u8be5 group \u5185\u3002 <pre><code>sudo gpasswd -a ${USER} docker\n</code></pre> \u91cd\u542f docker \u670d\u52a1 <pre><code>sudo service docker restart\n</code></pre> \u5207\u6362\u5f53\u524d\u4f1a\u8bdd\u5230\u65b0 group \u6216\u8005\u91cd\u542f X \u4f1a\u8bdd <pre><code>newgrp - docker\n</code></pre> \u6ce8\u610f:\u6700\u540e\u4e00\u6b65\u662f\u5fc5\u987b\u7684\uff0c\u5426\u5219\u56e0\u4e3a groups \u547d\u4ee4\u83b7\u53d6\u5230\u7684\u662f\u7f13\u5b58\u7684\u7ec4\u4fe1\u606f\uff0c\u521a\u6dfb\u52a0\u7684\u7ec4\u4fe1\u606f\u672a\u80fd\u751f\u6548\uff0c\u6240\u4ee5 docker images \u6267\u884c\u65f6\u540c\u6837\u6709\u9519\u3002</p>"},{"location":"%E6%97%A5%E5%B8%B8%E5%A4%87%E6%9F%A5/pandas/pandas%20style/","title":"Pandas style","text":"In\u00a0[\u00a0]: Copied! <pre>import pandas as pd\nimport numpy as np\n\n# \u90e8\u5206\u529f\u80fd\u8981pandas1.3+\u624d\u80fd\u652f\u6301\nprint(f'pandas version:{pd.__version__}')\nprint(f'numpy version:{np.__version__}')\n</pre> import pandas as pd import numpy as np  # \u90e8\u5206\u529f\u80fd\u8981pandas1.3+\u624d\u80fd\u652f\u6301 print(f'pandas version:{pd.__version__}') print(f'numpy version:{np.__version__}') In\u00a0[\u00a0]: Copied! <pre>df_consume = pd.read_csv('./data/fund_consume.csv',index_col=0,parse_dates=['\u4e0a\u4efb\u65e5\u671f','\u89c4\u6a21\u5bf9\u5e94\u65e5\u671f'])\ndf_consume = df_consume.sort_values('\u57fa\u91d1\u89c4\u6a21(\u4ebf)',ascending=False).head(10)\ndf_consume = df_consume.reset_index(drop=True) # \u6ce8\u610fdrop=True\u65f6\uff0c\u539f\u672c\u6570\u636e\u4e2d\u5982\u679c\u6709\u540d\u4e3aindex\u7684\u5217\uff0c\u5176\u503c\u4f1a\u88abdrop\u6389\u4e0d\u4fdd\u5b58\ndf_consume\n</pre> df_consume = pd.read_csv('./data/fund_consume.csv',index_col=0,parse_dates=['\u4e0a\u4efb\u65e5\u671f','\u89c4\u6a21\u5bf9\u5e94\u65e5\u671f']) df_consume = df_consume.sort_values('\u57fa\u91d1\u89c4\u6a21(\u4ebf)',ascending=False).head(10) df_consume = df_consume.reset_index(drop=True) # \u6ce8\u610fdrop=True\u65f6\uff0c\u539f\u672c\u6570\u636e\u4e2d\u5982\u679c\u6709\u540d\u4e3aindex\u7684\u5217\uff0c\u5176\u503c\u4f1a\u88abdrop\u6389\u4e0d\u4fdd\u5b58 df_consume In\u00a0[\u00a0]: Copied! <pre>df_fund = pd.read_csv('./data/fund-analysis.csv',index_col=0,parse_dates=['\u4e0a\u4efb\u65e5\u671f','\u89c4\u6a21\u5bf9\u5e94\u65e5\u671f'])\ndf_fund = df_fund.sort_values('\u57fa\u91d1\u89c4\u6a21(\u4ebf)',ascending=False).head(10)\ndf_fund = df_fund.reset_index(drop=True)\ndf_fund.head(2)\n</pre> df_fund = pd.read_csv('./data/fund-analysis.csv',index_col=0,parse_dates=['\u4e0a\u4efb\u65e5\u671f','\u89c4\u6a21\u5bf9\u5e94\u65e5\u671f']) df_fund = df_fund.sort_values('\u57fa\u91d1\u89c4\u6a21(\u4ebf)',ascending=False).head(10) df_fund = df_fund.reset_index(drop=True) df_fund.head(2) In\u00a0[\u00a0]: Copied! <pre>df_consume.style.hide_index() #\u7528 hide_index() \u65b9\u6cd5\u53ef\u4ee5\u9009\u62e9\u9690\u85cf\u7d22\u5f15\n</pre> df_consume.style.hide_index() #\u7528 hide_index() \u65b9\u6cd5\u53ef\u4ee5\u9009\u62e9\u9690\u85cf\u7d22\u5f15 In\u00a0[\u00a0]: Copied! <pre>df_consume.style.hide_index().hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f','2021']) #\u7528 hide_columns() \u65b9\u6cd5\u53ef\u4ee5\u9009\u62e9\u9690\u85cf\u4e00\u5217\u6216\u8005\u591a\u5217\n</pre> df_consume.style.hide_index().hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f','2021']) #\u7528 hide_columns() \u65b9\u6cd5\u53ef\u4ee5\u9009\u62e9\u9690\u85cf\u4e00\u5217\u6216\u8005\u591a\u5217 <p>\u53ef\u4ee5\u7528 DataFrame.dtypes \u5c5e\u6027\u6765\u67e5\u770b\u6570\u636e\u683c\u5f0f\uff0c\u901a\u8fc7 style.format() \u51fd\u6570\u5bf9\u6570\u636e\u683c\u5f0f\u8fdb\u884c\u8bbe\u7f6e</p> In\u00a0[\u00a0]: Copied! <pre>df_consume.dtypes #\u67e5\u770b\u6570\u636e\u683c\u5f0f\n</pre> df_consume.dtypes #\u67e5\u770b\u6570\u636e\u683c\u5f0f In\u00a0[\u00a0]: Copied! <pre>format_dict = {'\u57fa\u91d1\u89c4\u6a21(\u4ebf)': '\uffe5{0:.1f}', \n               '\u7ba1\u7406\u8d39': '{0:.2f}', \n               '\u6258\u7ba1\u8d39': '{0:.2f}', \n               '\u89c4\u6a21\u5bf9\u5e94\u65e5\u671f':lambda x: \"{}\".format(x.strftime('%Y%m%d')),\n               '2018': '{0:.1%}', \n               '2019': '{0:.1%}', \n               '2020': '{0:.1%}', \n               '2021': '{0:.1%}'\n                }\n\ndf_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f','2021'])\\\n                .format(format_dict)\n</pre> format_dict = {'\u57fa\u91d1\u89c4\u6a21(\u4ebf)': '\uffe5{0:.1f}',                 '\u7ba1\u7406\u8d39': '{0:.2f}',                 '\u6258\u7ba1\u8d39': '{0:.2f}',                 '\u89c4\u6a21\u5bf9\u5e94\u65e5\u671f':lambda x: \"{}\".format(x.strftime('%Y%m%d')),                '2018': '{0:.1%}',                 '2019': '{0:.1%}',                 '2020': '{0:.1%}',                 '2021': '{0:.1%}'                 }  df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f','2021'])\\                 .format(format_dict) <p>\u4f7f\u7528 na_rep \u8bbe\u7f6e\u7a7a\u503c\u7684\u663e\u793a\uff0c\u4e00\u822c\u53ef\u4ee5\u7528 -\u3001/\u3001MISSING \u7b49\u6765\u8868\u793a</p> In\u00a0[\u00a0]: Copied! <pre>df_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f','2021'])\\\n                .format(format_dict,na_rep='-')\n</pre> df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f','2021'])\\                 .format(format_dict,na_rep='-') In\u00a0[\u00a0]: Copied! <pre># \u901a\u8fc7 highlight_max()\u6765\u9ad8\u4eae\u6700\u5927\u503c\uff0c\u5176\u4e2d axis=0 \u662f\u6309\u5217\u8fdb\u884c\u7edf\u8ba1\ndf_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\\n                .format(format_dict)\\\n                .highlight_max(axis=0,subset=['2018','2019','2020'])\n</pre> # \u901a\u8fc7 highlight_max()\u6765\u9ad8\u4eae\u6700\u5927\u503c\uff0c\u5176\u4e2d axis=0 \u662f\u6309\u5217\u8fdb\u884c\u7edf\u8ba1 df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\                 .format(format_dict)\\                 .highlight_max(axis=0,subset=['2018','2019','2020']) In\u00a0[\u00a0]: Copied! <pre># \u901a\u8fc7 highlight_min()\u6765\u9ad8\u4eae\u6700\u5c0f\u503c\uff0c\u5176\u4e2d axis=1 \u662f\u6309\u884c\u8fdb\u884c\u7edf\u8ba1\ndf_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\\n                .format(format_dict)\\\n                .highlight_min(axis=1,subset=['2018','2019','2020'])\n</pre> # \u901a\u8fc7 highlight_min()\u6765\u9ad8\u4eae\u6700\u5c0f\u503c\uff0c\u5176\u4e2d axis=1 \u662f\u6309\u884c\u8fdb\u884c\u7edf\u8ba1 df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\                 .format(format_dict)\\                 .highlight_min(axis=1,subset=['2018','2019','2020']) In\u00a0[\u00a0]: Copied! <pre># \u901a\u8fc7 highlight_null()\u6765\u9ad8\u4eae\u7a7a\u503c\uff08NaN\u503c\uff09\ndf_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\\n                .format(format_dict)\\\n                .highlight_null()\n</pre> # \u901a\u8fc7 highlight_null()\u6765\u9ad8\u4eae\u7a7a\u503c\uff08NaN\u503c\uff09 df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\                 .format(format_dict)\\                 .highlight_null() <p>highlight_between() \u51fd\u6570\uff0c\u5bf9\u5904\u4e8e\u8303\u56f4\u5185\u7684\u6570\u636e\u8fdb\u884c\u9ad8\u4eae\u663e\u793a\u3002</p> <p>highlight_between() \u51fd\u6570\u7684\u4f7f\u7528\u53c2\u6570\u5982\u4e0b\uff1a</p> <p>Styler.highlight_between(subset=None, color='yellow', axis=0, left=None, right=None, inclusive='both', props=None)</p> <p>highlight_between() \u51fd\u6570,\u5bf9\u5904\u4e8e\u8303\u56f4\u5185\u7684\u6570\u636e\u8fdb\u884c\u9ad8\u4eae\u663e\u793a\uff0c\u901a\u8fc7 left \u548c right \u53c2\u6570\u6765\u8bbe\u7f6e\u4e24\u8fb9\u7684\u8303\u56f4\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u4e0b\uff0chighlight_between() \u51fd\u6570\u4ece pandas 1.3.0\u7248\u672c\u5f00\u59cb\u624d\u6709\uff0c\u65e7\u7684\u7248\u672c\u53ef\u80fd\u4e0d\u80fd\u4f7f\u7528\u54e6\u3002</p> <p>\u4e0b\u9762\u793a\u4f8b\u4e2d \u5bf92018\u5e74\u81f32020\u5e74\u7684\u5e74\u5ea6\u6da8\u8dcc\u5e45\u5ea6 -20%~+20% \u8303\u56f4\u5185\u7684\u6570\u636e\u8fdb\u884c\u9ad8\u4eae\u6807\u6ce8.</p> In\u00a0[\u00a0]: Copied! <pre>df_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\\n                .format(format_dict)\\\n                .highlight_between(left=-0.2,right=0.2,subset=['2018','2019','2020'])\n</pre> df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\                 .format(format_dict)\\                 .highlight_between(left=-0.2,right=0.2,subset=['2018','2019','2020']) <p>\u4e5f\u53ef\u4ee5\u5206\u522b\u5bf9\u4e0d\u540c\u5e74\u5ea6\u7684\u4e0d\u540c\u6da8\u8dcc\u8303\u56f4\u8fdb\u884c\u8bbe\u7f6e</p> In\u00a0[\u00a0]: Copied! <pre>df_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\\n                .format(format_dict)\\\n                .highlight_between(left=[-0.15,0,0],right=[0,0.2,0.4],subset=['2018','2019','2020'],axis=1)\n</pre> df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\                 .format(format_dict)\\                 .highlight_between(left=[-0.15,0,0],right=[0,0.2,0.4],subset=['2018','2019','2020'],axis=1) In\u00a0[\u00a0]: Copied! <pre># \u5b57\u4f53\u989c\u8272\u548c\u80cc\u666f\u989c\u8272\u8bbe\u7f6e\ndf_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\\n                .format(format_dict)\\\n                .highlight_min(axis=1,subset=['2018','2019','2020','2021'],props='color:black;background-color:#99ff66')\\\n                .highlight_max(axis=1,subset=['2018','2019','2020','2021'],props='color:black;background-color:#ee7621')\\\n                .highlight_null(props='color:white;background-color:darkblue')\n</pre> # \u5b57\u4f53\u989c\u8272\u548c\u80cc\u666f\u989c\u8272\u8bbe\u7f6e df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\                 .format(format_dict)\\                 .highlight_min(axis=1,subset=['2018','2019','2020','2021'],props='color:black;background-color:#99ff66')\\                 .highlight_max(axis=1,subset=['2018','2019','2020','2021'],props='color:black;background-color:#ee7621')\\                 .highlight_null(props='color:white;background-color:darkblue') In\u00a0[\u00a0]: Copied! <pre># \u5b57\u4f53\u52a0\u7c97\u4ee5\u53ca\u5b57\u4f53\u989c\u8272\u8bbe\u7f6e\ndf_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\\n                .format(format_dict)\\\n                .highlight_between(left=-0.2,right=0.2,subset=['2018','2019','2020'],props='font-weight:bold;color:#ee7621')\n</pre> # \u5b57\u4f53\u52a0\u7c97\u4ee5\u53ca\u5b57\u4f53\u989c\u8272\u8bbe\u7f6e df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\                 .format(format_dict)\\                 .highlight_between(left=-0.2,right=0.2,subset=['2018','2019','2020'],props='font-weight:bold;color:#ee7621') In\u00a0[\u00a0]: Copied! <pre># \u4f7f\u7528 background_gradient() \u51fd\u6570\u53ef\u4ee5\u5bf9\u80cc\u666f\u989c\u8272\u8fdb\u884c\u8bbe\u7f6e\ndf_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\\n                .format(format_dict)\\\n                .background_gradient(cmap='Blues')\n</pre> # \u4f7f\u7528 background_gradient() \u51fd\u6570\u53ef\u4ee5\u5bf9\u80cc\u666f\u989c\u8272\u8fdb\u884c\u8bbe\u7f6e df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\                 .format(format_dict)\\                 .background_gradient(cmap='Blues') In\u00a0[\u00a0]: Copied! <pre># \u5bf9 subset \u8fdb\u884c\u8bbe\u7f6e\u540e\uff0c\u53ef\u4ee5\u9009\u62e9\u7279\u5b9a\u7684\u5217\u6216\u7279\u5b9a\u7684\u8303\u56f4\u8fdb\u884c\u80cc\u666f\u989c\u8272\u7684\u8bbe\u7f6e\ndf_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\\n                .format(format_dict)\\\n                .background_gradient(subset=['\u57fa\u91d1\u89c4\u6a21(\u4ebf)'],cmap='Blues')\n</pre> # \u5bf9 subset \u8fdb\u884c\u8bbe\u7f6e\u540e\uff0c\u53ef\u4ee5\u9009\u62e9\u7279\u5b9a\u7684\u5217\u6216\u7279\u5b9a\u7684\u8303\u56f4\u8fdb\u884c\u80cc\u666f\u989c\u8272\u7684\u8bbe\u7f6e df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\                 .format(format_dict)\\                 .background_gradient(subset=['\u57fa\u91d1\u89c4\u6a21(\u4ebf)'],cmap='Blues') In\u00a0[\u00a0]: Copied! <pre># \u901a\u8fc7\u5bf9 low \u548c high \u503c\u7684\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u6765\u8c03\u8282\u80cc\u666f\u989c\u8272\u7684\u8303\u56f4\uff0clow \u548c high \u5206\u522b\u662f\u538b\u7f29 \u4f4e\u7aef\u548c\u9ad8\u7aef\u7684\u989c\u8272\u8303\u56f4\uff0c\u5176\u6570\u503c\u8303\u56f4\u4e00\u822c\u662f 0~1 \ndf_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\\n                .format(format_dict)\\\n                .background_gradient(subset=['\u57fa\u91d1\u89c4\u6a21(\u4ebf)'],cmap='Blues',low=0.3,high=0.9)\n</pre> # \u901a\u8fc7\u5bf9 low \u548c high \u503c\u7684\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u6765\u8c03\u8282\u80cc\u666f\u989c\u8272\u7684\u8303\u56f4\uff0clow \u548c high \u5206\u522b\u662f\u538b\u7f29 \u4f4e\u7aef\u548c\u9ad8\u7aef\u7684\u989c\u8272\u8303\u56f4\uff0c\u5176\u6570\u503c\u8303\u56f4\u4e00\u822c\u662f 0~1  df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\                 .format(format_dict)\\                 .background_gradient(subset=['\u57fa\u91d1\u89c4\u6a21(\u4ebf)'],cmap='Blues',low=0.3,high=0.9) <p>\u5f53\u6570\u636e\u8303\u56f4\u6bd4\u8f83\u5927\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e vmin \u548c vmax \u6765\u8bbe\u7f6e\u6700\u5c0f\u548c\u6700\u5927\u7684\u989c\u8272\u7684\u8bbe\u7f6e\u8d77\u59cb\u70b9\u3002</p> <p>\u6bd4\u5982\u4e0b\u9762\uff0c\u57fa\u91d1\u89c4\u6a21\u572820\u4ebf\u4ee5\u4e0b\u7684\uff0c\u989c\u8272\u6700\u6d45\uff0c\u89c4\u6a2170\u4ebf\u4ee5\u4e0a\u7684\uff0c\u989c\u8272\u6700\u6df1\uff0c20~70\u4ebf\u4e4b\u95f4\u7684\uff0c\u989c\u8272\u6e10\u53d8\u3002</p> In\u00a0[\u00a0]: Copied! <pre>df_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\\n                .format(format_dict)\\\n                .background_gradient(subset=['\u57fa\u91d1\u89c4\u6a21(\u4ebf)'],cmap='Blues',vmin=20,vmax=70)\n</pre> df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\                 .format(format_dict)\\                 .background_gradient(subset=['\u57fa\u91d1\u89c4\u6a21(\u4ebf)'],cmap='Blues',vmin=20,vmax=70) <p>\u901a\u8fc7 gmap \u7684\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u6309\u7167\u67d0\u5217\u7684\u503c\uff0c\u5bf9\u884c\u8fdb\u884c\u5168\u90e8\u7684\u80cc\u666f\u8bbe\u7f6e</p> In\u00a0[\u00a0]: Copied! <pre>df_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\\n                .format(format_dict)\\\n                .background_gradient(cmap='Blues',gmap=df_consume['\u57fa\u91d1\u89c4\u6a21(\u4ebf)'])\n</pre> df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\                 .format(format_dict)\\                 .background_gradient(cmap='Blues',gmap=df_consume['\u57fa\u91d1\u89c4\u6a21(\u4ebf)']) <p>gmap \u8fd8\u53ef\u4ee5\u4ee5\u77e9\u9635\u7684\u5f62\u5f0f\u5bf9\u6570\u636e\u8fdb\u884c\u6837\u5f0f\u8bbe\u7f6e\u3002gmap\u77e9\u9635\u548c\u540e\u9762\u9700\u8981\u8fdb\u884c\u989c\u8272\u8bbe\u7f6e\u7684\u5f62\u72b6\u9700\u8981\u4fdd\u6301\u4e00\u81f4\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f \u989c\u8272\u8bbe\u7f6e\u662f\u6839\u636e gmap\u4e2d\u7684\u503c\u6765\u8bbe\u7f6e\u989c\u8272\u6df1\u6d45\u7684\uff0c\u800c\u4e0d\u662f\u6839\u636e DataFrame \u4e2d\u7684\u6570\u503c\u6765\u7684\u3002</p> In\u00a0[\u00a0]: Copied! <pre>df_gmap = df_consume.loc[:2,['\u57fa\u91d1\u540d\u79f0','\u7ba1\u7406\u8d39','\u57fa\u91d1\u89c4\u6a21(\u4ebf)','2020']]\n\ngmap = np.array([[1,2,3], [2,3,4], [3,4,5]])  # 3*3 \u77e9\u9635\uff0c\u540e\u9762\u9700\u8981\u8fdb\u884c\u989c\u8272\u8bbe\u7f6e\u7684\u5f62\u72b6\u4e5f\u9700\u8981\u662f 3*3\uff0c\u9700\u8981\u4fdd\u6301\u4e00\u81f4\ndf_gmap.style.background_gradient(axis=None, gmap=gmap,\n    cmap='Blues', subset=['\u7ba1\u7406\u8d39','\u57fa\u91d1\u89c4\u6a21(\u4ebf)','2020']\n)\n</pre> df_gmap = df_consume.loc[:2,['\u57fa\u91d1\u540d\u79f0','\u7ba1\u7406\u8d39','\u57fa\u91d1\u89c4\u6a21(\u4ebf)','2020']]  gmap = np.array([[1,2,3], [2,3,4], [3,4,5]])  # 3*3 \u77e9\u9635\uff0c\u540e\u9762\u9700\u8981\u8fdb\u884c\u989c\u8272\u8bbe\u7f6e\u7684\u5f62\u72b6\u4e5f\u9700\u8981\u662f 3*3\uff0c\u9700\u8981\u4fdd\u6301\u4e00\u81f4 df_gmap.style.background_gradient(axis=None, gmap=gmap,     cmap='Blues', subset=['\u7ba1\u7406\u8d39','\u57fa\u91d1\u89c4\u6a21(\u4ebf)','2020'] ) <p>\u7c7b\u4f3c\u4e8e\u80cc\u666f\u8272\u9636\u989c\u8272\u8bbe\u7f6e\uff0c\u6587\u672c\u4e5f\u53ef\u4ee5\u8fdb\u884c\u989c\u8272\u8bbe\u7f6e\u3002text_gradient() \u51fd\u6570\u7684\u7528\u6cd5\u8ddf background_gradient() \u51fd\u6570\u7684\u7528\u6cd5\u57fa\u672c\u662f\u4e00\u6837\u7684</p> In\u00a0[\u00a0]: Copied! <pre>df_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\\n                .format(format_dict)\\\n                .text_gradient(subset=['\u57fa\u91d1\u89c4\u6a21(\u4ebf)'],cmap='RdYlGn')\n</pre> df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\                 .format(format_dict)\\                 .text_gradient(subset=['\u57fa\u91d1\u89c4\u6a21(\u4ebf)'],cmap='RdYlGn') In\u00a0[\u00a0]: Copied! <pre>df_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\\n                .format(format_dict)\\\n                .text_gradient(cmap='RdYlGn',gmap=df_consume['\u57fa\u91d1\u89c4\u6a21(\u4ebf)'])\n</pre> df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\                 .format(format_dict)\\                 .text_gradient(cmap='RdYlGn',gmap=df_consume['\u57fa\u91d1\u89c4\u6a21(\u4ebf)']) <p>\u6570\u636e\u6761\u7684\u663e\u793a\u65b9\u5f0f\uff0c\u53ef\u4ee5\u540c\u65f6\u5728\u6570\u636e\u8868\u683c\u91cc\u5bf9\u6570\u636e\u8fdb\u884c\u53ef\u89c6\u5316\u663e\u793a\uff0c\u8fd9\u4e2a\u529f\u80fd\u54b1\u4eec\u5728 Excel \u91cc\u4e5f\u662f\u7ecf\u5e38\u7528\u5230\u7684\u3002</p> <p>\u5728 pandas \u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 DataFrame.style.bar() \u51fd\u6570\u6765\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\uff0c\u5176\u53c2\u6570\u5982\u4e0b\uff1a</p> <p>Styler.bar(subset=None, axis=0, color='#d65f5f', width=100, align='left', vmin=None, vmax=None)</p> <p>\u5173\u4e8e\u989c\u8272\u8bbe\u7f6e\uff0ccolor=['#99ff66','#ee7621']\uff0c color\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u5355\u4e2a\u989c\u8272\uff0c\u6240\u6709\u7684\u6570\u636e\u53ea\u663e\u793a\u540c\u4e00\u4e2a\u989c\u8272\uff0c\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u5305\u542b\u4e24\u4e2a\u5143\u7d20\u7684list\u6216tuple\u5f62\u5f0f\uff0c\u5de6\u8fb9\u7684\u989c\u8272\u6807\u6ce8\u8d1f\u6570\u503c\uff0c\u53f3\u8fb9\u7684\u989c\u8272\u6807\u6ce8\u6b63\u6570\u503c\u3002</p> In\u00a0[\u00a0]: Copied! <pre>df_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\\n                .format(format_dict)\\\n                .bar(subset=['\u57fa\u91d1\u89c4\u6a21(\u4ebf)','2018','2021'],color=['#99ff66','#ee7621'])\n</pre> df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\                 .format(format_dict)\\                 .bar(subset=['\u57fa\u91d1\u89c4\u6a21(\u4ebf)','2018','2021'],color=['#99ff66','#ee7621']) <p>\u4e0a\u9762\u8fd9\u4e2a\u53ef\u89c6\u5316\u6548\u679c\uff0c\u5bf9\u4e8e\u6b63\u8d1f\u6570\u503c\u7684\u533a\u522b\uff0c\u770b\u8d77\u6765\u603b\u662f\u6709\u70b9\u522b\u626d\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e aligh \u53c2\u6570\u7684\u503c\u6765\u63a7\u5236\u663e\u793a\u65b9\u5f0f\uff1a</p> <ul> <li><p>left: \u6700\u5c0f\u503c\u4ece\u5355\u5143\u683c\u7684\u5de6\u4fa7\u5f00\u59cb\u3002</p> </li> <li><p>zero: \u96f6\u503c\u4f4d\u4e8e\u5355\u5143\u683c\u7684\u4e2d\u5fc3\u3002</p> </li> <li><p>mid: \u5355\u5143\u683c\u7684\u4e2d\u5fc3\u5728\uff08max-min\uff09/ 2\uff0c\u6216\u8005\u5982\u679c\u503c\u5168\u4e3a\u8d1f\uff08\u6b63\uff09\uff0c\u5219\u96f6\u5bf9\u9f50\u4e8e\u5355\u5143\u683c\u7684\u53f3\uff08\u5de6\uff09\u3002</p> </li> </ul> <p>\u5c06\u663e\u793a\u8bbe\u7f6e\u4e3a mid \u540e\uff0c\u7b26\u5408\u5927\u90e8\u5206\u4eba\u7684\u89c6\u89c9\u5ba1\u7f8e\u89c2\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> In\u00a0[\u00a0]: Copied! <pre>df_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\\n                .format(format_dict)\\\n                .bar(subset=['\u57fa\u91d1\u89c4\u6a21(\u4ebf)','2018','2021'],color=['#99ff66','#ee7621'],align='mid')\n</pre> df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f'])\\                 .format(format_dict)\\                 .bar(subset=['\u57fa\u91d1\u89c4\u6a21(\u4ebf)','2018','2021'],color=['#99ff66','#ee7621'],align='mid') <p>\u901a\u8fc7 apply \u548c applymap \u51fd\u6570\uff0c\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u6765\u8fdb\u884c\u6837\u5f0f\u8bbe\u7f6e\u3002</p> <p>\u5176\u4e2d\uff1a</p> <ul> <li><p>apply \u901a\u8fc7axis\u53c2\u6570\uff0c\u6bcf\u4e00\u6b21\u5c06\u4e00\u5217\u6216\u4e00\u884c\u6216\u6574\u4e2a\u8868\u4f20\u9012\u5230DataFrame\u4e2d\u3002\u5bf9\u4e8e\u6309\u5217\u4f7f\u7528 axis=0, \u6309\u884c\u4f7f\u7528 axis=1, \u6574\u4e2a\u8868\u4f7f\u7528 axis=None\u3002</p> </li> <li><p>applymap \u4f5c\u7528\u4e8e\u8303\u56f4\u5185\u7684\u6bcf\u4e2a\u5143\u7d20\u3002</p> </li> </ul> In\u00a0[\u00a0]: Copied! <pre># \u793a\u4f8b\u51fd\u6570max_value()\uff0c\u7528\u6765\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u6700\u5927\u503c\ndef max_value(x, color='red'):\n    return np.where(x == np.nanmax(x.to_numpy()), f\"color: {color};background-color:yellow\", None)\n\n# axis =0 \uff0c\u6309\u5217\u8bbe\u7f6e\u6837\u5f0f\ndf_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\\n                .format(format_dict)\\\n                .apply(max_value,axis=0,subset=['2018','2019','2020','2021'])\n</pre> # \u793a\u4f8b\u51fd\u6570max_value()\uff0c\u7528\u6765\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u6700\u5927\u503c def max_value(x, color='red'):     return np.where(x == np.nanmax(x.to_numpy()), f\"color: {color};background-color:yellow\", None)  # axis =0 \uff0c\u6309\u5217\u8bbe\u7f6e\u6837\u5f0f df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\                 .format(format_dict)\\                 .apply(max_value,axis=0,subset=['2018','2019','2020','2021']) In\u00a0[\u00a0]: Copied! <pre># axis =1 \uff0c\u6309\u884c\u8bbe\u7f6e\u6837\u5f0f\ndf_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\\n                .format(format_dict)\\\n                .apply(max_value,axis=1,subset=['2018','2019','2020','2021'])\n</pre> # axis =1 \uff0c\u6309\u884c\u8bbe\u7f6e\u6837\u5f0f df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\                 .format(format_dict)\\                 .apply(max_value,axis=1,subset=['2018','2019','2020','2021']) In\u00a0[\u00a0]: Copied! <pre># axis = None \uff0c\u6309\u6574\u4e2a\u8868\u683c\u8bbe\u7f6e\u6837\u5f0f\n# \u6ce8\u610f\uff0c\u6574\u4e2a\u8868\u683c\u7684\u6570\u636e\u7c7b\u578b\u9700\u8981\u662f\u4e00\u6837\u7684\uff0c\u4e0d\u7136\u4f1a\u62a5\u9519\n\ndf_consume_1 = df_consume[['2018','2019','2020','2021']]\n# df_consume_1\ndf_consume_1.style.hide_index().apply(max_value,axis=None)\n</pre> # axis = None \uff0c\u6309\u6574\u4e2a\u8868\u683c\u8bbe\u7f6e\u6837\u5f0f # \u6ce8\u610f\uff0c\u6574\u4e2a\u8868\u683c\u7684\u6570\u636e\u7c7b\u578b\u9700\u8981\u662f\u4e00\u6837\u7684\uff0c\u4e0d\u7136\u4f1a\u62a5\u9519  df_consume_1 = df_consume[['2018','2019','2020','2021']] # df_consume_1 df_consume_1.style.hide_index().apply(max_value,axis=None) <p>\u7ee7\u7eed\u4e0a\u9762\u7684\u6570\u636e\u8868\u683c\uff0c\u6211\u4eec\u6765\u81ea\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u5bf9\u4e8e\u57fa\u91d1\u7684\u5e74\u5ea6\u6da8\u8dcc\u5e45\u60c5\u51b5\uff0c\u5e74\u5ea6\u4e0a\u6da8\u4ee5\u6a59\u8272\u80cc\u666f\u6807\u6ce8\uff0c\u4e0b\u8dcc\u4ee5\u7eff\u8272\u80cc\u666f\u6807\u6ce8\uff0cNaN\u503c\u4ee5\u7070\u8272\u80cc\u666f\u6807\u6ce8\u3002</p> <p>\u7531\u4e8e applymap \u662f\u4f5c\u7528\u4e8e\u6bcf\u4e2a\u5143\u7d20\u7684\uff0c\u56e0\u6b64\u8be5\u51fd\u6570\u4e0d\u9700\u8981 axis \u8fd9\u4e2a\u53c2\u6570\u6765\u8fdb\u884c\u8bbe\u7f6e</p> In\u00a0[\u00a0]: Copied! <pre>def color_returns(val):\n    if val &gt;=0:\n        color = '#EE7621'  # light red\n    elif val &lt;0:\n        color =  '#99ff66' # light green  '#99ff66'\n    else:\n        color = '#FFFAFA'  # ligth gray\n    return f'background-color: {color}'\n\nformat_dict = {'\u57fa\u91d1\u89c4\u6a21(\u4ebf)': '\uffe5{0:.1f}', \n               '\u7ba1\u7406\u8d39': '{0:.2f}', \n               '\u6258\u7ba1\u8d39': '{0:.2f}', \n               '\u89c4\u6a21\u5bf9\u5e94\u65e5\u671f':lambda x: \"{}\".format(x.strftime('%Y%m%d')),\n               '2018': '{0:.1%}', \n               '2019': '{0:.1%}', \n               '2020': '{0:.1%}', \n               '2021': '{0:.1%}'\n                }\n\ndf_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\\n                .format(format_dict)\\\n                .applymap(color_returns,subset=['2018','2019','2020','2021'])\n</pre> def color_returns(val):     if val &gt;=0:         color = '#EE7621'  # light red     elif val &lt;0:         color =  '#99ff66' # light green  '#99ff66'     else:         color = '#FFFAFA'  # ligth gray     return f'background-color: {color}'  format_dict = {'\u57fa\u91d1\u89c4\u6a21(\u4ebf)': '\uffe5{0:.1f}',                 '\u7ba1\u7406\u8d39': '{0:.2f}',                 '\u6258\u7ba1\u8d39': '{0:.2f}',                 '\u89c4\u6a21\u5bf9\u5e94\u65e5\u671f':lambda x: \"{}\".format(x.strftime('%Y%m%d')),                '2018': '{0:.1%}',                 '2019': '{0:.1%}',                 '2020': '{0:.1%}',                 '2021': '{0:.1%}'                 }  df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\                 .format(format_dict)\\                 .applymap(color_returns,subset=['2018','2019','2020','2021'])  <p>\u5728\u4f7f\u7528 Style \u4e2d\u7684\u51fd\u6570\u5bf9\u8868\u683c\u6570\u636e\u8fdb\u884c\u6837\u5f0f\u8bbe\u7f6e\u65f6\uff0c\u5bf9\u4e8e\u6709 subset \u53c2\u6570\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e \u884c\u548c\u5217\u7684\u8303\u56f4\u6765\u63a7\u5236\u9700\u8981\u8fdb\u884c\u6837\u5f0f\u8bbe\u7f6e\u7684\u533a\u57df</p> In\u00a0[\u00a0]: Copied! <pre>df_consume_1.style.applymap(color_returns,subset=pd.IndexSlice[1:5,])\n</pre> df_consume_1.style.applymap(color_returns,subset=pd.IndexSlice[1:5,]) In\u00a0[\u00a0]: Copied! <pre># \u5bf9\u5217(column)\u8fdb\u884c\u8303\u56f4\u8bbe\u7f6e\ndf_consume_1.style.applymap(color_returns,subset=['2019','2020'])\n</pre> # \u5bf9\u5217(column)\u8fdb\u884c\u8303\u56f4\u8bbe\u7f6e df_consume_1.style.applymap(color_returns,subset=['2019','2020']) In\u00a0[\u00a0]: Copied! <pre># \u5bf9\u884c\u548c\u5217\u540c\u65f6\u8fdb\u884c\u8303\u56f4\u8bbe\u7f6e\ndf_consume.style.hide_index()\\\n                .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\\n                .format(format_dict)\\\n                .applymap(color_returns,subset=pd.IndexSlice[1:5,['2018','2019','2020']])\n</pre> # \u5bf9\u884c\u548c\u5217\u540c\u65f6\u8fdb\u884c\u8303\u56f4\u8bbe\u7f6e df_consume.style.hide_index()\\                 .hide_columns(['\u6027\u522b','\u57fa\u91d1\u7ecf\u7406','\u4e0a\u4efb\u65e5\u671f',])\\                 .format(format_dict)\\                 .applymap(color_returns,subset=pd.IndexSlice[1:5,['2018','2019','2020']]) <p>\u5bf9\u4e8epandas \u4e2d\u6837\u5f0f\u8bbe\u7f6e\u540e\u7684\u5171\u4eab\u590d\u7528\uff0c\u76ee\u524d\u652f\u6301\u901a\u8fc7 Styler.export() \u5bfc\u51fa\u6837\u5f0f\uff0c\u7136\u540e\u901a\u8fc7 Styler.use() \u6765\u4f7f\u7528\u5bfc\u51fa\u7684\u6837\u5f0f\u3002</p> <p>\u4e0d\u8fc7\u7ecf\u8fc7\u9633\u54e5\u7684\u6d4b\u8bd5\uff0c\u7b80\u5355\u7684\u6837\u5f0f\u5bfc\u51fa\u4e0e\u4f7f\u7528\u662f\u53ef\u4ee5\u7684\u3002\u4f46\u7a0d\u5fae\u590d\u6742\u4e00\u4e9b\u7684\u60c5\u51b5\uff0c\u76ee\u524d\u7684pandas\u7248\u672c\u662f\u4e0d\u592a\u597d\u7528\u7684\u3002</p> In\u00a0[\u00a0]: Copied! <pre># \u7b80\u5355\u6837\u5f0f\uff1a\u4fdd\u5b58\u5f53\u524d\u6837\u5f0f\ndf_consume_1 = df_consume[['2018','2019','2020','2021']]\n# df_consume_1\nstyle1 = df_consume_1.style.hide_index()\\\n                .highlight_min(axis=1,subset=['2018','2019','2020','2021'],props='color:black;background-color:#99ff66')\\\n                .highlight_max(axis=1,subset=['2018','2019','2020','2021'],props='color:black;background-color:#ee7621')\\\n                .highlight_null(props='color:white;background-color:darkblue')\nstyle1\n</pre> # \u7b80\u5355\u6837\u5f0f\uff1a\u4fdd\u5b58\u5f53\u524d\u6837\u5f0f df_consume_1 = df_consume[['2018','2019','2020','2021']] # df_consume_1 style1 = df_consume_1.style.hide_index()\\                 .highlight_min(axis=1,subset=['2018','2019','2020','2021'],props='color:black;background-color:#99ff66')\\                 .highlight_max(axis=1,subset=['2018','2019','2020','2021'],props='color:black;background-color:#ee7621')\\                 .highlight_null(props='color:white;background-color:darkblue') style1 In\u00a0[\u00a0]: Copied! <pre># \u4f7f\u7528\u4fdd\u5b58\u7684\u6837\u5f0f\ndf_fund_1 = df_fund[['2018','2019','2020','2021']]\n\ndf_fund_1.style.use(style1.export())\n</pre> # \u4f7f\u7528\u4fdd\u5b58\u7684\u6837\u5f0f df_fund_1 = df_fund[['2018','2019','2020','2021']]  df_fund_1.style.use(style1.export()) <p>\u5f53\u6837\u5f0f\u8bbe\u7f6e\u8f83\u591a\u65f6\uff0c\u6bd4\u5982\u540c\u65f6\u9690\u85cf\u7d22\u5f15\u3001\u9690\u85cf\u5217\u3001\u8bbe\u7f6e\u6570\u636e\u683c\u5f0f\u3001\u9ad8\u4eae\u7279\u5b9a\u503c\u7b49\uff0c\u8fd9\u4e2a\u65f6\u5019\u6709\u4e9b\u64cd\u4f5c\u5728\u5bfc\u51fa\u540e\u4f7f\u7528\u65f6\u5e76\u6ca1\u6709\u6548\u679c\u3002</p> <p>DataFrames \u4f7f\u7528 OpenPyXL \u6216XlsxWriter \u5f15\u64ce\u53ef\u4ee5\u5c06\u6837\u5f0f\u5bfc\u51fa\u5230 Excel \u5de5\u4f5c\u8868\u3002</p> <p>\u4e0d\u8fc7\uff0c\u8fd9\u4e2a\u529f\u80fd\u76ee\u524d\u4e5f\u8fd8\u662f\u5904\u4e8e\u4e0d\u65ad\u5b8c\u5584\u8fc7\u7a0b\u4e2d\uff0c\u4f30\u8ba1\u6709\u65f6\u5019\u6709\u4e9b\u5185\u5bb9\u4f1a\u6ca1\u6709\u6548\u679c\u3002</p> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/Python%E5%8E%9F%E7%94%9F%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/","title":"Python\u865a\u62df\u73af\u5883","text":"<ul> <li>Python\u865a\u62df\u73af\u5883<ul> <li>\u865a\u62df\u73af\u5883\u521b\u5efa</li> <li>\u4f7f\u7528\u865a\u62df\u73af\u5883</li> <li>\u865a\u62df\u73af\u5883\u8fc1\u79fb</li> <li>\u5220\u9664\u865a\u62df\u73af\u5883</li> <li>\u5728vscode\u4e2d\u5e94\u7528\u865a\u62df\u73af\u5883</li> </ul> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/Python%E5%8E%9F%E7%94%9F%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/#_1","title":"\u865a\u62df\u73af\u5883\u521b\u5efa","text":"<p>python3\u4ee5\u4e0a\u53ef\u4ee5\u4f7f\u7528\u81ea\u5e26\u7684venv\u5de5\u5177\u521b\u5efa\u865a\u62df\u73af\u5883\uff0c\u9996\u5148\u8fdb\u5165\u60f3\u4fdd\u5b58\u865a\u62df\u73af\u5883\u7684\u76ee\u5f55\uff0c\u7136\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>python3 -m venv --system-site-packages myenv\n</code></pre> <p>\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u5efa\u7acb\u540d\u4e3amyenv\u7684\u865a\u62df\u73af\u5883\uff0c--system-site-packages\u662f\u4e3a\u4e86\u590d\u7528\u7cfb\u7edf\u5df2\u6709\u7684\u5305\uff0c\u907f\u514d\u91cd\u590d\u5b89\u88c5\uff08\u5982\u679c\u865a\u62df\u73af\u5883\u53ef\u80fd\u9700\u8981\u5728\u4e0d\u540c\u673a\u5668\u95f4\u62f7\u8d1d\uff0c\u5219\u4e0d\u5efa\u8bae\u7528\u8be5\u9009\u9879\u4ee5\u514d\u4e0d\u540c\u673a\u5668\u4e0a\u5de5\u4f5c\u8868\u73b0\u4e0d\u4e00\u81f4\u3002\u5982\u679c\u865a\u62df\u73af\u5883\u4e2d\u8981\u88c5\u7684\u5305\u4f9d\u8d56\u6bd4\u8f83\u591a\u6216\u8005\u5bf9\u4f9d\u8d56\u7684\u7248\u672c\u6709\u8981\u6c42\uff0c\u4e5f\u4e0d\u5efa\u8bae\u7528\u8fd9\u4e2a\u9009\u9879\uff09\u3002</p> <p>\u5982\u679c\u65b0\u73af\u5883\u4e2dpip\u4e00\u76f4\u51fa\u9519\uff0c\u53ef\u4ee5\u52a0\u4e0a --without-pip\u8fd9\u4e2a\u9009\u9879\uff08ubuntu16.04\u4e0b\u4f3c\u4e4e\u5f88\u5bb9\u6613\u51fa\u73b0\uff0c\u65b0\u7248\u7cfb\u7edf\u672a\u89c1\uff09\u3002</p> <p>\u5982\u679c\u9700\u8981\u5728\u8fdb\u51fa\u865a\u62df\u73af\u5883\u65f6\u505a\u5176\u5b83\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u5728\u865a\u62df\u73af\u5883bin\u76ee\u5f55\u4e0b\u7684activate\u548cdeactivate\u811a\u672c\u4e2d\u914d\u7f6e\uff0c\u4ee5\u5207\u6362CUDA\u7248\u672c\u4e3a\u4f8b\uff08\u6240\u6709activate\u4e2d\u7684\u4fee\u6539\u8bb0\u5f97\u5728deactivate\u4e2d\u8fd8\u539f\uff09\uff1a</p> <pre><code>sudo rm -rf /usr/local/cuda\nsudo ln -s /usr/local/cuda-10.1 /usr/local/cuda\nORIGINAL_CUDA_HOME=$CUDA_HOME\nORIGINAL_LD_LIBRARY_PATH=$LD_LIBRARY_PATH\nexport CUDA_HOME=/usr/local/cuda-10.1\nexport LD_LIBRARY_PATH=$CUDA_HOME/lib64:$LD_LIBRARY_PATH\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/Python%E5%8E%9F%E7%94%9F%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/#_2","title":"\u4f7f\u7528\u865a\u62df\u73af\u5883","text":"<p>linux\u4e0b\u6539\u597d\u540e\u8fdb\u5165\u865a\u62df\u73af\u5883\u5e76\u5b89\u88c5pip:</p> <pre><code>source ./myenv/bin/activate\ncurl https://bootstrap.pypa.io/get-pip.py | python\n</code></pre> <p>windows\u4e0b\u7528 <pre><code>.\\myenv\\Scripts\\activate #\u9700\u8981\u5f00\u542f\u8fd0\u884c\u81ea\u5b9a\u4e49\u811a\u672c\u6743\u9650\uff0c\u4e0d\u60f3\u5f00\u7684\u8bdd\u8bf7\u7528cmd\u6267\u884c.\\myenv\\Scripts\\activate.bat\n</code></pre></p> <p>\u5728\u865a\u62df\u73af\u5883\u5185\u5b89\u88c5\u9879\u76ee\u9700\u8981\u7684\u5176\u5b83\u5305\uff1a</p> <pre><code>pip install -r requirements.txt\n</code></pre> <p>\u4e4b\u540e\u5c31\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u4e86\u3002</p> <p>\u9000\u51fa\u865a\u62df\u73af\u5883\u7528deactivate\u547d\u4ee4</p> <pre><code>deactivate\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/Python%E5%8E%9F%E7%94%9F%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/#_3","title":"\u865a\u62df\u73af\u5883\u8fc1\u79fb","text":"<p>\u865a\u62df\u73af\u5883\u6240\u5728\u7684\u76ee\u5f55\u53ef\u4ee5\u5728\u4e24\u53f0\u673a\u5668\u95f4\u76f4\u63a5\u62f7\u8d1d\uff0c\u524d\u63d0\u662f\u4e24\u53f0\u673a\u5668\u90fd\u88c5\u6709\u76f8\u540c\u7684python\u7248\u672c\uff0c\u62f7\u8d1d\u540e\u7f16\u8f91bin/activate\u6587\u4ef6\uff0c\u627e\u5230</p> <pre><code>VIRTUAL_ENV=\"oldpath/myenvname\"\nexport VIRTUAL_ENV\n</code></pre> <p>\u628aoldpath\u6539\u6210\u5f53\u524d\u673a\u5668\u7684\u76ee\u5f55\u5373\u53ef\uff0c\u5982\u679c\u7528\u5176\u5b83shell\uff0c\u53ef\u4ee5\u4fee\u6539activate.csh\uff0cactivate.fish\u7b49\u6587\u4ef6\u7684\u76f8\u5e94\u4f4d\u7f6e</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/Python%E5%8E%9F%E7%94%9F%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/#_4","title":"\u5220\u9664\u865a\u62df\u73af\u5883","text":"<p>\u76f4\u63a5\u5220\u9664\u5bf9\u5e94\u5b50\u76ee\u5f55\u5c31\u53ef\u4ee5</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/Python%E5%8E%9F%E7%94%9F%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/#vscode","title":"\u5728vscode\u4e2d\u5e94\u7528\u865a\u62df\u73af\u5883","text":"<p>\u5982\u679c\u9700\u8981\u5728vscode\u4e2d\u4f7f\u7528\u865a\u62df\u73af\u5883\uff0c\u53ef\u4ee5\u5728\u6587\u4ef6\u5939\u7684.vscode\u76ee\u5f55\u4e2d\u5efa\u7acbsettings.json\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff08\u76ee\u5f55\u540d\u6539\u6210\u81ea\u5df1\u7684\u5373\u53ef\uff09\uff1a</p> <pre><code>{\n\"python.pythonPath\":\n\"/home/zhangzhi/img_nna_2_0/ndk_rel_2_0/nnvm_ndk_tools_env/bin/python\"\n}\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/","title":"arm\u4ea4\u53c9\u7f16\u8bd1\u8be6\u89e3","text":"<p>\u8f6c\u8f7d\u81ea \u4ea4\u53c9\u7f16\u8bd1\u8be6\u89e3--\u7248\u672c\uff1av1.3.0, \u6709\u4fee\u6539</p> CSDN GitHub arm\u4ea4\u53c9\u7f16\u8bd1\u8be6\u89e3 <code>AderXCoding/system/tools/cross_compile</code> <p>  \u672c\u4f5c\u54c1\u91c7\u7528\u77e5\u8bc6\u5171\u4eab\u7f72\u540d-\u975e\u5546\u4e1a\u6027\u4f7f\u7528-\u76f8\u540c\u65b9\u5f0f\u5171\u4eab 4.0 \u56fd\u9645\u8bb8\u53ef\u534f\u8bae\u8fdb\u884c\u8bb8\u53ef, \u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904 </p> <p>\u672c\u6587\u4e3b\u8981\u4ecb\u7ecd\u4e86\u4ec0\u4e48\u662f\u4ea4\u53c9\u7f16\u8bd1\uff0c\u4e3a\u4f55\u8981\u6709\u4ea4\u53c9\u7f16\u8bd1\uff1b\u89e3\u91ca\u4e86\u4ec0\u4e48\u662f\u5de5\u5177\u94fe\uff0c\u4ec0\u4e48\u662f\u4ea4\u53c9\u5de5\u5177\u94fe\uff1b\u8be6\u89e3\u89e3\u91ca\u4e86\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u540d\u5b57\u7684\u547d\u540d\u89c4\u5219\uff0c\u4ee5\u53ca\u5982\u4f55\u83b7\u5f97\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u5404\u79cd\u5de5\u5177\uff0c\u4f7f\u7528\u5df2\u6709\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\u548c\u81ea\u5df1\u624b\u52a8\u7f16\u8bd1\u4ea4\u53c9\u7f16\u8bd1\u5668\u4e4b\u95f4\u7684\u5bf9\u6bd4\uff1b\u6700\u540e\u603b\u7ed3\u4e86\u4ea4\u53c9\u7f16\u8bd1\u65b9\u9762\u7684\u5fc3\u5f97\u548c\u6ce8\u610f\u4e8b\u9879\u3002</p> <p>\u672c\u6587\u63d0\u4f9b\u591a\u79cd\u683c\u5f0f\u4f9b\uff1a</p> 1 2 3 4 5 6 7 8 \u5728\u7ebf\u9605\u8bfb HTML HTMLs PDF CHM TXT RTF WEBHELP \u4e0b\u8f7d(7zip\u538b\u7f29\u5305) HTML HTMLs PDF CHM TXT RTF WEBHELP HTML\u7248\u672c\u7684\u5728\u7ebf\u5730\u5740\u4e3a\uff1a <p>http://www.crifan.com/files/doc/docbook/cross_compile/release/html/cross_compile.html</p> <p>\u6709\u4efb\u4f55\u610f\u89c1\uff0c\u5efa\u8bae\uff0c\u63d0\u4ea4bug\u7b49\uff0c\u90fd\u6b22\u8fce\u53bb\u8ba8\u8bba\u7ec4\u53d1\u5e16\u8ba8\u8bba\uff1a</p> <p>http://www.crifan.com/bbs/categories/cross_compile/</p> <p>2015-05-23</p> \u4fee\u8ba2\u5386\u53f2 \u4fee\u8ba2 1.3.0  2015-05-23  crl 1.    \u5c06\u5e16\u5b50\u5185\u5bb9\u6574\u7406\u8fc7\u67652. \u6dfb\u52a0\u4e86\u5173\u4e8e\u4ea4\u53c9\u7f16\u8bd1\u5668\u547d\u540d\u89c4\u5219\u7684\u89e3\u91ca3. \u6dfb\u52a0\u4e86\u4f7f\u7528\u5df2\u6709\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\u548c\u81ea\u5df1\u624b\u52a8\u7f16\u8bd1\u4ea4\u53c9\u7f16\u8bd1\u5668\u4e4b\u95f4\u7684\u5bf9\u6bd44.    \u8865\u5145\u5b8c\u6574\u5e16\u5b50\u5f15\u75285.  \u6dfb\u52a0\u4ea4\u53c9\u7f16\u8bd1\u5668eldk\u7684\u4e0b\u8f7d\u5730\u5740 <p>\u7248\u6743 \u00a9 2015 Crifan, http://crifan.com</p> <p>\u672c\u6587\u7ae0\u9075\u4ece\uff1a\u7f72\u540d-\u975e\u5546\u4e1a\u6027\u4f7f\u7528 2.5 \u4e2d\u56fd\u5927\u9646(CC BY-NC 2.5)</p> <p>\u524d\u8a00</p> <ol> <li>\u672c\u6587\u76ee\u7684</li> </ol> <p>\u672c\u6587\u76ee\u7684\u5728\u4e8e\uff0c\u4ecb\u7ecd\u5173\u4e8e\u4ea4\u53c9\u7f16\u8bd1\u65b9\u9762\u7684\u6982\u5ff5\uff0c\u4ee5\u53ca\u5982\u4f55\u83b7\u5f97\u548c\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668\u7b49\u7b49\u5185\u5bb9\u3002</p> <ol> <li>\u5f85\u5b8c\u6210</li> </ol> <p>\u6709\u7a7a\u518d\u53bb\u81ea\u5df1\uff0c\u4e0d\u7528\u5de5\u5177\uff0c\u624b\u52a8\u7684\uff0c\u4ece\u5934\u5230\u5c3e\u7684\uff0c\u5236\u4f5c\u4e00\u4e2a\u4ea4\u53c9\u7f16\u8bd1\u5668\u3002\u7136\u540e\u518d\u628a\u5185\u5bb9\u6574\u7406\u8fc7\u6765\u3002</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#1","title":"1  \u4ea4\u53c9\u7f16\u8bd1\u7b80\u4ecb","text":"<p>\u4ea4\u53c9\u7f16\u8bd1\u548c\u73b0\u5b58\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177</p> <p>\u5173\u4e8eToolchain,cross toolchain,cross compiler</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#11","title":"1.1   \u4ec0\u4e48\u662f\u4ea4\u53c9\u7f16\u8bd1","text":"<p>\u89e3\u91ca\u4ec0\u4e48\u662f\u4ea4\u53c9\u7f16\u8bd1\u4e4b\u524d\uff0c\u5148\u8981\u660e\u767d\u4e00\u4e2a\u6982\u5ff5\uff1a\u672c\u5730\u7f16\u8bd1</p> <p>\u6211\u4eec\u4e4b\u524d\u5e38\u89c1\u7684\u8f6f\u4ef6\u5f00\u53d1\uff0c\u90fd\u662f\u5c5e\u4e8e\u672c\u5730\u7f16\u8bd1\uff1a</p> <p>\u5728\u5f53\u524d\u7684PC\u4e0b\uff0cx86\u7684CPU\u4e0b\uff0c\u76f4\u63a5\u7f16\u8bd1\u51fa\u6765\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u8fd0\u884c\u7684\u7a0b\u5e8f\uff08\u6216\u8005\u5e93\u6587\u4ef6\uff09\uff0c\u5176\u53ef\u4ee5\u76f4\u63a5\u5728\u5f53\u524d\u7684\u73af\u5883\uff0c\u5373x86\u7684CPU\u4e0b\uff0c\u5f53\u524d\u7535\u8111\u4e2d\uff0c\u8fd0\u884c\u3002</p> <p>\u6b64\u65f6\u7684\u7f16\u8bd1\uff0c\u53ef\u4ee5\u53eb\u505a\uff0c\u672c\u5730\u7f16\u8bd1\uff0c\u5373\u5728\u5f53\u524d\u76ee\u6807\u5e73\u53f0\u4e0b\uff0c\u7f16\u8bd1\u51fa\u6765\u7684\u7a0b\u5e8f\uff0c\u4e5f\u53ea\u662f\u653e\u5230\u5f53\u524d\u5e73\u53f0\u4e0b\uff0c\u5c31\u53ef\u4ee5\u8fd0\u884c\u7684\u3002</p> <p>\u4ea4\u53c9\u7f16\u8bd1\uff0c\u662f\u4e00\u4e2a\u548c\uff0c\u672c\u5730\u7f16\u8bd1\uff0c\u76f8\u5bf9\u5e94\u7684\u6982\u5ff5\u3002</p> <p>\u800c\u6240\u8c13\u7684\uff0c\u4ea4\u53c9\u7f16\u8bd1\uff0c\u5c31\u662f\uff1a</p> <p>\u5728\u4e00\u79cd\u5e73\u53f0\u4e0a\u7f16\u8bd1\uff0c\u7f16\u8bd1\u51fa\u6765\u7684\u7a0b\u5e8f\uff0c\u662f\u653e\u5230\u522b\u7684\u5e73\u53f0\u4e0a\u8fd0\u884c</p> <p>\u5373\u7f16\u8bd1\u7684\u73af\u5883\uff0c\u548c\u8fd0\u884c\u7684\u73af\u5883\uff0c\u4e0d\u4e00\u6837\uff0c\u5c5e\u4e8e\u4ea4\u53c9\u7684\uff0c\u6b64\u6240\u8c13cross</p> <p>\u4ea4\u53c9\u7f16\u8bd1\uff0c\u8fd9\u4e2a\u6982\u5ff5\uff0c\u4e3b\u8981\u548c\u5d4c\u5165\u5f0f\u5f00\u53d1\u6709\u5173\u3002</p> <p>\u4f8b 1.1. \u5728x86\u5e73\u53f0\u4e0a\u7f16\u8bd1\uff0c\u5728ARM\u5e73\u53f0\u4e0a\u8fd0\u884c</p> <p>\u4e00\u79cd\u6700\u5e38\u89c1\u7684\u4f8b\u5b50\u5c31\u662f\uff1a</p> <p>\u5728\u8fdb\u884c\u5d4c\u5165\u5f0f\u5f00\u53d1\u65f6</p> <p>\u624b\u4e0a\u6709\u4e2a\u5d4c\u5165\u5f0f\u5f00\u53d1\u677f\uff0cCPU\u662farm\u7684</p> <p>\u7136\u540e\u5728x86\u7684\u5e73\u53f0\u4e0b\u5f00\u53d1\uff0c\u6bd4\u5982Ubuntu\u7684Linux\uff0c\u6216\u8005\u662fWin7</p> <p>\u7136\u540e\u5c31\u9700\u8981\uff1a</p> <p>\u5728x86\u7684\u5e73\u53f0\u4e0a\uff0c\uff08\u7528\u4ea4\u53c9\u7f16\u8bd1\u5668\uff09\u53bb\u7f16\u8bd1\u4f60\u5199\u597d\u7684\u7a0b\u5e8f\u4ee3\u7801</p> <p>\u7f16\u8bd1\u751f\u6210\u7684\uff08\u53ef\u6267\u884c\u7684\uff09\u7a0b\u5e8f\uff0c\u662f\u653e\u5230\u76ee\u6807\u5f00\u53d1\u677f\uff0carm\u7684CPU\u4e0a\u8fd0\u884c\u7684</p> <p>\u6b64\u6240\u8c13\uff1a\u5728x86\u5e73\u53f0\u4e0a\u7f16\u8bd1\uff0c\u5728ARM\u5e73\u53f0\u4e0a\u8fd0\u884c</p> <p>\u4ea4\u53c9\u7f16\u8bd1\uff0c\u82f1\u6587\u5e38\u5199\u4f5ccross compile\uff0c\u4e5f\u6709\u5176\u4ed6\u5199\u6cd5\uff1acrosscompile, cross compiling\u7b49</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#12","title":"1.2   \u4e3a\u4f55\u8981\u6709\u4ea4\u53c9\u7f16\u8bd1","text":"<p>\u4e4b\u6240\u4ee5\u8981\u6709\u4ea4\u53c9\u7f16\u8bd1\uff0c\u4e3b\u8981\u539f\u56e0\u662f\uff1a</p> <p>\u5d4c\u5165\u5f0f\u7cfb\u7edf\u4e2d\u7684\u8d44\u6e90\u592a\u5c11</p> <p>\u5177\u4f53\u7684\u89e3\u91ca\u5c31\u662f\uff1a</p> <p>\u4ea4\u53c9\u7f16\u8bd1\u51fa\u6765\u7684\u7a0b\u5e8f\uff0c\u6240\u8981\u8fd0\u884c\u7684\u76ee\u6807\u73af\u5883\u4e2d\uff0c\u5404\u79cd\u8d44\u6e90\uff0c\u90fd\u76f8\u5bf9\u6709\u9650\uff0c\u6240\u4ee5\u5f88\u96be\u8fdb\u884c\u76f4\u63a5\u7684\u672c\u5730\u7f16\u8bd1</p> <p>\u6700\u5e38\u89c1\u7684\u60c5\u51b5\u662f\uff1a</p> <p>\u5728\u8fdb\u884c\u5d4c\u5165\u5f0f\u5f00\u53d1\u65f6\uff0c\u76ee\u6807\u5e73\u53f0\uff0c\u5373\u5d4c\u5165\u5f0f\u5f00\u53d1\u677f\uff0c\u6bd4\u5982\u662f\u6700\u5927\u4e3b\u9891200MHz\u7684ARM\u7684CPU\uff0c\u52a0\u4e0a32M\u7684RAM\uff0c\u52a0\u4e0a1G\u7684Nand Flash\u7b49\u7b49\u3002</p> <p>\u5728\u5982\u6b64\u76f8\u5bf9\u6bd4\u8f83\u7d27\u5f20\u7684\u786c\u4ef6\u8d44\u6e90\u7684\u524d\u63d0\u4e0b\uff0c\u5728\u5df2\u7ecf\u8fd0\u884c\u4e86\u5d4c\u5165\u5f0fLinux\u7684\u524d\u63d0\u4e0b\uff0c\u662f\u6ca1\u6cd5\u5f88\u65b9\u4fbf\u7684\uff0c\u76f4\u63a5\u5728\u5d4c\u5165\u5f0fLinux\u4e0b\uff0c\u53bb\u672c\u5730\u7f16\u8bd1\uff0c\u53bb\u5728ARM\u7684CPU\u4e0b\uff0c\u7f16\u8bd1\u51fa\u6765\uff0c\u4f9bARM\u7684CPU\u53ef\u4ee5\u8fd0\u884c\u7684\u7a0b\u5e8f\u7684\u3002</p> <p>\u56e0\u4e3a\u7f16\u8bd1\uff0c\u5f00\u53d1\uff0c\u90fd\u9700\u8981\u76f8\u5bf9\u6bd4\u8f83\u591a\u7684CPU\uff0c\u5185\u5b58\uff0c\u786c\u76d8\u7b49\u8d44\u6e90\uff0c\u800c\u5d4c\u5165\u5f0f\u5f00\u53d1\u4e0a\u7684\u90a3\u70b9\u8d44\u6e90\uff0c\u53ea\u591f\u5d4c\u5165\u5f0f\uff08Linux\uff09\u7cfb\u7edf\u8fd0\u884c\u7684\uff0c\u6ca1\u592a\u591a\u5269\u4f59\u7684\u8d44\u6e90\uff0c\u4f9b\u4f60\u672c\u5730\u7f16\u8bd1\u3002</p> <p>\u63d0\u793a</p> <p>BusyBox\u4e2d\u5305\u542bmake\u7b49\u548c\u7f16\u8bd1\u5f00\u53d1\u76f8\u5173\u7684\u5de5\u5177</p> <p>\u5bf9\u5e94\u7684\uff0c\u7b49\u4f60\u540e\u671f\u719f\u6089\u4e86\u5d4c\u5165\u5f0f\u5f00\u53d1\uff0c\u719f\u6089\u4e86Busybox\u540e\uff0c</p> <p>\u6bd4\u5982\u5728Buildroot\u4e2d\u53bb\u914d\u7f6eBusybox\uff0c\u6216\u8005\u5355\u72ec\u4ea4\u53c9\u7f16\u8bd1BusyBox\u65f6\uff1a</p> <p>[\u8bb0\u5f55] Ubuntu\u4e0b\u4e3aQEMU\u7684arm\u5e73\u53f0\u4ea4\u53c9\u7f16\u8bd1BusyBox</p> <p>\u5c31\u4f1a\u770b\u5230\uff0c\u540e\u6765\u7684BusyBox\uff0c\u529f\u80fd\u589e\u52a0\u540e\uff0c\u4e5f\u5df2\u7ecf\u5305\u542b\u4e86\u4e00\u4e9b\uff0c\u548c\u7f16\u8bd1\u5f00\u53d1\u76f8\u5173\u7684\u5de5\u5177\uff0c\u6bd4\u5982make\u7b49\u7b49</p> <p>\u800c\u8fd9\u4e9b\u5de5\u5177\uff0c\u672c\u6765\u7684\u8bdd\uff0c\u53ea\u662f\uff0c\u653e\u5728PC\u7aef\u4f7f\u7528\uff0c\u5373\u5728x86\u5e73\u53f0\u4e0b\u505a\u5f00\u53d1\u7684\u65f6\u5019\uff0c\u5728\u4ea4\u53c9\u7f16\u8bd1\u7684\u65f6\u5019\uff0c\u624d\u7528\u5230\u7684\u5de5\u5177\uff0c</p> <p>\u73b0\u5728\uff0c\u4e5f\u5728\uff08BusyBox\u7684\uff09\u5d4c\u5165\u5f0f\u73af\u5883\u4e2d\uff0c\u652f\u6301\u4e86\u3002</p> <p>\u6b64\u65f6\uff0c\u5982\u679c\uff0c\u4f60\u5728BusyBox\u4e2d\u628a\u76f8\u5173\u7684\u5f00\u53d1\u5de5\u5177\u90fd\u9009\u4e0a\u7684\u8bdd\uff0c</p> <p>\u518d\u52a0\u4e0a\uff0c\u4f60\u7684\u76ee\u6807\u5f00\u53d1\u677f\u7684\u786c\u4ef6\u914d\u7f6e\u8db3\u591f\u5f3a\u5927\u7684\u8bdd\uff0c\u6bd4\u5982CPU\u90fd\u662f\u4ee5GHz\u4e3a\u5355\u4f4d\uff0c\u7b49\u7b49</p> <p>\u52a0\u4e0a\u76f8\u5173\u7684\u5f00\u53d1\u7684\u5e93\u548c\u5de5\u5177\u90fd\u5f88\u5168\u7684\u8bdd</p> <p>\u5b9e\u9645\u4e0a\uff0c\u81f3\u5c11\u7406\u8bba\u4e0a\uff0c\u4e5f\u662f\u53ef\u4ee5\u5728\u4f60\u7684\u5d4c\u5165\u5f0fLinux\u4e2d\uff0c\u8fdb\u884c\uff0c\u6709\u9650\u7684\uff0c\u751a\u81f3\u662f\u5f88\u5927\u7a0b\u5ea6\u4e0a\u7684\uff0c\u672c\u5730\u5f00\u53d1</p> <p>\u5373\uff0c\u76f4\u63a5\u5728ARM\u7684\u5f00\u53d1\u677f\u4e0a\uff0c\u5d4c\u5165\u5f0fLinux\u4e2d\uff0c\u76f4\u63a5\u8fdb\u884c\u5d4c\u5165\u5f0f\u5f00\u53d1\uff0c\u8fdb\u884c\u9488\u5bf9ARM\u7684\u672c\u5730\u7f16\u8bd1</p> <p>\u6bd4\u5982\uff0c\u7f16\u8bd1\u51fa\u4e00\u4e2ahelloworld\uff0c\u4f30\u8ba1\u8fd8\u662f\u53ef\u4ee5\u7684</p> <p>\u8fd9\u6837\uff0c\u5c31\u4e0d\u5b58\u5728\uff0c\u6216\u8005\u8bf4\uff0c\u907f\u514d\u4e86\uff0c\u6b64\u5904\u6240\u8bf4\u7684\uff0c\u4ea4\u53c9\u7f16\u8bd1\uff0c\u800c\u53d8\u6210\u4e86\u672c\u5730\u7f16\u8bd1</p> <p>\u5c31\u76f8\u5f53\u4e8e\uff0c\u4e4b\u524d\u5728x86\u7684PC\u7aef\u7684\uff0c\u7f16\u8bd1\u7a0b\u5e8f\u653e\u5728x86\u7684CPU\u4e0a\u8fd0\u884c\u7684\u672c\u5730\u7f16\u8bd1\uff0c</p> <p>\u5728ARM\u7684CPU\uff0c\u5d4c\u5165\u5f0fLinux\u4e2d\uff0c\u4e5f\u5b9e\u73b0\u4e86</p> <p>\u4f46\u662f\u5f88\u660e\u663e\uff0c\u5bf9\u4e8e\u66f4\u52a0\u590d\u6742\u7684\u7a0b\u5e8f\u6216\u8005\u5e93\uff0c\u5728ARM\u5f00\u53d1\u677f\u4e0a\u76f4\u63a5\u7f16\u8bd1\u7684\u53ef\u884c\u6027\u548c\u6548\u7387\uff0c\u76f8\u5bf9\u5c31\u5f88\u4f4e</p> <p>\u800c\u4e14\u5982\u679c\u662f\u672c\u8eab\u6298\u817eUboot\u7b49\u4e1c\u897f\uff0c\u672c\u8eab\u76ee\u6807\u8fd0\u884c\u73af\u5883\uff0c\u5c31\u6ca1\u6709\u5b8c\u6574\u7684\uff08\u5d4c\u5165\u5f0fLinux\uff09\u7cfb\u7edf\u7684\u8bdd\uff0c\u90a3\u4e48\u5c31\u66f4\u52a0\u6ca1\u6cd5\u5728\u76ee\u6807\u5e73\u53f0\u5b9e\u73b0\u672c\u5730\u7f16\u8bd1\u4e86\u3002</p> <p>\u5219\u8fd8\u662f\u53ea\u80fd\u8fdb\u884c\uff0c\u6b64\u5904\u6240\u8bf4\u7684\uff0c\u4ea4\u53c9\u7f16\u8bd1</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#2","title":"2  \u4ea4\u53c9\u5de5\u5177\u94fe\u7b80\u4ecb","text":"<p>\u641e\u61c2\u4e86\u524d\u9762\u4ecb\u7ecd\u7684\u7b2c 1 \u7ae0 \u4ea4\u53c9\u7f16\u8bd1\u7b80\u4ecb\u7684\u6982\u5ff5\u540e\uff0c\u518d\u6765\u89e3\u91ca\u4ec0\u4e48\u662f\u4ea4\u53c9\u5de5\u5177\u94fe\u3002</p> <ul> <li>\u76f8\u5173\u65e7\u5e16\uff1a[\u6574\u7406] \u5173\u4e8eToolchain,cross toolchain,cross compiler</li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#21","title":"2.1   \u4ec0\u4e48\u662f\u5de5\u5177\u94fe","text":"<p>\u6240\u8c13\u7684\u5de5\u5177\u94fe\uff0c\u4e24\u90e8\u5206\u7684\u542b\u4e49 :</p> <ul> <li>\u5de5\u5177</li> </ul> <p>\u5de5\u5177\uff0c\u5373tool</p> <p>\u5de5\u5177\uff0c\u662f\u7528\u6765\u5e72\u6d3b\u7684</p> <p>\u6b64\u5904\u8981\u5e72\u7684\u6d3b\uff0c\u76ee\u6807\u662f\u4e3a\u4e86\uff1a\u751f\u6210\uff08\u53ef\u4ee5\u8fd0\u884c\u7684\uff09\u7a0b\u5e8f\u6216\u5e93\u6587\u4ef6</p> <p>\u800c\u4e3a\u4e86\u8fbe\u6210\u6b64\u76ee\u6807\uff0c\u5185\u90e8\u7684\u6267\u884c\u8fc7\u7a0b\u548c\u903b\u8f91\u4e3b\u8981\u5305\u542b\u4e86\uff1a</p> <ol> <li>\u7f16\u8bd1</li> </ol> <p>\u7f16\u8bd1\u7684\u8f93\u5165\uff08\u5bf9\u8c61\uff09\u662f\uff1a\u7a0b\u5e8f\u4ee3\u7801</p> <p>\u7f16\u8bd1\u8f93\u51fa\uff08\u76ee\u6807\uff09\u662f\uff1a\u76ee\u6807\u6587\u4ef6</p> <p>\u7f16\u8bd1\u6240\u9700\u8981\u7684\u5de5\u5177\u662f\uff1a\u7f16\u8bd1\u5668</p> <p>\u7f16\u8bd1\u5668\uff0c\u5e38\u89c1\u7684\u7f16\u8bd1\u5668\uff0c\u5373\u4e3agcc</p> <ol> <li>\u94fe\u63a5 \u94fe\u63a5\u7684\u8f93\u5165\uff08\u5bf9\u8c61\uff09\u662f\uff1a\uff08\u7a0b\u5e8f\u8fd0\u884c\u65f6\u6240\u4f9d\u8d56\u7684\uff0c\u6216\u8005\u67d0\u4e2a\u5e93\u6240\u4f9d\u8d56\u7684\u53e6\u5916\u4e00\u4e2a\uff09\u5e93\uff08\u6587\u4ef6\uff09</li> </ol> <p>\u94fe\u63a5\u7684\u8f93\u51fa\uff08\u76ee\u6807\uff09\u662f\uff1a\u7a0b\u5e8f\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u6216\u8005\u662f\u53ef\u4ee5\u88ab\u522b\u4eba\u8c03\u7528\u7684\u5b8c\u6574\u7684\u5e93\u6587\u4ef6</p> <p>\u94fe\u63a5\u6240\u9700\u8981\u7684\u5de5\u5177\u662f\uff1a\u94fe\u63a5\u5668</p> <p>\u94fe\u63a5\u5668\uff0c\u5373ld</p> <p>\u5373\uff0c\u6b64\u5904\uff0c\u4e3a\u4e86\u5c06\u7a0b\u5e8f\u4ee3\u7801\uff0c\u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u6d89\u53ca\u5230\u7f16\u8bd1\uff0c\u94fe\u63a5\uff08\u7b49\u5176\u4ed6\u6b65\u9aa4\uff09\uff0c\u8981\u4f9d\u8d56\u5230\u5f88\u591a\u76f8\u5173\u7684\u5de5\u5177\uff0c\u6700\u6838\u5fc3\u7684\u662f\u7f16\u8bd1\u5668gcc\uff0c\u94fe\u63a5\u5668ld\u3002</p> <p>\u800c\u6b64\u5904\uff0c\u6240\u8c13\u7684\u5de5\u5177\uff0c\u4e3b\u8981\u6307\u7684\u5c31\u662f\uff1a\u548c\u7a0b\u5e8f\u7f16\u8bd1\u94fe\u63a5\u7b49\u76f8\u5173\u7684gcc\uff0cld\u7b49\u5de5\u5177</p> <p>\u63d0\u793a binutils\u5305\u542b\u4e86ld\u7b49\u5de5\u5177</p> <p>\u5b9e\u9645\u4e0a\uff0c\u4e0a\u9762\u6240\u8bf4\u7684ld\uff0c\u53ea\u662f\u5904\u7406\u64cd\u4f5c\u76ee\u6807\u6587\u4ef6\uff0c\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u6700\u4e3b\u8981\u7684\u4e00\u4e2a\u5de5\u5177</p> <p>\u800c\u548c\u64cd\u4f5c\u76ee\u6807\u7b49\u6587\u4ef6\u76f8\u5173\u7684\uff0c\u8fd8\u6709\u5176\u4ed6\u5f88\u591a\u5de5\u5177\u7684\uff1aas\uff0cobjcopy\uff0cstrip\uff0car\u7b49\u7b49\u5de5\u5177\u7684</p> <p>\u6240\u4ee5\uff0c\u5bf9\u6b64\uff0cGNU\u5b98\u7f51\uff0c\u5f04\u51fa\u4e00\u4e2abinutils\uff0c\u5373binary utils\uff0c\u4e8c\u8fdb\u5236\u5de5\u5177\uff08\u5305\uff09\uff0c\u96c6\u6210\u4e86\u8fd9\u4e9b\uff0c\u548c\u64cd\u4f5c\u4e8c\u8fdb\u5236\u76f8\u5173\u7684\u5de5\u5177\u96c6\u5408\uff0c\u53eb\u505abinutils</p> <p>\u6240\u4ee5\uff0c\u4e4b\u540e\u4f60\u6240\u89c1\u5230\u7684\uff0c\u5e38\u89c1\u7684\u5de5\u5177\uff0c\u5c31\u662f\u90a3\u4e2a\u8457\u540d\u7684GNU Binutils\u4e86\u3002</p> <p>\u66f4\u52a0\u8be6\u7ec6\u7684\u89e3\u91ca\uff0c\u53c2\u89c1\u5b98\u7f51</p> <ul> <li>\u94fe</li> </ul> <p>\u94fe\uff0c\u5373\u94fe\u6761\uff0cchain</p> <p>\u4e4b\u6240\u4ee5\u80fd\u79f0\u4e3a\u94fe\uff0c\u4f60\u662f\u8bf4\u660e\u4e0d\u6b62\u4e00\u4e2a\u4e1c\u897f\uff0c\u7136\u540e\uff0c\u6309\u7167\u5bf9\u5e94\u7684\u903b\u8f91\uff0c\u4e32\u5728\u4e00\u8d77\uff0c\u94fe\u5728\u4e00\u8d77</p> <p>\u800c\u5bf9\u5e94\u7684\uff0c\u6d89\u53ca\u5230\u7684\uff1a</p> <ol> <li> <p>\u4e0d\u6b62\u4e00\u4e2a\u4e1c\u897f \u6307\u7684\u662f\u5c31\u662f\u524d\u9762\u6240\u8bf4\u7684\u90a3\u4e2a\u5de5\u5177\uff0c\u5373\uff1a\u548c\u7a0b\u5e8f\u7f16\u8bd1\u94fe\u63a5\u7b49\u76f8\u5173\u7684gcc\uff0cbinutils\u7b49\u5de5\u5177</p> </li> <li> <p>\u6309\u7167\u5bf9\u5e94\u7684\u903b\u8f91 \u6307\u7684\u5c31\u662f\uff0c\u6309\u7167\u7a0b\u5e8f\u672c\u8eab\u7f16\u8bd1\u94fe\u63a5\u7684\u5148\u540e\u987a\u5e8f\uff0c\u5373\uff1a</p> </li> </ol> <p>\u5148\u7f16\u8bd1\uff0c\u540e\u94fe\u63a5\uff0c\u518d\u8fdb\u884c\u540e\u671f\u5176\u4ed6\u7684\u5904\u7406\u7b49\u7b49\uff0c\u6bd4\u5982\u7528objcopy\u53bb\u64cd\u4f5c\u76f8\u5e94\u7684\u76ee\u6807\u6587\u4ef6\u7b49\u7b49\u3002</p> <p>\u5982\u6b64\u7684\uff0c\u5c06\uff1a</p> <p>\u548c\u7a0b\u5e8f\u7f16\u8bd1\u94fe\u63a5\u7b49\u76f8\u5173\u7684gcc\uff0cbinutils\u7b49\u5de5\u5177</p> <p>\u6309\u7167\u5148\u7f16\u8bd1\u540e\u94fe\u63a5\u7b49\u76f8\u5173\u7684\u7f16\u8bd1\u7a0b\u5e8f\u7684\u5185\u5728\u903b\u8f91</p> <p>\u4e32\u8d77\u6765\uff0c\u5c31\u6210\u4e86\u6211\u4eec\u6240\u8bf4\u7684\uff1a\u5de5\u5177\u94fe</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#22","title":"2.2   \u4ec0\u4e48\u662f\u4ea4\u53c9\u5de5\u5177\u94fe","text":"<p>\u666e\u901a\u6240\u8bf4\u7684\uff0c\u5de5\u5177\u94fe\uff0c\u6307\u7684\u662f\u5f53\u524d\u81ea\u5df1\u7684\u672c\u5730\u5e73\u53f0\u7684\u5de5\u5177\u94fe\u3002</p> <p>\u7528\u4e8e\uff0c\u4ea4\u53c9\u7f16\u8bd1\uff0c\u7684\u5de5\u5177\u94fe\uff0c\u5c31\u53eb\u505a\u4ea4\u53c9\u5de5\u5177\u94fe</p> <p>\u5373\uff0c\u90a3\u4e9b\u5de5\u5177\uff0c\u5373\u7f16\u8bd1\u7684gcc\uff0c\u94fe\u63a5\u7684ld\uff0c\u4ee5\u53ca\u76f8\u5173\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u4ea4\u53c9\u7f16\u8bd1\u7684\uff0c\u5de5\u5177\u94fe\uff0c\u53eb\u505a\u4ea4\u53c9\u5de5\u5177\u94fe\u3002</p> <p>\u4ea4\u53c9\u5de5\u5177\u94fe\uff0c\u5f88\u660e\u663e\uff0c\u662f\u7528\u6765\uff0c\u4ea4\u53c9\u7f16\u8bd1\uff0c\u8de8\u5e73\u53f0\u7684\u7a0b\u5e8f\u6240\u7528\u7684\u3002</p> <p>\u4ea4\u53c9\u5de5\u5177\u94fe\uff0c\u548c\uff08\u672c\u5730\uff09\u5de5\u5177\u94fe\u7c7b\u4f3c\uff0c\u4e5f\u662f\u5305\u542b\u4e86\u5f88\u591a\u7684\uff0c\u5bf9\u5e94\u7684\u5de5\u5177\uff0c\u4ea4\u53c9\u7f16\u8bd1\u7248\u672c\u7684gcc\uff0cld\uff0cas\u7b49\u7b49\u3002</p> <p>\u4f46\u662f\uff0c\u7531\u4e8e\u5176\u4e2d\u6700\u6700\u4e3b\u8981\u7684\u662f\u7528\u4e8e\u7f16\u8bd1\u7684gcc\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u4e5f\u5e38\u628a\uff1a</p> <p>\u4ea4\u53c9\u5de5\u5177\u94fe\uff0c\u7b80\u79f0\u4e3a\u4ea4\u53c9\u7f16\u8bd1\u5668</p> <p>\u5373\uff1a</p> <p>\u4e25\u683c\u610f\u4e49\u4e0a\u6765\u8bf4\uff0c\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u53ea\u662f\u6307\u7684\u662f\u4ea4\u53c9\u7f16\u8bd1\u7248\u672c\u7684gcc</p> <p>\u4f46\u662f\u5b9e\u9645\u4e0a\u4e3a\u4e86\u53eb\u6cd5\u4e0a\u7684\u65b9\u4fbf\uff0c\u6211\u4eec\u5e38\u8bf4\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u90fd\u662f\u6307\u7684\u662f\u4ea4\u53c9\u5de5\u5177\u94fe</p> <p>\u5373\uff0c\u5e38\u8bf4\u7684\u4ea4\u53c9\u7f16\u8bd1\u7248\u672c\u7684gcc\uff0c\u6bd4\u5982arm-linux-gcc\uff0c\u5b9e\u9645\u4e0a\u6307\u4ee3\u4e86\uff0c\u5305\u542b\u4e00\u7cfb\u5217\u4ea4\u53c9\u7f16\u8bd1\u7248\u672c\u7684\u4ea4\u53c9\u5de5\u5177\u94fe\uff08arm-linux-gcc\uff0carm-linux-ld\uff0carm-linux-as\u7b49\u7b49\uff09</p> <p>\u800c\u6b64\u6587\u4e2d\uff0c\u540e\u9762\uff0c\u6240\u8bf4\u7684\uff0c\u5982\u65e0\u7279\u6b8a\u6307\u660e\uff0c\u5747\u7528\u4ea4\u53c9\u7f16\u8bd1\u5668\u6307\u4ee3\u4ea4\u53c9\u5de5\u5177\u94fe\u3002</p> <p>\u4e0b\u9762\u5c31\u5bf9\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u8fdb\u884c\u8be6\u7ec6\u7684\u89e3\u91ca\u3002</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#3","title":"3  \u4ea4\u53c9\u7f16\u8bd1\u5668\u7b80\u4ecb","text":"<p>\u76f8\u5173\u65e7\u5e16\uff1a\u5d4c\u5165\u5f0f\u5f00\u53d1\u4e4b\u4ea4\u53c9\u7f16\u8bd1\u5668</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#31","title":"3.1   \u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u547d\u540d\u89c4\u5219","text":"<p>\u5728\u6298\u817e\u5d4c\u5165\u5f0f\u5f00\u53d1\uff0c\u7528\u5230\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u65f6\u5019\uff0c\u5e38\u5e38\u4f1a\u770b\u5230\u8fd9\u6837\u7684\u540d\u5b57\uff1a</p> <pre><code>arm-xscale-linux-gnueabi-gcc\n\narm-liunx-gnu-gcc\n</code></pre> <p>\u7b49\u7b49</p> <p>\u5176\u4e2d\uff0c\u5bf9\u5e94\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u524d\u7f00\u4e3a\uff1a</p> <pre><code>arm-xscale-linux-gnueabi-\n\narm-liunx-gnu-\n</code></pre> <p>\u800c\u5173\u4e8e\u8fd9\u4e9b\u540d\u5b57\uff0c\u6211\u4e4b\u524d\u4e5f\u662f\u6ca1\u6ce8\u610f\u5176\u5177\u4f53\u542b\u4e49\uff0c\u6216\u8005\u8bf4\u5bf9\u4e8e\u5176\u542b\u4e49\u4e5f\u662f\u5f88\u6a21\u7cca\u7684\u611f\u89c9\uff0c\u4e0d\u662f\u5f88\u6e05\u695a\u8fd9\u4e9b\u540d\u5b57\u662f\u4ece\u4f55\u800c\u6765\u7684\u3002</p> <p>\u540e\u6765\uff0c\u7ecf\u8fc7\u6298\u817e\u4e86crosstool-ng\u540e\uff0c\u57fa\u672c\u4e0a\u660e\u767d\u4e86\u8fd9\u4e9b\u540d\u5b57\uff0c\u662f\u5982\u4f55\u751f\u6210\u7684\u3002</p> <p>\u5176\u4e2d\uff0c\u8c8c\u4f3c\u6b64\u4ea4\u53c9\u7f16\u8bd1\u5668\u547d\u540d\u7684\u89c4\u5219\uff0c\u5e94\u8be5\u662f\u901a\u7528\u7684\uff0c\u81f3\u5c11\u8bb0\u5f97\u662fBuildroot\u4e2d\uff0c\u597d\u50cf\u4e5f\u662f\u8fd9\u6837\u547d\u540d\u7684\u3002</p> <p>\u4e0b\u9762\uff0c\u5c31\u4ee5crosstool-ng\u4e3a\u4f8b\uff0c\u53c2\u8003\u6211\u4e4b\u524d\u6298\u817ecrosstool-ng\u671f\u95f4\uff1a</p> <p>[\u6574\u7406] crosstool\u4e2d\u5982\u4f55\u8bbe\u7f6exscale\u7684Tuple\u2019s vendor string(CT_TARGET_VENDOR)</p> <p>\u6240\u4e86\u89e3\u5230\u7684\u5185\u5bb9\uff0c\u6765\u89e3\u91ca\u89e3\u91ca\uff0c\u8fd9\u4e9b\u540d\u5b57\u7684\u542b\u4e49\u3002</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#311","title":"3.1.1    \u4ea4\u53c9\u7f16\u8bd1\u5668\u540d\u5b57\u4e3e\u4f8b","text":"<p>\u6b64\u5904\uff0c\u4ee5\u7f16\u8bd1crosstool-ng\u4e2d\uff1a</p> <p>[\u8bb0\u5f55] \u91cd\u8bd5\u4f7f\u7528\u6700\u65b0\u7248\u672c1.18.0\u7684crosstool-ng\u53bb\u914d\u7f6e\u548c\u7f16\u8bd1xscale\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668</p> <p>\u901a\u8fc7ct-ng list-samples\u4e2d\u5f97\u5230\u7684\u8f93\u51fa\u4e3a\u4f8b\uff0c</p> <p>\u5f53\u505a\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u540d\u5b57\u7684\u4f8b\u5b50\uff0c\u4f9b\u53c2\u8003\uff1a</p> <pre><code>CLi@PC-CLI-1 ~/develop/crosstool-ng/crosstool-ng-1.18.0_build\n$ ct-ng list-samples\nStatus  Sample name\n[G.X]   alphaev56-unknown-linux-gnu\n[G.X]   alphaev67-unknown-linux-gnu\n[G.X]   arm-bare_newlib_cortex_m3_nommu-eabi\n[G.X]   arm-cortex_a15-linux-gnueabi\n[G..]   arm-cortex_a8-linux-gnueabi\n[G..]   arm-davinci-linux-gnueabi\n[G..]   armeb-unknown-eabi\n[G.X]   armeb-unknown-linux-gnueabi\n[G.X]   armeb-unknown-linux-uclibcgnueabi\n[G..]   arm-unknown-eabi\n[G..]   arm-unknown-linux-gnueabi\n[G.X]   arm-unknown-linux-uclibcgnueabi\n[G.X]   armv6-rpi-linux-gnueabi\n[G.X]   avr32-unknown-none\n[G..]   bfin-unknown-linux-uclibc\n[G..]   i586-geode-linux-uclibc\n[G.X]   i586-mingw32msvc,i686-none-linux-gnu\n[G.X]   i686-nptl-linux-gnu\n[G.X]   i686-unknown-mingw32\n[G.X]   m68k-unknown-elf\n[G.X]   m68k-unknown-uclinux-uclibc\n[G.X]   mips64el-n32-linux-uclibc\n[G.X]   mips64el-n64-linux-uclibc\n[G.X]   mips-ar2315-linux-gnu\n[G..]   mipsel-sde-elf\n[G..]   mipsel-unknown-linux-gnu\n[G.X]   mips-malta-linux-gnu\n[G..]   mips-unknown-elf\n[G.X]   mips-unknown-linux-uclibc\n[G..]   powerpc-405-linux-gnu\n[G.X]   powerpc64-unknown-linux-gnu\n[G..]   powerpc-860-linux-gnu\n[G.X]   powerpc-e300c3-linux-gnu\n[G.X]   powerpc-e500v2-linux-gnuspe\n[G..]   powerpc-unknown_nofpu-linux-gnu\n[G..]   powerpc-unknown-linux-gnu\n[G..]   powerpc-unknown-linux-uclibc\n[G.X]   s390-ibm-linux-gnu\n[G.X]   s390x-ibm-linux-gnu\n[G..]   sh4-unknown-linux-gnu\n[G..]   x86_64-unknown-linux-gnu\n[G..]   x86_64-unknown-linux-uclibc\n[G.X]   x86_64-unknown-mingw32\nL (Local)       : sample was found in current directory\nG (Global)      : sample was installed with crosstool-NG\nX (EXPERIMENTAL): sample may use EXPERIMENTAL features\nB (BROKEN)      : sample is currently broken\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#312-crosstool-ng","title":"3.1.2. crosstool-ng\u4e2d\u4ea4\u53c9\u7f16\u8bd1\u524d\u7f00\u7684\u547d\u540d\u89c4\u5219","text":"<p><code>crosstool-ng</code>\u4e2d\uff0c\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684(\u524d\u7f00)\u7684\u540d\u5b57\u7684\u547d\u540d\u89c4\u5219\u662f :</p> <p>arch-vendor-kernel-system</p> <p>\u5bf9\u5e94\u5206\u522b\u662f :</p> <p>arch [-vendor] [-os] [-(gnu)eabi]</p> \u89c4\u5219 \u63cf\u8ff0 arch \u4f53\u7cfb\u67b6\u6784, \u5982ARM, MIPS vendor \u5de5\u5177\u94fe\u63d0\u4f9b\u5546 os \u76ee\u6807\u64cd\u4f5c\u7cfb\u7edf eabi \u5d4c\u5165\u5f0f\u5e94\u7528\u4e8c\u8fdb\u5236\u63a5\u53e3(Embedded Application Binary Interface) <p>\u6839\u636e\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u7684\u652f\u6301\u4e0e\u5426, ARM GCC\u53ef\u5206\u4e3a\u652f\u6301\u548c\u4e0d\u652f\u6301\u64cd\u4f5c\u7cfb\u7edf, \u5982</p> <ul> <li>arm-none-eabi : \u8fd9\u4e2a\u662f\u6ca1\u6709\u64cd\u4f5c\u7cfb\u7edf\u7684, \u81ea\u7136\u4e0d\u53ef\u80fd\u652f\u6301\u90a3\u4e9b\u8ddf\u64cd\u4f5c\u7cfb\u7edf\u5173\u7cfb\u5bc6\u5207\u7684\u51fd\u6570, \u6bd4\u5982fork(2). \u4ed6\u4f7f\u7528\u7684\u662fnewlib\u8fd9\u4e2a\u4e13\u7528\u4e8e\u5d4c\u5165\u5f0f\u7cfb\u7edf\u7684C\u5e93</li> </ul> <ul> <li>arm-none-linux-eabi\uff1a\u7528\u4e8eLinux\u7684, \u4f7f\u7528Glibc</li> </ul> <p>\u5b9e\u4f8b</p> <ol> <li> <p>arm-none-eabi-gcc (ARM architecture, no vendor, not target an operating system, complies with the ARM EABI) \u7528\u4e8e\u7f16\u8bd1 ARM \u67b6\u6784\u7684\u88f8\u673a\u7cfb\u7edf(\u5305\u62ec ARM Linux \u7684 boot\u3001kernel, \u4e0d\u9002\u7528\u7f16\u8bd1 Linux \u5e94\u7528 Application), \u4e00\u822c\u9002\u5408 ARM7\u3001Cortex-M \u548c Cortex-R \u5185\u6838\u7684\u82af\u7247\u4f7f\u7528, \u6240\u4ee5\u4e0d\u652f\u6301\u90a3\u4e9b\u8ddf\u64cd\u4f5c\u7cfb\u7edf\u5173\u7cfb\u5bc6\u5207\u7684\u51fd\u6570, \u6bd4\u5982 <code>fork(2)</code>, \u4ed6\u4f7f\u7528\u7684\u662f <code>newlib</code> \u8fd9\u4e2a\u4e13\u7528\u4e8e\u5d4c\u5165\u5f0f\u7cfb\u7edf\u7684C\u5e93.</p> </li> <li> <p>arm-none-linux-gnueabi-gcc (ARM architecture, no vendor, creates binaries that run on the Linux operating system, and uses the GNU EABI) \u4e3b\u8981\u7528\u4e8e\u57fa\u4e8e <code>ARM</code> \u67b6\u6784\u7684 <code>Linux</code> \u7cfb\u7edf, \u53ef\u7528\u4e8e\u7f16\u8bd1 <code>ARM</code> \u67b6\u6784\u7684 <code>u-boot</code>\u3001<code>Linux</code>\u5185\u6838\u3001<code>linux</code>\u5e94\u7528\u7b49. <code>arm-none-linux-gnueabi</code>\u57fa\u4e8eGCC, \u4f7f\u7528<code>Glibc</code>\u5e93, \u7ecf\u8fc7 <code>Codesourcery</code> \u516c\u53f8\u4f18\u5316\u8fc7\u63a8\u51fa\u7684\u7f16\u8bd1\u5668. <code>arm-none-linux-gnueabi-xxx</code> \u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u7684\u6d6e\u70b9\u8fd0\u7b97\u975e\u5e38\u4f18\u79c0. \u4e00\u822cARM9\u3001ARM11\u3001Cortex-A \u5185\u6838, \u5e26\u6709 <code>Linux</code> \u64cd\u4f5c\u7cfb\u7edf\u7684\u4f1a\u7528\u5230.</p> </li> <li> <p>arm-eabi-gcc Android ARM \u7f16\u8bd1\u5668.</p> </li> <li> <p>armcc <code>ARM</code> \u516c\u53f8\u63a8\u51fa\u7684\u7f16\u8bd1\u5de5\u5177, \u529f\u80fd\u548c <code>arm-none-eabi</code> \u7c7b\u4f3c, \u53ef\u4ee5\u7f16\u8bd1\u88f8\u673a\u7a0b\u5e8f(u-boot\u3001kernel), \u4f46\u662f\u4e0d\u80fd\u7f16\u8bd1 Linux \u5e94\u7528\u7a0b\u5e8f. armcc\u4e00\u822c\u548cARM\u5f00\u53d1\u5de5\u5177\u4e00\u8d77, Keil MDK\u3001ADS\u3001RVDS\u548cDS-5\u4e2d\u7684\u7f16\u8bd1\u5668\u90fd\u662farmcc, \u6240\u4ee5 armcc \u7f16\u8bd1\u5668\u90fd\u662f\u6536\u8d39\u7684(\u7231\u56fd\u7248\u9664\u5916, \u5475\u5475~~).</p> </li> <li> <p>arm-none-uclinuxeabi-gcc \u548c arm-none-symbianelf-gcc arm-none-uclinuxeabi \u7528\u4e8euCLinux, \u4f7f\u7528Glibc. arm-none-symbianelf \u7528\u4e8esymbian, \u6ca1\u7528\u8fc7, \u4e0d\u77e5\u9053C\u5e93\u662f\u4ec0\u4e48.</p> </li> </ol>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#313-arch","title":"3.1.3    \u4ea4\u53c9\u7f16\u8bd1\u5668\u540d\u5b57\u4e2d\u7684arch\u90e8\u5206","text":"<p>arch\uff0c\u5373\u7cfb\u7edf\u67b6\u6784, \u8868\u793a\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u662f\u7528\u4e8e\u54ea\u4e2a\u76ee\u6807\u7cfb\u7edf\u67b6\u6784\u4e2d\uff0c\u7528\u4e8e\u90a3\u4e2a\u5e73\u53f0\u4e2d\u7684</p> <p>\u5373\uff0c\u7528\u6b64\u4ea4\u53c9\u7f16\u8bd1\u5668\u7f16\u8bd1\u51fa\u6765\u7684\u7a0b\u5e8f\uff0c\u662f\u8fd0\u884c\u5728\u54ea\u79cdCPU\u4e0a\u9762\u7684</p> <p>arch\u7684\u503c\uff0c\u5e38\u89c1\u7684\u6709\u5f88\u591a\u79cd\uff0c\u6bd4\u5982arm\uff0cx86\uff0cmips\u7b49\u7b49\u3002</p> <p>\u4f8b 3.1. \u4e3e\u4f8b\uff1a\u4ea4\u53c9\u7f16\u8bd1\u5668\u4e2d\u7684arch\u7684\u503c</p> <pre><code>arm-cortex_a8-linux-gnueabi\u4e2d\u7684arm\n\nmips-ar2315-linux-gnu\u4e2d\u7684mips\n\npowerpc-e500v2-linux-gnuspe\u4e2d\u7684powerpc\n\nx86_64-unknown-mingw32\u4e2d\u7684x86_64\n</code></pre> <p>crosstool-ng\u4e2darch\u7684\u503c</p> <p>crosstool-ng\u4e2d\uff0c\u548carch\u5bf9\u5e94\u7684\u503c\uff0c\u5e94\u8be5\u5c31\u662f\"Target options\"\u4e2d\u7684\"Target Architecture\"\u7684\u503c\u4e86.</p> <p>\u6bd4\u5982\u5e38\u89c1\u7684\uff0c\u914d\u7f6e\u4e3aarm\u7684\u8bdd\uff0c\u5c31\u662f\uff1a</p> <pre><code>Target options\nTarget Architecture (arm)  ---&gt;\n</code></pre> <p>\u5bf9\u5e94\u7684\u914d\u7f6e\u53c2\u6570\u662f\uff1aARCH_arm</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#314-vendor","title":"3.1.4    \u4ea4\u53c9\u7f16\u8bd1\u5668\u540d\u5b57\u4e2d\u7684vendor\u90e8\u5206","text":"<p>vendor\uff0c\u5373\u751f\u6210\u5382\u5bb6\uff0c\u63d0\u4f9b\u5546, \u8868\u793a\u8c01\u63d0\u4f9b\u7684\uff0c\u5373\u8c01\u5236\u4f5c\u51fa\u6765\u8fd9\u4e2a\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684.</p> <p>vendor\u7684\u503c\uff0c\u8c8c\u4f3c\u662f\u53ef\u4ee5\u81ea\u5df1\u968f\u4fbf\u586b\u5199\u7684</p> <p>\u5176\u4ed6\u5e38\u89c1\u5199\u6cd5\uff0c\u8fd8\u6709\u5199\u6210\u7f16\u8bd1\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u4f5c\u8005\u7684\u81ea\u5df1\u7684\u540d\u5b57\u7684</p> <p>\u6bd4\u5982\uff0c\u6211\u53ebcrifan\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u5199\u6210crifan\uff0c\u7136\u540e\u751f\u6210\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u5c31\u662fxxx-crifan-xxx-xxx\u4e86\u3002</p> <p>\u66f4\u52a0\u901a\u7528\u7684\u505a\u6cd5\uff0c\u597d\u50cf\u662f\uff1a</p> <p>\u628avendor\u5199\u6210\uff0c\u4f53\u7cfb\u67b6\u6784\u7684\u503c\uff0c\u6bd4\u5982\u6211\u4e4b\u524d\u9488\u5bf9xscale\u7684\u53bb\u914d\u7f6ecrosstool-ng\u7684\u65f6\u5019\uff0c\u5c31\u5199\u4e86\u4e2axscale\u3002</p> <p>\u6216\u8005\u5199\u6210CPU\u7684\u5382\u5bb6\u7684\u540d\u5b57\uff0c\u6216\u8005\u662f\u5f00\u53d1\u677f\u7684\u540d\u5b57\u7b49\u7b49\u3002</p> <p>\u4e3e\u4f8b\uff1a\u4ea4\u53c9\u7f16\u8bd1\u5668\u4e2d\u7684vendor\u7684\u503c</p> <pre><code>arm-cortex_a8-linux-gnueabi\u4e2d\u7684cortex_a8\uff0c\u5c31\u5c5e\u4e8eCPU\u7684\u540d\u5b57\nmips-ar2315-linux-gnu\u4e2d\u7684ar2315\npowerpc-e500v2-linux-gnuspe\u4e2d\u7684e500v2\uff0c\u4e5f\u662fCPU\u7684\u5185\u6838\u540d\narm-buildroot-linux-uclibcgnueabi\u4e2d\u7684buildroot\uff0c\u662f\u4e4b\u524d\u6298\u817eBuildroot\u65f6\uff0c\u770b\u5230\u7684\uff0c\u5373Buildroot\u628a\u81ea\u5df1\u89c6\u4e3a\u5f53\u524d\u81ea\u5df1\u5236\u4f5c\u51fa\u6765\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684vendor\n</code></pre> <p>crosstool-ng\u4e2dvendor\u7684\u503c</p> <p>crosstool-ng\u4e2d\uff0c\u548cvendor\u5bf9\u5e94\u7684\u503c\uff0c\u5e94\u8be5\u5c31\u662f\"Toolchain options\"\u4e2d\u7684\"Tuple's vendor string\"\u7684\u503c\u4e86\u3002</p> <p>\u6bd4\u5982\u6211\u4e4b\u524d\u914d\u7f6e\u4e3axscale\u7684\u8bdd\uff0c\u5c31\u662f\uff1a</p> <pre><code>Toolchain options\n(xscale) Tuple's vendor string\n</code></pre> <p>\u5bf9\u5e94\u7684\u914d\u7f6e\u53c2\u6570\u662f\uff1aCT_TARGET_VENDOR</p> <p>\u5bf9\u5e94\u7684help\u7684\u89e3\u91ca\u662f\uff1a</p> <pre><code>  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Tuple's vendor string \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 CT_TARGET_VENDOR:                                                                         \u2502\n\u2502                                                                                           \u2502\n\u2502 Vendor part of the target tuple.                                                          \u2502\n\u2502                                                                                           \u2502\n\u2502 A tuple is of the form arch-vendor-kernel-system.                                         \u2502\n\u2502 You can set the second part, vendor, to whatever you see fit.                             \u2502\n\u2502 Use a single word, or use underscores \"_\" to separate words.                              \u2502\n\u2502 Use neither dash nor space, as it breaks things.                                          \u2502\n\u2502                                                                                           \u2502\n\u2502 Keep the default (unknown) if you don't know better.                                      \u2502\n\u2502                                                                                           \u2502\n\u2502 Symbol: TARGET_VENDOR [=xscale]                                                           \u2502\n\u2502 Type  : string                                                                            \u2502\n\u2502 Prompt: Tuple's vendor string                                                             \u2502\n\u2502   Defined at config/toolchain.in:99                                                       \u2502\n\u2502   Location:                                                                               \u2502\n\u2502     -&gt; Toolchain options                                                                  \u2502\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#315-kernel","title":"3.1.5    \u4ea4\u53c9\u7f16\u8bd1\u5668\u540d\u5b57\u4e2d\u7684kernel\u90e8\u5206","text":"<p>kernel\uff0c\u76f4\u8bd1\u4e3a\uff0c\u5185\u6838</p> <p>\u5176\u5b9e\u6307\u7684\u662f\uff0c\u4f60\u7528\u6b64\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u7f16\u8bd1\u51fa\u6765\u7684\u7a0b\u5e8f\uff0c\u6240\u8fd0\u884c\u7684\u76ee\u6807\u7cfb\u7edf</p> <p>\u5373\uff0c\u6b64\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u7f16\u8bd1\u51fa\u6765\u7684\u7a0b\u5e8f\uff0c\u5728\u4ec0\u4e48\u7cfb\u7edf\u4e2d\uff0c\u4ec0\u4e48\u73af\u5883\u4e2d\uff0c\u8fd0\u884c\u3002</p> <p>\u800c\u5bf9\u5e94\u7684\u73af\u5883\u6216\u7cfb\u7edf\uff0c\u4e3b\u8981\u6709\u4e24\u79cd\uff1a</p> <ul> <li>Linux<p>\u8868\u793a\uff1a\u6709OS\uff08\u6b64\u5904\u4e3b\u8981\u6307\u7684\u662fLinux\uff09\u64cd\u4f5c\u7cfb\u7edf\u7684\u73af\u5883</p> <p>\u6bd4\u5982\uff0c\u6211\u7528\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u7f16\u8bd1\u4e00\u4e2ahelloworld\u7a0b\u5e8f\uff0c\u7136\u540e\u4e0b\u8f7d\u5230\u5d4c\u5165\u5f0f\u5f00\u53d1\u4e2d\u7684\u5d4c\u5165\u5f0fLinux\u4e2d\u8fd0\u884c\uff0c</p> <p>\u5c31\u5c5e\u4e8e\uff0c\u7528\u6b64\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u7f16\u8bd1\u51fa\u6765\u7684\u7a0b\u5e8f\uff0c\u662f\u8981\u8fd0\u884c\u4e8e\uff0c\u5e26OS\uff0c\u5373\u5d4c\u5165\u5f0fLinux\u7cfb\u7edf\uff0c\u73af\u5883\u4e2d\u7684</p> <p>\u6b64\u5904\uff0c\u7b80\u79f0\u4e3a\uff0c\u6709OS\u7684\u76ee\u6807\u7cfb\u7edf\uff1aLinux</p> </li> </ul> <ul> <li>bare-metal<p>bare-metal\uff0c\u76f4\u8bd1\u4e3a\uff1a\u88f8\u91d1\u5c5e</p> <p>\u8868\u793a\uff1a\u65e0\uff08\u6b64\u5904\u4e3b\u8981\u6307\u7684\u662fLinux\uff09\u64cd\u4f5c\u7cfb\u7edf\u7684\u73af\u5883\uff0c</p> <p>\u6bd4\u5982\uff0c\u7528\u6b64\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u53bb\u7f16\u8bd1\u4e00\u4e2aUboot\uff0c\u6216\u8005\u662f\u5176\u4ed6\u4e00\u4e2a\u5c0f\u7a0b\u5e8f\uff0c\u662f\u8fd0\u884c\u5728\uff0c\u65e0\u5d4c\u5165\u5f0fLinux\u7684\u65f6\u5019\uff0c\u5355\u72ec\u8fd0\u884c\u7684\u4e00\u4e2a\u7a0b\u5e8f\u3002</p> <p>\u6bd4\u5982\uff0c\u4f60\u8d2d\u4e70\u7684\u5d4c\u5165\u5f0f\u7cfb\u7edf\u5f00\u53d1\u7248\uff0c\u5e38\u5e38\u9644\u5e26\u4e00\u4e9b\u5c0f\u7a0b\u5e8f\uff0c\u6bd4\u5982\u70b9\u4eaeLED\uff0c\u8dd1\u9a6c\u706f\u7b49\u7a0b\u5e8f\uff0c\u5c31\u662f\u8fd9\u79cd\uff0c\u8fd0\u884c\u5728\u65e0OS\u7684\u73af\u5883\u7684</p> <p>\u6b64\u5904\uff0c\u7b80\u79f0\u4e3a\uff1a\u65e0OS\u7cfb\u7edf\u7684\uff1abare-metal</p> </li> </ul> <p>\u5173\u4e8e\uff0c\u8fd0\u884c\u5728\u6709OS\u7684Linux\u4e0b\uff0c\u548c\uff0c\u65e0OS\u7684bare-metal\uff0c\u5230\u5e95\u6709\u4f55\u533a\u522b</p> <p>\u76ee\u524d\uff0c\u8fd8\u6ca1\u6709\u5b8c\u5168\u641e\u61c2\u3002</p> <p>\u4f46\u662f\uff0c\u4e4b\u524d\u9047\u5230\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\uff1a</p> <p>\u4e4b\u524d\u7528\u6bd4\u8f83\u65b0\u7684\u4e00\u4e2a\u4ea4\u53c9\u7f16\u8bd1\u5668\u53bb\u7f16\u8bd1\u6bd4\u8f83\u8001\u7684uboot\u65f6\uff0c\u4f1a\u51fa\u73b0\u4e00\u4e2a\u9519\u8bef\uff1a</p> <p>[\u5df2\u89e3\u51b3]uboot\u4ea4\u53c9\u7f16\u8bd1\u51fa\u9519\uff1agcc/config/arm/lib1funcs.asm:1266: undefined reference to `raise\u2019</p> <p>\u5176\u5c31\u662f\u548c\u8fd9\u4e2akernel\u6709\u5173\uff1a</p> <p>\u7f16\u8bd1\u7684uboot\uff0c\u76ee\u6807\u8fd0\u884c\u5e73\u53f0\uff0c\u4e0d\u662fLinux\uff0c\u800c\u662f\u88f8\u7684\u5f00\u53d1\u677f\uff0c\u5373Linux\u8fd8\u6ca1\u6709\u8fd0\u884c\u5462\uff0cUboot\u53bb\u8fd0\u884c\uff0c\u53bb\u521d\u59cb\u5316\u5f00\u53d1\u677f\u7684\u65f6\u5019</p> <p>\u8be6\u7ec6\u7684\u60c5\u51b5\uff0c\u89c1\u8be5\u8d34\u4e2d\u7684\u89e3\u91ca\u3002</p> <p>\u4e3e\u4f8b\uff1a\u4ea4\u53c9\u7f16\u8bd1\u5668\u4e2d\u7684kernel\u7684\u503c</p> <pre><code>arm-bare_newlib_cortex_m3_nommu-eabi\u4e2d\u7684&gt;bare_newlib_cortex_m3_nommu\uff0c\u6b64\u5904\u7684bare\uff0c\u5e94\u8be5\u5c31\u662f\u6307\u7684\u662fbare-metal\uff0c\u7528\u4e8e\u8fd0\u884c\u5728\u65e0OS\u7684\u73af\u5883\u4e0b\npowerpc-e300c3-linux-gnu\u4e2d\u7684linux\nm68k-unknown-uclinux-uclibc\u4e2d\u7684uclinux\uff0c\u5c31\u662f\u6307\u7684\u662f\u7f16\u8bd1\u51fa\u6765\u7684\u7a0b\u5e8f\uff0c\u662f\u8fd0\u884c\u4e8e\u6ca1\u6709MMU\u7684uclinux\u4e0b\n</code></pre> <p>crosstool-ng\u4e2dkernel\u7684\u503c</p> <p>crosstool-ng\u4e2d\uff0c\u548ckernel\u5bf9\u5e94\u7684\u503c\uff0c\u5e94\u8be5\u5c31\u662f\"Operating System\"\u4e2d\u7684\"Target OS\"\u7684\u503c\u4e86\u3002</p> <p>\u6bd4\u5982\u6211\u4e4b\u524d\u914d\u7f6e\u4e3aLinux\u7684\u8bdd\uff0c\u5c31\u662f\uff1a</p> <pre><code>Operating System\nTarget OS (linux)  ---&gt;\n</code></pre> <p>\u5bf9\u5e94\u7684\u914d\u7f6e\u53c2\u6570\u662f\uff1aGEN_CHOICE_KERNEL\u4e2d\u7684CT_KERNEL_linux</p> <p>\u5bf9\u5e94\u7684help\u7684\u89e3\u91ca\u662f\uff1a</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 linux \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 CT_KERNEL_linux:                                                                          \u2502\n\u2502                                                                                           \u2502\n\u2502 Build a toolchain targeting systems running Linux as a kernel.                            \u2502\n\u2502                                                                                           \u2502\n\u2502 Symbol: KERNEL_linux [=y]                                                                 \u2502\n\u2502 Type  : boolean                                                                           \u2502\n\u2502 Prompt: linux                                                                             \u2502\n\u2502   Defined at config.gen/kernel.in:8                                                       \u2502\n\u2502   Depends on: GEN_CHOICE_KERNEL [=y] &amp;&amp; KERNEL_linux_AVAILABLE [=y]                       \u2502\n\u2502   Location:                                                                               \u2502\n\u2502     -&gt; Operating System                                                                   \u2502\n\u2502       -&gt; Target OS (GEN_CHOICE_KERNEL [=y])                                               \u2502\n\u2502   Selects: KERNEL_SUPPORTS_SHARED_LIBS [=y]                                               \u2502\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#316-system","title":"3.1.6    \u4ea4\u53c9\u7f16\u8bd1\u5668\u540d\u5b57\u4e2d\u7684system\u90e8\u5206","text":"<p>system\uff0c\u76f4\u8bd1\u4e3a\uff0c\u7cfb\u7edf</p> <p>\u5176\u5b9e\u4e3b\u8981\u8868\u793a\u7684\uff0c\u4ea4\u53c9\u7f16\u8bd1\u5668\u6240\u9009\u62e9\u7684\u5e93\u51fd\u6570\u548c\u76ee\u6807\u7cfb\u7edf</p> <p>\u6700\u5e38\u89c1\u7684\u4e00\u4e9b\u503c\u6709\uff0cgnu\uff0cgnueabi\uff0cuclibcgnueabi\u7b49\u7b49.</p> <p>\u5176\u4e2d\uff0c\u6b64\u5904\u6709\u51e0\u65b9\u9762\u7684\u503c\uff0c\u8868\u793a\u4e86\u51e0\u65b9\u9762\u7684\u542b\u4e49\uff1a</p> <p>system\u4e2d\u7684gnu</p> <p>\u597d\u50cf\u90fd\u662fgnu</p> <p>\u4e0d\u662f\u5f88\u660e\u767d\uff0c\u8c8c\u4f3c\u662f\uff1a</p> <pre><code>gnu == gnu libc == glibc\n</code></pre> <p>\u5373\uff0cgnu\uff0c\u5c31\u662f\u8868\u793a\u7528\u7684\u662fglibc\u7684\u610f\u601d\u3002</p> <p>crosstool-ng\u4e2dsystem\u4e3agnu\u7684\u60c5\u51b5</p> <p>crosstool-ng\u4e2d\uff0c\u548csystem\u4e2dgnu\u5bf9\u5e94\u7684\u503c\uff0c\u5e94\u8be5\u5c31\u662f\"C-library\"\u4e2d\u7684\"C library\"\u7684\u503c\u8bbe\u7f6e\u4e3a\"glibc\"\u4e86\u3002</p> <pre><code>C-library\nC library (glibc)  ---&gt;\n</code></pre> <p>\u5bf9\u5e94\u7684\u914d\u7f6e\u53c2\u6570\u662f\uff1aCT_LIBC_glibc</p> <p>\u5bf9\u5e94\u7684help\u7684\u89e3\u91ca\u662f\uff1a</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 glibc \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 CT_LIBC_glibc:                                                                            \u2502\n\u2502                                                                                           \u2502\n\u2502 The de-facto standard for Linux distributions.                                            \u2502\n\u2502 Feature-rich, but large...  Most usefull for desktop-like systems.                        \u2502\n\u2502                                                                                           \u2502\n\u2502 Symbol: LIBC_glibc [=y]                                                                   \u2502\n\u2502 Type  : boolean                                                                           \u2502\n\u2502 Prompt: glibc                                                                             \u2502\n\u2502   Defined at config.gen/libc.in:53                                                        \u2502\n\u2502   Depends on: GEN_CHOICE_LIBC [=y] &amp;&amp; LIBC_glibc_AVAILABLE [=y] &amp;&amp; !WINDOWS [=n] &amp;&amp; !\\    \u2502\n\u2502 BARE_METAL [=n] &amp;&amp; ARCH_USE_MMU [=y]                                                      \u2502\n\u2502   Location:                                                                               \u2502\n\u2502     -&gt; C-library                                                                          \u2502\n\u2502       -&gt; C library (GEN_CHOICE_LIBC [=y])                                                 \u2502\n\u2502   Selects: LIBC_SUPPORT_NPTL [=y] &amp;&amp; CC_CORE_PASSES_NEEDED [=y]                           \u2502\n</code></pre> <p>system\u4e2d\u7684eabi</p> <p>\u4e0e\u6b64\u76f8\u5bf9\u5e94\u7684\uff0c\u4e4b\u524d\u65e9\u671f\u7684\u662foabi</p> <p>eabi\u548coabi\u7684\u5bf9\u6bd4\uff0c\u8be6\u89c1\uff1a</p> <p>[\u6574\u7406] EABI\u548cOABI</p> <p>crosstool-ng\u4e2dsystem\u4e3aeabi\u7684\u60c5\u51b5</p> <p>crosstool-ng\u4e2d\uff0c\u548csystem\u4e2deabi\u5bf9\u5e94\u7684\u503c\uff0c\u5e94\u8be5\u5c31\u662f\"Target options\"\u4e2d\u7684\"-*- Use EABI\"\u7684\u503c\u4e86\u3002</p> <pre><code>Target options\n-*- Use EABI\n</code></pre> <p>\u6ce8\u610f\uff1a\u6b64\u5904\u662f\u9009\u62e9\u7684ARM\uff0cEABI\u5728\u6b64\u5904\uff0c\u5df2\u7ecf\u662f\u9ed8\u8ba4\uff0c\u65e0\u6cd5\u4fee\u6539\u7684\u503c\uff0c\u53ea\u80fd\u662fEABI\u4e86\u3002</p> <p>\u597d\u50cf\u662f\u56e0\u4e3a\uff0cLinux\u5185\u6838\u7b49\u5176\u4ed6\u9009\u62e9\u5bfc\u81f4\u7684\uff0c\u6b64\u5904\u65e0\u6cd5\u66f4\u6539EABI\u3002</p> <p>\u5bf9\u5e94\u7684\u914d\u7f6e\u53c2\u6570\u662f\uff1aCT_ARCH_ARM_EABI</p> <p>\u5bf9\u5e94\u7684help\u7684\u89e3\u91ca\u662f\uff1a</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Use EABI \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 CT_ARCH_ARM_EABI:                                                                         \u2502\n\u2502                                                                                           \u2502\n\u2502 Set up the toolchain so that it generates EABI-compliant binaries.                        \u2502\n\u2502                                                                                           \u2502\n\u2502 If you say 'n' here, then the toolchain will generate OABI binaries.                      \u2502\n\u2502 OABI has long been deprecated, and is now considered legacy.                              \u2502\n\u2502                                                                                           \u2502\n\u2502 Symbol: ARCH_ARM_EABI [=y]                                                                \u2502\n\u2502 Type  : boolean                                                                           \u2502\n\u2502 Prompt: Use EABI                                                                          \u2502\n\u2502   Defined at config/arch/arm.in.2:54                                                      \u2502\n\u2502   Depends on: ARCH_arm [=y]                                                               \u2502\n\u2502   Location:                                                                               \u2502\n\u2502     -&gt; Target options                                                                     \u2502\n\u2502   Selected by: ARCH_ARM_EABI_FORCE [=y] &amp;&amp; ARCH_arm [=y]                                  \u2502\n</code></pre> <p>system\u4e2d\u7684uclibc</p> <p>uclibc\uff0c\u662fc\u5e93\u4e2d\u7684\u4e00\u79cd</p> <p>crosstool-ng\u4e2d\uff0c\u76ee\u524d\u652f\u6301\u4e09\u79cd\uff1aglibc,eglibc,uclibc</p> <p>\u5173\u4e8e\u4e09\u79cd\u7684\u5173\u7cfb\uff0c\u8be6\u89c1\uff1a</p> <p>[\u6574\u7406] uclibc,eglibc,glibc\u4e4b\u95f4\u7684\u533a\u522b\u548c\u8054\u7cfb</p> <p>crosstool-ng\u4e2dsystem\u4e3auclibc\u7684\u60c5\u51b5</p> <p>crosstool-ng\u4e2d\uff0c\u548csystem\u4e2duclibc\u5bf9\u5e94\u7684\u503c\uff0c\u5e94\u8be5\u5c31\u662f\"C-library\"\u4e2d\u7684\"C library\"\u7684\u503c\u8bbe\u7f6e\u4e3a\"uClibc\"\u4e86\u3002</p> <pre><code>C-library\nC library (uClibc)  ---&gt;\n</code></pre> <p>\u5bf9\u5e94\u7684\u914d\u7f6e\u53c2\u6570\u662f\uff1aCT_LIBC_uClibc</p> <p>\u5bf9\u5e94\u7684help\u7684\u89e3\u91ca\u662f\uff1a</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 uClibc \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 CT_LIBC_uClibc:                                                                           \u2502\n\u2502                                                                                           \u2502\n\u2502 The de-facto standard for embeded linux systems.                                          \u2502\n\u2502                                                                                           \u2502\n\u2502 Highly configurable, thus as feature-rich as you                                          \u2502\n\u2502 need, without compromising for size.                                                      \u2502\n\u2502                                                                                           \u2502\n\u2502 Symbol: LIBC_uClibc [=y]                                                                  \u2502\n\u2502 Type  : boolean                                                                           \u2502\n\u2502 Prompt: uClibc                                                                            \u2502\n\u2502   Defined at config.gen/libc.in:24                                                        \u2502\n\u2502   Depends on: GEN_CHOICE_LIBC [=y] &amp;&amp; LIBC_uClibc_AVAILABLE [=y] &amp;&amp; !WINDOWS [=n] &amp;&amp; !\\   \u2502\n\u2502 BARE_METAL [=n]                                                                           \u2502\n\u2502   Location:                                                                               \u2502\n\u2502     -&gt; C-library                                                                          \u2502\n\u2502       -&gt; C library (GEN_CHOICE_LIBC [=y])                                                 \u2502\n\u2502   Selects: LIBC_SUPPORT_LINUXTHREADS [=y] &amp;&amp; LIBC_SUPPORT_THREADS_NONE [=y] &amp;&amp; \\          \u2502\n\u2502 CC_CORE_PASSES_NEEDED [=y]                                                                \u2502\n</code></pre> <p>\u6240\u4ee5\uff0c\u9488\u5bf9\u4e0a\u8ff0\uff0cgnu\uff0ceabi\uff0cuclibc\u7b49\u51e0\u4e2a\u9009\u9879\uff0c\u5bf9\u5e94\u7684\u5e38\u89c1\u7684\u4e00\u4e9b\u7ec4\u5408\u7684\u542b\u4e49\u662f\uff1a</p> \u9009\u9879 \u63cf\u8ff0 gnu glibc+oabi gnueabi glibc+eabi uclibc uclibc+oabi <p></p> <p>\u4e3e\u4f8b\uff1a\u4ea4\u53c9\u7f16\u8bd1\u5668\u4e2d\u7684system\u7684\u503c</p> <pre><code>arm-cortex_a8-linux-gnueabi\u4e2d\u7684gnueabi\uff0c\u5373glibc+eabi\nmips-ar2315-linux-gnu\u4e2d\u7684gnu\uff0c\u5373glibc+oabi\npowerpc-e500v2-linux-gnuspe\u4e2d\u7684gnuspe\uff0c\u6ca1\u641e\u61c2\u5565\u610f\u601d\u3002\u3002\nx86_64-unknown-mingw32\u4e2d\u7684mingw32\uff0c\u7528\u7684\u662fWindows\u4e0b\u7684mingw32\u7684\u5e93\n</code></pre> <p> ABI \u548c EABI</p> \u540d\u79f0 \u63cf\u8ff0 \u8be6\u60c5 ABI \u4e8c\u8fdb\u5236\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3(Application Binary Interface (ABI) for the ARM Architecture) \u5728\u8ba1\u7b97\u673a\u4e2d, \u5e94\u7528\u4e8c\u8fdb\u5236\u63a5\u53e3\u63cf\u8ff0\u4e86\u5e94\u7528\u7a0b\u5e8f\uff08\u6216\u8005\u5176\u4ed6\u7c7b\u578b\uff09\u548c\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u95f4\u6216\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u7684\u4f4e\u7ea7\u63a5\u53e3 EABI \u5d4c\u5165\u5f0fABI \u5d4c\u5165\u5f0f\u5e94\u7528\u4e8c\u8fdb\u5236\u63a5\u53e3\u6307\u5b9a\u4e86\u6587\u4ef6\u683c\u5f0f\u3001\u6570\u636e\u7c7b\u578b\u3001\u5bc4\u5b58\u5668\u4f7f\u7528\u3001\u5806\u79ef\u7ec4\u7ec7\u4f18\u5316\u548c\u5728\u4e00\u4e2a\u5d4c\u5165\u5f0f\u8f6f\u4ef6\u4e2d\u7684\u53c2\u6570\u7684\u6807\u51c6\u7ea6\u5b9a. \u5f00\u53d1\u8005\u4f7f\u7528\u81ea\u5df1\u7684\u6c47\u7f16\u8bed\u8a00\u4e5f\u53ef\u4ee5\u4f7f\u7528 EABI \u4f5c\u4e3a\u4e0e\u517c\u5bb9\u7684\u7f16\u8bd1\u5668\u751f\u6210\u7684\u6c47\u7f16\u8bed\u8a00\u7684\u63a5\u53e3 <p> \u4e24\u8005\u4e3b\u8981\u533a\u522b\u662f, ABI\u662f\u8ba1\u7b97\u673a\u4e0a\u7684, EABI\u662f\u5d4c\u5165\u5f0f\u5e73\u53f0\u4e0a(\u5982ARM, MIPS\u7b49).</p> <p>arm-linux-gnueabi-gcc \u548c arm-linux-gnueabihf-gcc</p> <p>\u4e24\u4e2a\u4ea4\u53c9\u7f16\u8bd1\u5668\u5206\u522b\u9002\u7528\u4e8e <code>armel</code> \u548c <code>armhf</code> \u4e24\u4e2a\u4e0d\u540c\u7684\u67b6\u6784, <code>armel</code> \u548c <code>armhf</code> \u8fd9\u4e24\u79cd\u67b6\u6784\u5728\u5bf9\u5f85\u6d6e\u70b9\u8fd0\u7b97\u91c7\u53d6\u4e86\u4e0d\u540c\u7684\u7b56\u7565(\u6709 <code>fpu</code> \u7684 <code>arm</code> \u624d\u80fd\u652f\u6301\u8fd9\u4e24\u79cd\u6d6e\u70b9\u8fd0\u7b97\u7b56\u7565).</p> <p>\u5176\u5b9e\u8fd9\u4e24\u4e2a\u4ea4\u53c9\u7f16\u8bd1\u5668\u53ea\u4e0d\u8fc7\u662f <code>gcc</code> \u7684\u9009\u9879 <code>-mfloat-abi</code> \u7684\u9ed8\u8ba4\u503c\u4e0d\u540c. <code>gcc</code> \u7684\u9009\u9879 <code>-mfloat-abi</code> \u6709\u4e09\u79cd\u503c <code>soft</code>\u3001<code>softfp</code>\u3001<code>hard</code>(\u5176\u4e2d\u540e\u4e24\u8005\u90fd\u8981\u6c42 <code>arm</code> \u91cc\u6709 <code>fpu</code> \u6d6e\u70b9\u8fd0\u7b97\u5355\u5143, <code>soft</code> \u4e0e\u540e\u4e24\u8005\u662f\u517c\u5bb9\u7684, \u4f46 <code>softfp</code> \u548c <code>hard</code> \u4e24\u79cd\u6a21\u5f0f\u4e92\u4e0d\u517c\u5bb9):</p> \u6d6e\u70b9\u6570\u914d\u7f6e \u67b6\u6784 \u5bf9\u5e94\u7f16\u8bd1\u5668\u7c7b\u578b \u63cf\u8ff0 soft \u65e0 \u65e0 \u4e0d\u7528fpu\u8fdb\u884c\u6d6e\u70b9\u8ba1\u7b97, \u5373\u4f7f\u6709fpu\u6d6e\u70b9\u8fd0\u7b97\u5355\u5143\u4e5f\u4e0d\u7528, \u800c\u662f\u4f7f\u7528\u8f6f\u4ef6\u6a21\u5f0f softfp armel\u67b6\u6784 arm-linux-gnueabi-gcc \u7528fpu\u8ba1\u7b97, \u4f46\u662f\u4f20\u53c2\u6570\u7528\u666e\u901a\u5bc4\u5b58\u5668\u4f20, \u8fd9\u6837\u4e2d\u65ad\u7684\u65f6\u5019, \u53ea\u9700\u8981\u4fdd\u5b58\u666e\u901a\u5bc4\u5b58\u5668, \u4e2d\u65ad\u8d1f\u8377\u5c0f, \u4f46\u662f\u53c2\u6570\u9700\u8981\u8f6c\u6362\u6210\u6d6e\u70b9\u7684\u518d\u8ba1\u7b97 hard armhf\u67b6\u6784 arm-linux-gnueabihf-gcc \u7528fpu\u8ba1\u7b97, \u4f20\u53c2\u6570\u4e5f\u7528fpu\u4e2d\u7684\u6d6e\u70b9\u5bc4\u5b58\u5668\u4f20, \u7701\u53bb\u4e86\u8f6c\u6362, \u6027\u80fd\u6700\u597d, \u4f46\u662f\u4e2d\u65ad\u8d1f\u8377\u9ad8 \u628a\u4ee5\u4e0b\u6d4b\u8bd5\u4f7f\u7528\u7684C\u6587\u4ef6\u5185\u5bb9\u4fdd\u5b58\u6210 mfloat.c <pre><code>#include &lt;stdio.h&gt;\n\nint main(void)\n{\ndouble a,b,c;\na = 23.543;\nb = 323.234;\nc = b/a;\nprintf(\u201cthe 13/2 = %f\\n\u201d, c);\nprintf(\u201chello world !\\n\u201d);\nreturn 0;\n}\n</code></pre> <ul> <li>\u4f7f\u7528 <code>arm-linux-gnueabihf-gcc</code> \u7f16\u8bd1, \u4f7f\u7528\"-v\"\u9009\u9879\u4ee5\u83b7\u53d6\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f</li> </ul> <pre><code>arm-linux-gnueabihf-gcc -v mfloat.c\nCOLLECT_GCC_OPTIONS=\u2019-v\u2019 \u2018-march=armv7-a\u2019 \u2018-mfloat-abi=hard\u2019 \u2018-mfpu=vfpv3-d16\u2032 \u2018-mthumb\u2019\n-mfloat-abi=hard\n</code></pre> <p>\u53ef\u770b\u51fa\u4f7f\u7528hard\u786c\u4ef6\u6d6e\u70b9\u6a21\u5f0f.</p> <ul> <li>\u4f7f\u7528 <code>arm-linux-gnueabi-gcc</code> \u7f16\u8bd1</li> </ul> <p><pre><code>arm-linux-gnueabi-gcc -v mfloat.c\nCOLLECT_GCC_OPTIONS=\u2019-v\u2019 \u2018-march=armv7-a\u2019 \u2018-mfloat-abi=softfp\u2019 \u2018-mfpu=vfpv3-d16\u2032 \u2018-mthumb\u2019\n-mfloat-abi=softfp\n</code></pre> \u53ef\u770b\u51fa\u4f7f\u7528softfp\u6a21\u5f0f.</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#32","title":"3.2   \u5982\u4f55\u5f97\u5230\u4ea4\u53c9\u7f16\u8bd1\u5668","text":"<p>\u4e86\u89e3\u4e86\u4e4b\u524d\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u547d\u540d\u89c4\u5219\u540e\uff0c\u4e5f\u5c31\u660e\u767d\u4e86\u4ea4\u53c9\u7f16\u8bd1\uff0c\u9488\u5bf9\u4e0d\u540c\u67b6\u6784\uff0c\u5e73\u53f0\uff0c\u76ee\u6807\u7cfb\u7edf\u7b49\u7684\u533a\u522b\u3002</p> <p>\u800c\u5bf9\u4e8e\u5d4c\u5165\u5f0f\u5f00\u53d1\uff0c\u60f3\u8981\u83b7\u5f97\uff0c\u9488\u5bf9\u6211\u4eec\u6240\u9700\u8981\u7684\uff0c\u76ee\u6807\u7684CPU\u6240\u5408\u9002\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u5c31\u6210\u4e86\u63a5\u4e0b\u6765\uff0c\u987a\u5176\u81ea\u7136\u8981\u8003\u8651\u7684\u4e8b\u60c5\u3002</p> <p>\u60f3\u8981\u5f97\u5230\uff0c\u53ef\u7528\u7684\uff0c\u9488\u5bf9\u81ea\u5df1\u7684CPU\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u4e3b\u8981\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#321","title":"3.2.1    \u62ff\u6765\u4e3b\u4e49\uff1a\u76f4\u63a5\u53bb\u4e0b\u8f7d\u548c\u4f7f\u7528\u522b\u4eba\u5df2\u7ecf\u7f16\u8bd1\u597d\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668","text":"<p>\u96be\u5ea6\u7b49\u7ea7\uff1a1\u7ea7</p> <p>\u8fd9\u4e2a\u6ca1\u6709\u5565\u7279\u6b8a\u8981\u6c42\u89e3\u91ca\u7684\uff0c\u5c31\u662f\uff0c\u7f51\u4e0a\uff0c\u603b\u4f1a\u6709\uff0c\u514d\u8d39\u7684\uff0c\u597d\u7528\u7684\u5404\u79cd\u8d44\u6e90\u7684\u3002</p> <p>\u5176\u4e2d\u5c31\u5305\u62ec\uff0c\u522b\u4eba\uff0c\u5df2\u7ecf\u9488\u5bf9\u67d0\u4e9bCPU\uff0c\u67d0\u4e9b\u5e73\u53f0\uff0c\u7f16\u8bd1\u597d\u4e86\u4ea4\u53c9\u7f16\u8bd1\u5668\u4e86</p> <p>\u800c\u4f60\u8981\u505a\u7684\u4e8b\u60c5\u5c31\u662f\uff1a\u627e\u5230\u5408\u9002\u7684\uff0c\u5e76\u4e0b\u8f7d\u4e0b\u6765\u4f7f\u7528\u3002</p> <p>\u5173\u4e8e\u7f51\u4e0a\uff0c\u73b0\u5b58\u7684\uff0c\u53ef\u7528\u7684\uff0c\u9488\u5bf9arm\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u53ef\u4ee5\u53c2\u8003\u6211\u4e4b\u524d\u6574\u7406\u7684\u4e00\u4e9b\uff1a</p> <p>[\u6574\u7406] arm\u7684\u4ea4\u53c9\u5de5\u5177\u94fe(\u4ea4\u53c9\u7f16\u8bd1\u5668)\u4e0b\u8f7d</p> <p>[\u63d0\u793a]   \u5e38\u89c1\u7684\uff0c\u83b7\u5f97\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u65b9\u5f0f</p> <p>\u5176\u5b9e\uff0c\u76f8\u5bf9\u6bd4\u8f83\u5e38\u89c1\u7684\uff0c\u83b7\u5f97\u53ef\u7528\u7684\uff0c\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u65b9\u5f0f\u662f\uff1a</p> <p>\u5f53\u4f60\u8d2d\u4e70\u67d0\u4e00\u5bb6\u7684\uff08\u5d4c\u5165\u5f0f\uff09\u5f00\u53d1\u677f\u7684\u65f6\u5019\uff0c\u7136\u540e\u5f00\u53d1\u677f\u5382\u5bb6\uff0c\u63d0\u4f9b\u4f60\u5bf9\u5e94\u7684\u786c\u4ef6\u5f00\u53d1\u677f\u7684\u540c\u65f6\uff0c\u4e5f\u63d0\u4f9b\u5bf9\u5e94\u7684\u6574\u5957\u5f00\u53d1\u8f6f\u4ef6\u3002</p> <p>\u6b64\u5904\uff0c\u6574\u5957\u7684\u5f00\u53d1\u8f6f\u4ef6\uff0c\u5176\u4e2d\u5c31\u5305\u62ec\uff0c\u5bf9\u5e94\u7684\uff0c\u7528\u6765\u7f16\u8bd1\u5176\u5382\u5bb6\u63d0\u4f9b\u7684BSP\u7684\u8f6f\u4ef6\u6e90\u7801\u7684\uff0c\u4ea4\u53c9\u7f16\u8bd1\u5668\u3002</p> <p>\u5373\uff1a\u4e00\u822c\u6765\u8bf4\uff0c\u4f60\u4e70\u4e86\u67d0\u5bb6\u7684\u67d0\u6b3e\u7684\u5d4c\u5165\u5f0f\u5f00\u53d1\u677f\u7684\u65f6\u5019\uff0c\u5c31\u9001\u4e86\u5bf9\u5e94\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668</p> <p>\u4f8b  \u8d2d\u4e70\u4e86TQ2440\u7684\u5f00\u53d1\u677f\uff0c\u5c31\u9001\u4e86\u5bf9\u5e94\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668</p> <p>\u62ff\u6211\u4e4b\u524d\uff0c\u8d2d\u4e70\u7684TQ2440\u7684\u5f00\u53d1\u677f\u4e3a\u4f8b</p> <p>\u4e70\u4e86TQ2440\u7684\u5f00\u53d1\u677f\u7684\u65f6\u5019\uff0c\u5c31\u9001\u4e86\u5bf9\u5e94\u7684\u5149\u76d8\u4e86\u3002</p> <p>\u5149\u76d8\u91cc\u9762\uff0c\u5c31\u5305\u542b\u4e86\u5bf9\u5e94\u7684\u5404\u79cd\u5f00\u53d1\u8d44\u6599\u548c\u4ea4\u53c9\u7f16\u8bd1\u5668</p> <p>\u5176\u5b9e\uff0c\u5bf9\u4e8e\u4ea4\u53c9\u7f16\u8bd1\u5668\u672c\u8eab\uff0cTQ2440\u7684\u5382\u5bb6\uff0c\u53eb\u505a\u5929\u5d4c\u516c\u53f8\uff0c\u5176\u672c\u8eab\u6709\u81ea\u5df1\u7684\u8bba\u575b\uff0c\u8bba\u575b\u91cc\u9762\uff0c\u4e5f\u53ef\u4ee5\u514d\u8d39\u4e0b\u8f7d\u5230\u5bf9\u5e94\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684</p> <p>[\u5149\u76d8\u4e0b\u8f7d] 2010\u5e746\u6708 \u6700\u65b0TQ2440\u5149\u76d8\u4e0b\u8f7d (Linux\u5185\u6838\uff0cWinCE\u7684eboot\uff0cuboot\u5747\u6709\u66f4\u65b0)</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#322","title":"3.2.2    \u81ea\u5df1\u52a8\u624b\uff0c\u4e30\u8863\u8db3\u98df\uff1a\u81ea\u5df1\u53bb\u7f16\u8bd1\u51fa\u6765\u4e00\u5957\u81ea\u5df1\u60f3\u8981\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668","text":"<p>\u5982\u679c\u7f51\u4e0a\u6ca1\u6709\u5408\u9002\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u4f60\u624b\u52a8\u53bb\u5236\u4f5c\u4e86\u3002</p> <p>\u81ea\u5df1\u624b\u52a8\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u53c8\u5206\u4e24\u79cd\uff1a</p> <ul> <li>\u767d\u624b\u8d77\u5bb6\u4ece\u5934\u5f00\u59cb\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668</li> </ul> <p>\u96be\u5ea6\u7b49\u7ea7\uff1a10\u7ea7</p> <p>\u6b64\u6cd5\uff0c\u76ee\u524d\u6211\u4e5f\u8fd8\u6ca1\u6298\u817e\u8fc7</p> <p>\u53ea\u662f\u77e5\u9053\uff0c\u96be\u5ea6\uff0c\u76f8\u5bf9\u662f\u6700\u5927\u7684</p> <p>\u7b49\u62bd\u7a7a\u6298\u817e\u4e86\u4e4b\u540e\uff0c\u518d\u603b\u7ed3\u51fa\u6765\u3002</p> <ul> <li>\u501f\u52a9\u522b\u4eba\u7684\u5de5\u5177\u53bb\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668</li> </ul> <p>\u96be\u5ea6\u7b49\u7ea7\uff1a6\u7ea7</p> <p>\u76f8\u5173\u65e7\u5e16\uff1a[\u6574\u7406] \u4ea4\u53c9\u7f16\u8bd1\u548c\u73b0\u5b58\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177</p> <p>\u5bf9\u4e8e\uff0c\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668\u8fd9\u6837\u7684\u4e8b\u60c5\uff0c\u672c\u8eab\u662f\u5f88\u9700\u8981\u6280\u672f\u542b\u91cf\uff0c\u548c\u5f88\u8017\u65f6\u7684\u4e8b\u60c5</p> <p>\u6240\u4ee5\uff0c\u5bf9\u6b64\uff0c\u73b0\u5728\u73b0\u5b58\u5f88\u591a\u76f8\u5173\u7684\u5de5\u5177\uff0c\u4ee5\u7b80\u5316\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668\u8fd9\u4e2a\u4e8b\u60c5\u7684\u590d\u6742\u5ea6\uff0c\u5e2e\u4f60\u8282\u7701\u5f88\u591a\u7cbe\u529b\u548c\u65f6\u95f4</p> <p>\u800c\u4f60\u6240\u8981\u505a\u7684\u4e8b\u60c5\u5c31\u53ea\u662f\uff1a</p> <p>\u4e86\u89e3\u6709\u54ea\u4e9b\u5de5\u5177\uff0c\u9009\u4e2a\u5408\u9002\u7684\u5de5\u5177\uff0c\u641e\u61c2\u5982\u4f55\u4f7f\u7528\uff0c\u7528\u5176\u5236\u4f5c\u51fa\u4f60\u6240\u9700\u8981\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u5373\u53ef\u3002</p> <p>\u5173\u4e8e\u73b0\u5728\u6709\u54ea\u4e9b\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u5236\u4f5c\u5de5\u5177\uff0c\u6b63\u662f\u4e0b\u6587\u6b63\u8981\u8be6\u7ec6\u89e3\u91ca\u7684\uff1a</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#33","title":"3.3   \u5404\u79cd\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u5de5\u5177","text":"<p>\u4e0b\u9762\uff0c\u5c31\u9488\u5bf9\uff0c\u73b0\u5b58\u5df2\u77e5\u7684\uff0c\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u7684\u5236\u4f5c\u5de5\u5177\uff0c\u8fdb\u884c\u7b80\u5355\u7684\u603b\u7ed3\u548c\u4ecb\u7ecd\uff1a</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#331-crosstool-ng","title":"3.3.1    crosstool-NG","text":"<p>crosstool-ng\u7684\u4e3b\u9875\uff1ahttp://crosstool-ng.org/</p> <p>\u5173\u4e8ecrosstool-ng\u7684\u66f4\u591a\u4ecb\u7ecd\u548c\u4f7f\u7528\uff0c\u53ef\u4ee5\u53c2\u8003\u6211\u7684\u53e6\u5916\u4e00\u4e2a\u6559\u7a0b\uff1a</p> <p>crosstool-ng\u8be6\u89e3</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#332-buildroot","title":"3.3.2    Buildroot","text":"<p>Buildroot\u4e3b\u9875\uff1ahttp://www.buildroot.net/</p> <p>\u7279\u70b9\uff1a\u4e0d\u4ec5\u80fd\u5236\u4f5c\u4ea4\u53c9\u5de5\u5177\u94fe\uff0c\u800c\u4e14\u8fd8\u53ef\u4ee5\u5236\u4f5c\u6839\u6587\u4ef6\u7cfb\u7edfrootfs\u3002\u800c\u4e14\u8fd8\u652f\u6301\u540c\u65f6\u7f16\u8bd1\u5bf9\u5e94\u7684Linux\u5185\u6838\u548cUboot\u3002</p> <p>\u5173\u4e8eBuildroot\u7684\u66f4\u591a\u4ecb\u7ecd\u548c\u4f7f\u7528\uff0c\u53ef\u4ee5\u53c2\u8003\u6211\u7684\u53e6\u5916\u4e00\u4e2a\u6559\u7a0b\uff1a</p> <p>Buildroot\u8be6\u89e3</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#333-crosstool","title":"3.3.3    crosstool","text":"<p>http://kegel.com/crosstool/</p> <p>\u73b0\u5728\u7528\u7684\u6700\u591a\u7684\u662f\u90a3\u4e2a0.43\u7684\u7248\u672c\uff1a</p> <p>crosstool-0.43.tar.gz</p> <p>\u4e5f\u53ef\u4ee5\u53bb\u5728\u7ebf\u6d4f\u89c8\u5bf9\u5e94\u7684\u6e90\u7801\uff1a\u5728\u7ebf\u6d4f\u89c8crosstool-0.43\u6e90\u7801</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#334-embedded-linux-development-kit-eldk","title":"3.3.4    Embedded Linux Development Kit (ELDK)","text":"<p>http://www.denx.de/wiki/DULG/ELDK</p> <p>\u4e5f\u662f\u548c\u4ea4\u53c9\u7f16\u8bd1\u76f8\u5173\u7684\u3002</p> <p>\u63d0\u4f9b\u7f16\u8bd1\u597d\u7684\u4e1c\u897f\u4f9b\u4f7f\u7528\u3002</p> <p>\u53ef\u4ee5\u53bb\u8fd9\u91cc\uff1a</p> <p>http://www.denx.de/wiki/view/DULG/ELDKAvailability</p> <p>\u53bb\u4e0b\u8f7d</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#335-openembeddedbitbake","title":"3.3.5    OpenEmbedded\u7684BitBake","text":"<p>OpenEmbedded\u662f\u4e00\u4e2a\u521b\u5efa\u5d4c\u5165\u5f0fLinux\u7684\u6574\u5957\u6846\u67b6\uff0c\u5176\u4e2d\u5305\u62ec\u4e86\u5236\u4f5c\u5bf9\u5e94\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u5de5\u5177\uff0c\u53eb\u505aBitBake</p> <p>OpenEmbedded\u7b80\u79f0OE\u3002</p> <p>OpenEmbedded\u4e3b\u9875\uff1ahttp://www.openembedded.org/wiki/Main_Page</p> <p>OpenEmbedded\u7684\u5728\u7ebf\u6587\u6863\uff1aOpenEmbedded User Manual</p> <p>\u5173\u4e8eBitBake\u53ef\u53bb\u53c2\u8003\uff1a</p> <p>http://en.wikipedia.org/wiki/BitBake</p> <p>\u4e2d\u7684\uff1a</p> <p>http://developer.berlios.de/projects/bitbake</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#336-crossdev","title":"3.3.6    Crossdev","text":"<p>http://www.gentoo.org/proj/en/base/embedded/handbook/</p> <p>\u4e2d\u7684\uff1a</p> <p>http://www.gentoo.org/proj/en/base/embedded/handbook/?part=1&amp;chap=1</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#337-oselastoolchain","title":"3.3.7    OSELAS.Toolchain()","text":"<p>http://www.pengutronix.de/oselas/toolchain/index_en.html</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#34","title":"3.4   \u4f7f\u7528\u5df2\u6709\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\u548c\u81ea\u5df1\u624b\u52a8\u7f16\u8bd1\u4ea4\u53c9\u7f16\u8bd1\u5668\u4e4b\u95f4\u7684\u5bf9\u6bd4","text":"<p>\u540e\u6765\u5728\uff1a</p> <p>http://ymorin.is-a-geek.org/projects/crosstool</p> <p>\u4e2d\u53d1\u73b0\u4f5c\u8005ymorin\u4e4b\u524d\u7684\u4e00\u4e9b\u4f1a\u8bae\u6f14\u8bb2\uff1a</p> <p>http://crosstool-ng.org/publis/</p> <p>\u7b49\u5185\u5bb9\uff0c\u6bd4\u5982\uff1a</p> <p>200910-ELCE-Morin-Building_our_own_toolchains.pdf</p> <p>\u5176\u4e2d\uff0c\u5bf9\u4e8e\u4e0b\u8f7d\u522b\u4eba\u5df2\u6709\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\u548c\u81ea\u5df1\u624b\u52a8\u7f16\u8bd1\u4e00\u4e2a\u4ea4\u53c9\u7f16\u8bd1\u5668\u4e4b\u95f4\uff0c\u505a\u4e86\u4e9b\u5bf9\u6bd4\uff0c\u5206\u6790\u4e86\u5404\u81ea\u7684\u4f18\u7f3a\u70b9\u3002</p> <p>\u4e2a\u4eba\u89c9\u5f97\u5176\u8bf4\u7684\u6bd4\u8f83\u5168\u9762\uff0c\u7279\u6b64\u6574\u7406\u5982\u4e0b\uff1a</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#341","title":"3.4.1    \u4f7f\u7528\u5df2\u6709\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u4f18\u70b9","text":"<p>\u5b89\u88c5\u548c\u4f7f\u7528\u90fd\u5f88\u65b9\u4fbf \u522b\u4eba\u53d1\u5e03\u7684\uff0c\u5df2\u7ecf\u7f16\u8bd1\u597d\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u57fa\u672c\u90fd\u662f\u538b\u7f29\u5305</p> <p>\u7136\u540e\u4f60\u89e3\u538b\u540e\uff0c\u5373\u53ef\u5f97\u5230\u5bf9\u5e94\u7684\uff0c\u53ef\u7528\u7684\uff0c\u4ea4\u53c9\u7f16\u8bd1\u5668</p> <p>\u5176\u6548\u679c\uff0c\u7c7b\u4f3c\u4e8e\uff0c\u4e4b\u524d\u81ea\u5df1\u7f16\u8bd1\u51fa\u6765\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u6709\u5bf9\u5e94\u7684\u4ea4\u53c9\u7f16\u8bd1\u7248\u672c\u7684gcc\uff0cld\u7b49\u7b49\u7a0b\u5e8f\uff0c\u5373\uff1a</p> <pre><code>arm-xscale-linux-gnueabi-gcc\n\narm-xscale-linux-gnueabi-ld\n</code></pre> <p>\u7b49\u7b49\u6587\u4ef6\u7684\u4e86</p> <p>\u6bd4\u5982\uff1a</p> <p>[\u8bb0\u5f55] Ubuntu\u4e0b\u7528crosstool-ng\u4e3axscale\u5efa\u7acb\u4ea4\u53c9\u7f16\u8bd1\u5668arm-xscale-linux-gnueabi-gcc</p> <p>\u4e2d\u7684\uff1a</p> <pre><code>crifan@ubuntu:~/develop/crosstool-ng/crosstool-ng-1.18.0_build$ ls /home/crifan/develop/crosstool-ng/x-tools/arm-xscale-linux-gnueabi/bin -lh\ntotal 18M\n-r-xr-xr-x 1 crifan crifan 605K Aug  8 01:10 arm-xscale-linux-gnueabi-addr2line\n-r-xr-xr-x 2 crifan crifan 633K Aug  8 01:10 arm-xscale-linux-gnueabi-ar\n-r-xr-xr-x 2 crifan crifan 1.1M Aug  8 01:10 arm-xscale-linux-gnueabi-as\n-r-xr-xr-x 2 crifan crifan 276K Aug  8 01:10 arm-xscale-linux-gnueabi-c++\nlrwxrwxrwx 1 crifan crifan   28 Aug  8 00:54 arm-xscale-linux-gnueabi-cc -&gt; arm-xscale-linux-gnueabi-gcc\n-r-xr-xr-x 1 crifan crifan 605K Aug  8 01:10 arm-xscale-linux-gnueabi-c++filt\n-r-xr-xr-x 1 crifan crifan 276K Aug  8 01:10 arm-xscale-linux-gnueabi-cpp\n-r-xr-xr-x 1 crifan crifan 3.1K Aug  7 23:57 arm-xscale-linux-gnueabi-ct-ng.config\n-r-xr-xr-x 1 crifan crifan  26K Aug  8 01:10 arm-xscale-linux-gnueabi-elfedit\n-r-xr-xr-x 2 crifan crifan 276K Aug  8 01:10 arm-xscale-linux-gnueabi-g++\n-r-xr-xr-x 2 crifan crifan 272K Aug  8 01:10 arm-xscale-linux-gnueabi-gcc\n-r-xr-xr-x 2 crifan crifan 272K Aug  8 01:10 arm-xscale-linux-gnueabi-gcc-4.6.0\n-r-xr-xr-x 1 crifan crifan  30K Aug  8 01:10 arm-xscale-linux-gnueabi-gcov\n-r-xr-xr-x 1 crifan crifan 2.7M Aug  8 01:10 arm-xscale-linux-gnueabi-gdb\n-r-xr-xr-x 1 crifan crifan 2.7M Aug  8 01:10 arm-xscale-linux-gnueabi-gdbtui\n-r-xr-xr-x 1 crifan crifan 670K Aug  8 01:10 arm-xscale-linux-gnueabi-gprof\n-r-xr-xr-x 4 crifan crifan 1.1M Aug  8 01:10 arm-xscale-linux-gnueabi-ld\n-r-xr-xr-x 4 crifan crifan 1.1M Aug  8 01:10 arm-xscale-linux-gnueabi-ld.bfd\n-r-xr-xr-x 1 crifan crifan  11K Aug  8 01:10 arm-xscale-linux-gnueabi-ldd\n-r-xr-xr-x 2 crifan crifan 617K Aug  8 01:10 arm-xscale-linux-gnueabi-nm\n-r-xr-xr-x 2 crifan crifan 775K Aug  8 01:10 arm-xscale-linux-gnueabi-objcopy\n-r-xr-xr-x 2 crifan crifan 943K Aug  8 01:10 arm-xscale-linux-gnueabi-objdump\n-r-xr-xr-x 1 crifan crifan  11K Aug  8 01:10 arm-xscale-linux-gnueabi-populate\n-r-xr-xr-x 2 crifan crifan 633K Aug  8 01:10 arm-xscale-linux-gnueabi-ranlib\n-r-xr-xr-x 1 crifan crifan 317K Aug  8 01:10 arm-xscale-linux-gnueabi-readelf\n-r-xr-xr-x 1 crifan crifan 609K Aug  8 01:10 arm-xscale-linux-gnueabi-size\n-r-xr-xr-x 1 crifan crifan 605K Aug  8 01:10 arm-xscale-linux-gnueabi-strings\n-r-xr-xr-x 2 crifan crifan 775K Aug  8 01:10 arm-xscale-linux-gnueabi-strip\ncrifan@ubuntu:~/develop/crosstool-ng/crosstool-ng-1.18.0_build$\n</code></pre> <p>\u7136\u540e\uff0c\u4f60\u628a\u5305\u542b\u4e86\u4e0a\u8ff0arm-xscale-linux-gnueabi-gcc\u7b49\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u52a0\u5230\u73af\u5883\u53d8\u91cfPATH\u4e2d\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86\u3002</p> <ul> <li>\u5df2\u9a8c\u8bc1\u548c\u6d4b\u8bd5<p>\u522b\u4eba\u53d1\u5e03\u7684\uff0c\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u4e00\u822c\u90fd\u662f\uff0c\u7ecf\u8fc7\u76f8\u5e94\u7684\u9a8c\u8bc1\u548c\u6d4b\u8bd5</p> <p>\u4fdd\u8bc1\u4e86\uff0c\u53ef\u4ee5\u4f7f\u7528\uff0c\u4e0d\u4f1a\u51fa\u95ee\u9898\u7684\u3002</p> <p>\u6240\u4ee5\uff0c\u4f60\u53ef\u4ee5\u653e\u5fc3\u4f7f\u7528\uff0c\u4e0d\u4f1a\u62c5\u5fc3\uff0c\u51fa\u73b0\u7f16\u8bd1\u7a0b\u5e8f\u51fa\u9519\u7684\u65f6\u5019\uff0c\u786e\u4fdd\u4e0d\u4f1a\u662f\u7531\u4e8e\u4ea4\u53c9\u7f16\u8bd1\u5668\u95ee\u9898\u3002</p> </li> </ul> <ul> <li>\u5df2\u4f18\u5316<p>\u522b\u4eba\u53d1\u5e03\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u4e00\u822c\u90fd\u662f\u7ecf\u8fc7\uff0c\u5728\u5236\u4f5c\u7684\u65f6\u5019\uff0c\u52a0\u4e86\u4e00\u4e9b\u4f18\u5316\u53c2\u6570</p> <p>\u4f7f\u5f97\u9488\u5bf9\u67d0\u4e9b\u65b9\u9762\uff0c\u6bd4\u5982\u6027\u80fd\u7b49\u7b49\uff0c\u505a\u4e86\u76f8\u5e94\u7684\u4f18\u5316</p> <p>\u4f7f\u5f97\uff0c\u4ea4\u53c9\u7f16\u8bd1\u5668\u7f16\u8bd1\u51fa\u6765\u7684\u7a0b\u5e8f\uff0c\u5bf9\u4e8e\u76ee\u6807\u7684CPU\uff0c\u662f\u76f8\u5bf9\u6700\u4f18\u7684</p> </li> </ul> <ul> <li>(\u552e\u540e)\u652f\u6301\u6bd4\u8f83\u597d<p>\u5c31\u50cf\u4f60\u4e70\u4e1c\u897f\uff0c\u5f88\u591a\u65f6\u5019\uff0c\u4e0d\u51fa\u95ee\u9898\u7684\u65f6\u5019\uff0c\u552e\u540e\uff0c\u770b\u4e0d\u51fa\u6709\u5565\u7528</p> <p>\u4f46\u662f\u5f53\u51fa\u95ee\u9898\uff0c\u5c31\u53d1\u73b0\uff0c\u552e\u540e\u5176\u5b9e\u5f88\u91cd\u8981</p> <p>\u800c\u641e\u5d4c\u5165\u5f0f\u5f00\u53d1\uff0c\u5c24\u5176\u662f\u4ea4\u53c9\u7f16\u8bd1</p> <p>\u5f88\u591a\u65f6\u5019\uff0c\u6d89\u53ca\u5230\u5f88\u591a\u6280\u672f\u7ec6\u8282</p> <p>\u6709\u65f6\u5019\u9047\u5230\u95ee\u9898\u7684\u8bdd\uff0c\u5982\u679c\u4f60\u4e0d\u719f\u6089\uff0c\u4e0d\u4e86\u89e3\uff0c\u4e0d\u4f1a\u89e3\u51b3</p> <p>\u8fd9\u65f6\u5019\uff0c\u53bb\u627e\u5230\uff0c\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u63d0\u4f9b\u8005\uff0c\u53bb\u54a8\u8be2</p> <p>\u5bf9\u4e8e\u4f60\u6765\u8bf4\uff0c\u5c31\u663e\u5f97\u5f88\u6709\u4ef7\u503c\uff0c\u5f88\u91cd\u8981\u4e86\u3002</p> <p>\u522b\u4eba\u63d0\u4f9b\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u8bdd\uff0c\u5f80\u5f80\u90fd\u662f\u63d0\u4f9b\u540e\u7eed\u7684\u6280\u672f\u652f\u6301\u7684</p> <p>\u5bf9\u4e8e\u591a\u6570\u7684\u5f00\u53d1\u8005\uff0c\u8fd9\u70b9\uff0c\u8fd8\u662f\u6709\u4ef7\u503c\u7684</p> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#342","title":"3.4.2    \u4f7f\u7528\u5df2\u6709\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u7f3a\u70b9","text":"<ul> <li>\u65e0\u9488\u5bf9\u4f60\u81ea\u5df1\u7684CPU\u7684\u4f18\u5316<p>\u522b\u4eba\u63d0\u4f9b\u7684\uff0c\u5df2\u6709\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u76f8\u5bf9\u6765\u8bf4\uff0c\u66f4\u591a\u65f6\u5019\uff0c\u90fd\u662f\u9488\u5bf9\u67d0\u4e2a\u7cfb\u5217\u7684CPU\uff0c\u8fdb\u884c\u5236\u4f5c\u51fa\u6765\u7684\uff0c\u8fdb\u884c\u4f18\u5316\u7684</p> <p>\u5373\uff0c\u5176\u4f18\u5316\uff0c\u4e5f\u662f\u76f8\u5bf9\u6bd4\u8f83\u901a\u7528\u7684</p> <p>\u5982\u679c\u4f60\u7684CPU\u548c\u5176\u4e0d\u540c\uff0c\u5219\u5176\u5c31\u6ca1\u6709\u5bf9\u5e94\u7684\u4f18\u5316\u4e86</p> </li> </ul> <ul> <li>\u4e13\u6709\u5316<p>\u548c\u4e0a\u9762\u6709\u70b9\u7c7b\u4f3c\uff0c\u5373\u6ca1\u6709\u9488\u5bf9\u4f60\u81ea\u5df1\u7684CPU\uff0c\u8fdb\u884c\u4f18\u5316</p> </li> </ul> <ul> <li>\u592a\u8001\uff0c\u592a\u65e7<p>\u522b\u4eba\u7ed9\u7684\uff0c\u7f51\u4e0a\u53ef\u4ee5\u4e0b\u8f7d\u5230\u7684\uff0c\u5f88\u591a\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u76f8\u5bf9\u6765\u8bf4\uff0c\u7248\u672c\u90fd\u6bd4\u8f83\u65e7\u4e86\uff0c\u90fd\u662f\u5f88\u8001\u7684\uff0c\u4e4b\u524d\u7684\u4e86</p> <p>\u5176\u6240\u7528\u7684\uff0c\u5176\u4ed6\u5404\u4e2a\u7ec4\u4ef6\uff0c\u6a21\u5757\uff0c\u4e5f\u90fd\u662f\u65e7\u7248\u672c\u7684</p> <p>\u65e7\u7684\u8f6f\u4ef6\uff0c\u5bf9\u4e8e\u65b0\u51fa\u6765\u7684CPU\uff0c\u65b0\u7684\u529f\u80fd\u7b49\uff0c\u81ea\u7136\u6ca1\u6709\u5bf9\u5e94\u7684\u652f\u6301</p> <p>\u4e5f\u5c31\u65e0\u6cd5\u53d1\u6325\u65b0\u7684\u786c\u4ef6\u7279\u6027\u4e86\u4e86</p> </li> </ul> <ul> <li>\u5176\u6240\u7528\u7684\u6e90\u7801\u4e0d\u6e05\u695a<p>\u522b\u4eba\u7ed9\u4f60\u7f16\u8bd1\u597d\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u4f60\u662f\u53ef\u4ee5\u7528\u4e86</p> <p>\u4f46\u662f\uff0c\u5176\u9488\u5bf9\u4e8e\u5177\u4f53\u4ec0\u4e48\u7248\u672c\u7684\u6e90\u7801\uff0c\u4ee5\u53ca\u662f\u5426\u6253\u4e86\u76f8\u5e94\u8865\u4e01\u7b49\u60c5\u51b5</p> <p>\u4f60\u662f\u65e0\u6cd5\uff0c\u4e5f\u5f88\u96be\u77e5\u9053\u7684</p> <p>\u6240\u4ee5\uff0c\u5373\u65e0\u6cd5\u638c\u63a7\u6b64\u5df2\u6709\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u6240\u7528\u7684\u6e90\u7801\u7684\u786e\u5207\u60c5\u51b5</p> <p>\u6b64\u70b9\uff0c\u9488\u5bf9\u4e8e\u4f60\u5bf9\u81ea\u5df1\u7684CPU\u5f88\u719f\u6089\u7684\u60c5\u51b5\u4e0b\uff0c\u60f3\u8981\u5b8c\u5168\u4e86\u89e3\u5df2\u6709\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u80cc\u540e\u7684\u60c5\u51b5\u800c\u8a00\uff0c\u7b97\u662f\u4e2a\u7f3a\u70b9</p> <p>\u5373\u4e0d\u80fd\u5b8c\u5168\u5728\u4f60\u638c\u63e1\u8303\u56f4\u5185\uff0c\u4e0d\u6e05\u695a\u540e\u9762\u7684\u60c5\u51b5</p> </li> </ul> <ul> <li>\u672a\u5fc5\u9002\u5408\u4f60\u7684\u7cfb\u7edf<p>\u6216\u8bb8\u662f\u4e0d\u53ef\u91cd\u8f7d\uff08relocatable\uff09\u7684</p> <p>\u6ca1\u6709\u5f88\u65b9\u4fbf\u7684\u65b9\u5f0f\u53bb\u83b7\u5f97\u4e00\u4e9b\u7cfb\u7edf\u5e93\u6587\u4ef6</p> <p>\u6240\u4ee5\uff0c\u672a\u5fc5\u771f\u6b63\u9002\u5408\u4f60\u81ea\u5df1\u7684\uff0c\u5d4c\u5165\u5f0f\u7cfb\u7edf\u73af\u5883</p> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#343","title":"3.4.3    \u81ea\u5df1\u624b\u52a8\u7f16\u8bd1\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u4f18\u70b9","text":"<ul> <li>\u81ea\u5b9a\u4e49\u5404\u79cd\u7ec4\u4ef6\u53ca\u7248\u672c<p>\u5bf9\u4e8e\u81ea\u5df1\u53bb\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u8bdd\uff0c\u5219\u5176\u6240\u7528\u7684\u5404\u79cd\u7ec4\u4ef6\uff0c\u6a21\u5757\u7684\u7248\u672c\uff0c\u90fd\u53ef\u4ee5\u81ea\u5df1\u9009\u62e9\u548c\u5b9a\u5236</p> </li> </ul> <ul> <li>\u9488\u5bf9\u4f60\u81ea\u5df1\u7684CPU\u8fdb\u884c\u7279\u5b9a\u7684\u4f18\u5316</li> </ul> <ul> <li>\u5bf9\u4e8e\u5404\u79cd\u8865\u4e01\u5305\uff0c\u5df2\u7ecf\u5f88\u6e05\u695a\u4e86<p>\u65e2\u7136\u662f\u81ea\u5df1\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u90a3\u4e48\u81ea\u7136\u9009\u62e9\u4e86\uff0c\u76f8\u5bf9\u8f83\u65b0\u7684\u6e90\u7801\u5305\uff0c\u4ee5\u53ca\u5404\u79cd\u6a21\u5757</p> <p>\u5176\u81ea\u7136\uff0c\u5df2\u7ecf\u73b0\u5b58\u6709\u5f88\u591a\u8865\u4e01\u5305</p> <p>\u8fd9\u4e9b\u8865\u4e01\u5305\uff0c\u4fee\u590d\u4e86\u5f88\u591abug\uff0c\u6216\u8005\u662f\u589e\u52a0\u4e86\u5f88\u591a\u65b0\u7684\u529f\u80fd\u652f\u6301\u7b49</p> <p>\u8fd9\u65f6\u5019\uff0c\u4f60\u5c31\u53ef\u4ee5\u627e\u5230\u5e76\u6253\u4e0a\u8fd9\u4e9b\u8865\u4e01\u5305\u4ee5\u5b9e\u73b0\uff0c\u4fee\u590d\u8be5\u6a21\u5757\u7684\u5df2\u77e5\u7684bug\uff0c\u589e\u52a0\u65b0\u7684\u529f\u80fd\u7684\u652f\u6301\u4e86</p> </li> </ul> <ul> <li>Same source for all targets<p>\u6682\u672a\u641e\u61c2\u6b64\u70b9\u7684\u786e\u5207\u542b\u4e49\u3002</p> </li> </ul> <ul> <li>\u53ef\u4ee5\u540c\u6b65\u66f4\u65b0\u6700\u65b0\u8865\u4e01<p>\u76f8\u5e94\u7684\uff0c\u5982\u679c\u6709\u6700\u65b0\u7684\u8865\u4e01\uff0c\u4e5f\u53ef\u4ee5\u53ca\u65f6\u6253\u4e0a</p> </li> </ul> <ul> <li>\u53ef\u91cd\u590d<p>\u5bf9\u4e8e\u81ea\u5df1\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u8bdd\uff0c</p> <p>\u5236\u4f5c\u5b8c\u6210\u540e\uff0c\u5c31\u786e\u5b9a\u4e86\u5bf9\u5e94\u7684\u5404\u4e2a\u6a21\u5757\u7684\u7248\u672c\uff0c\u6709\u4e86\u5bf9\u5e94\u7684\u914d\u7f6e\u6587\u4ef6</p> <p>\u6b64\u914d\u7f6e\uff0c\u62ff\u5230\u522b\u7684\u5730\u65b9\uff0c\u522b\u4eba\u7528\u540c\u6837\u7684\u5de5\u5177\u548c\u7c7b\u4f3c\u7684\u73af\u5883\uff0c\u662f\u53ef\u4ee5\u91cd\u65b0\u7f16\u8bd1\u4e3a\u5176\u81ea\u5df1\u7684</p> <p>\u5373\uff0c\u6240\u8c13\u7684\u53ef\u91cd\u590d\uff0c\u522b\u4eba\u53ef\u4ee5\u5229\u7528\u4f60\u5df2\u7ecf\u9a8c\u8bc1\uff0c\u53ef\u4ee5\u6b63\u5e38\u5236\u4f5c\u548c\u4f7f\u7528\u7684\u5404\u4e2a\u7248\u672c\u7684\u6a21\u5757\u548c\u914d\u7f6e\uff0c\u5b9e\u73b0\u81ea\u5df1\u4e5f\u5236\u4f5c\u4e00\u4e2a\u5c5e\u4e8e\u81ea\u5df1\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668</p> </li> </ul> <ul> <li>\u6709\u793e\u533a\u652f\u6301<p>\u5f53\u7136\uff0c\u5bf9\u5e94\u7684\uff0c\u5728\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668\u671f\u95f4\uff0c\u4f7f\u7528\u4ea4\u53c9\u7f16\u8bd1\u5668\u671f\u95f4\uff0c</p> <p>\u51fa\u4e86\u95ee\u9898\uff0c\u6709\u4efb\u4f55\u7591\u95ee\uff0c\u90fd\u6709\u5bf9\u5e94\u7684\u793e\u533a\u7684\uff0c\u70ed\u5fc3\u4eba\uff0c\u5e2e\u4f60\u89e3\u51b3\uff0c\u56de\u7b54\u4f60\u7684\u95ee\u9898\u3002</p> </li> </ul> <ul> <li>\u9002\u5408\u4f60\u81ea\u5df1\u7684\u7cfb\u7edf<p>\u5982\u524d\u6240\u8ff0\uff0c\u62ff\u522b\u4eba\u5df2\u5236\u4f5c\u597d\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u672a\u5fc5\u771f\u6b63\u5b8c\u5168\u9002\u5408\u4f60\u81ea\u5df1\u7684\u7cfb\u7edf</p> <p>\u800c\u5982\u679c\u4f60\u81ea\u5df1\u5236\u4f5c\u7684\u8bdd\uff0c\u5f53\u7136\u5c31\u5b8c\u5168\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\uff0c\u53bb\u5236\u4f5c\u51fa\u6700\u9002\u5408\u81ea\u5df1\u7684\u7cfb\u7edf\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\u4e86</p> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#344","title":"3.4.4    \u81ea\u5df1\u624b\u52a8\u7f16\u8bd1\u4ea4\u53c9\u7f16\u8bd1\u5668\u7684\u7f3a\u70b9","text":"<ul> <li>\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668\u76f8\u5bf9\u6bd4\u8f83\u590d\u6742<p>\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668\uff0c\u76f8\u5bf9\u6765\u8bf4\uff0c\u662f\u4e2a\u6280\u672f\u6d3b\u52a0\u4f53\u529b\u6d3b</p> <p>\u4e0d\u4ec5\u4ec5\u8981\u6c42\u6709\u5bf9\u5e94\u7684\u77e5\u8bc6\u80cc\u666f\uff0c\u89e3\u51b3\u5404\u79cd\u95ee\u9898\u7684\u80fd\u529b\uff0c</p> <p>\u8fd8\u8981\u51c6\u5907\u4e00\u5b9a\u7684\u65f6\u95f4\u548c\u7cbe\u529b\uff0c\u53bb\u771f\u6b63\u5b9e\u73b0\uff0c\u771f\u6b63\u53bb\u5efa\u7acb\u51fa\u6765\u4e00\u4e2a\u53ef\u7528\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668</p> </li> </ul> <ul> <li>\u53ef\u80fd\u5b58\u5728\u7684\uff0c\u5bf9\u4e8e\u4f60\u7684\u5904\u7406\u5668\u652f\u6301\u5ea6\u4e0d\u662f\u8db3\u591f\u597d<p>\u65e2\u7136\u5236\u4f5c\u4ea4\u53c9\u7f16\u8bd1\u5668\u671f\u95f4\uff0c\u53ef\u80fd\u9700\u8981\u6253\u4e0a\u5f88\u591a\u7684patch\u7b49\u7b49</p> <p>\u90a3\u4e5f\u5c31\u5b58\u5728\uff0c\u6bd4\u5982\u7f3a\u5c11\u4e86\u5bf9\u5e94\u7684\u8865\u4e01\uff0c\u8865\u4e01\u4e0d\u592a\u5b8c\u6574\uff0c\u8865\u4e01\u4e0d\u5408\u9002\u7b49\u7b49\u7279\u6b8a\u60c5\u51b5</p> <p>\u4f7f\u5f97\uff0c\u5bf9\u4e8e\u5bf9\u5e94\u7684\uff0c\u6709\u4e9b\u5904\u7406\u5668\uff0c\u652f\u6301\u5ea6\uff0c\u4e0d\u662f\u5f88\u597d</p> </li> </ul> <ul> <li>\u9a8c\u8bc1<p>\u5728\u5236\u4f5c\u51fa\u4e86\u4ea4\u53c9\u7f16\u8bd1\u5668\u540e\uff0c\u5176\u5b9e\u8fd8\u9700\u8981\u4e00\u5b9a\u7684\u9a8c\u8bc1\uff0c\u4fdd\u8bc1\u5176\u53ef\u7528\uff0c\u597d\u7528\u3002</p> <p>\u8fd9\u4e5f\u9700\u8981\u5bf9\u5e94\u7684\u6280\u672f\u80fd\u529b\uff0c\u548c\u7cbe\u529b\uff0c\u53bb\u5b9e\u73b0\u3002</p> </li> </ul> <ul> <li>\u793e\u533a\u7684\u652f\u6301<p>\u5bf9\u4e8e\u793e\u533a\u7684\u652f\u6301\uff0c\u6709\u5176\u4e4b\u524d\u6240\u8bf4\u7684\u4f18\u70b9\uff0c\u90a3\u5c31\u662f\uff0c\u793e\u533a\u6d3b\u8dc3\u7684\u8bdd\uff0c\u53ef\u80fd\u89e3\u51b3\u95ee\u9898\u7684\u6548\u7387\u5c31\u76f8\u5bf9\u8f83\u9ad8</p> <p>\u4f46\u662f\u5f53\u793e\u533a\u4e0d\u591f\u6d3b\u8dc3\uff0c\u793e\u533a\u4e2d\u6ca1\u6709\u5408\u9002\u7684\u4eba\uff0c\u90a3\u4e48\u53ef\u80fd\u4f60\u7684\u95ee\u9898\uff0c\u5c31\u5f88\u96be\u5f97\u5230\u89e3\u51b3</p> <p>\u5373\uff0c\u6709\u95ee\u9898\u7684\u65f6\u5019\uff0c\u4f9d\u9760\u793e\u533a\u53bb\u89e3\u51b3\uff0c\u672a\u5fc5\u662f\u5b8c\u5168\u9760\u8c31\u7684\u3002</p> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#4","title":"4  \u4ea4\u53c9\u7f16\u8bd1\u5fc3\u5f97\u548c\u6ce8\u610f\u4e8b\u9879","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#41","title":"4.1   \u53c2\u8003\u8d44\u6599","text":"<p>[1] GNU Binutils</p> <p>[2] [\u5149\u76d8\u4e0b\u8f7d] 2010\u5e746\u6708 \u6700\u65b0TQ2440\u5149\u76d8\u4e0b\u8f7d (Linux\u5185\u6838\uff0cWinCE\u7684eboot\uff0cuboot\u5747\u6709\u66f4\u65b0)</p> <p>[3] http://kegel.com/crosstool/</p> <p>[4] http://www.denx.de/wiki/DULG/ELDK</p> <p>[5] http://www.openembedded.org/wiki/Main_Page</p> <p>[6] http://en.wikipedia.org/wiki/BitBake</p> <p>[7] http://www.gentoo.org/proj/en/base/embedded/handbook/</p> <p>[8] http://www.pengutronix.de/oselas/toolchain/index_en.html</p> <p>[9] http://anyhu.blog.sohu.com/214755651.html</p> <p>[10] http://ymorin.is-a-geek.org/projects/crosstool</p> <p>[11] 200910-ELCE-Morin-Building_our_own_toolchains.pdf</p> <p>[12] \u3010\u6574\u7406\u3011\u4ea4\u53c9\u7f16\u8bd1\u548c\u73b0\u5b58\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177</p> <p>[13] \u3010\u6574\u7406\u3011\u5173\u4e8eToolchain,cross toolchain,cross compiler</p> <p>[14] \u3010\u8bb0\u5f55\u3011Ubuntu\u4e0b\u4e3aQEMU\u7684arm\u5e73\u53f0\u4ea4\u53c9\u7f16\u8bd1BusyBox</p> <p>[15] \u5d4c\u5165\u5f0f\u5f00\u53d1\u4e4b\u4ea4\u53c9\u7f16\u8bd1\u5668</p> <p>[16] \u3010\u6574\u7406\u3011crosstool\u4e2d\u5982\u4f55\u8bbe\u7f6exscale\u7684Tuple\u2019s vendor string(CT_TARGET_VENDOR)</p> <p>[17] \u3010\u8bb0\u5f55\u3011\u91cd\u8bd5\u4f7f\u7528\u6700\u65b0\u7248\u672c1.18.0\u7684crosstool-ng\u53bb\u914d\u7f6e\u548c\u7f16\u8bd1xscale\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668</p> <p>[18] \u3010\u5df2\u89e3\u51b3\u3011uboot\u4ea4\u53c9\u7f16\u8bd1\u51fa\u9519\uff1agcc/config/arm/lib1funcs.asm:1266: undefined reference to `raise\u2019</p> <p>[19] \uff3b\u6574\u7406\uff3dEABI\u548cOABI</p> <p>[20] \u3010\u6574\u7406\u3011uclibc,eglibc,glibc\u4e4b\u95f4\u7684\u533a\u522b\u548c\u8054\u7cfb</p> <p>[21] \u3010\u6574\u7406\u3011arm\u7684\u4ea4\u53c9\u5de5\u5177\u94fe\uff08\u4ea4\u53c9\u7f16\u8bd1\u5668\uff09\u4e0b\u8f7d</p> <p>[22] crosstool-ng\u8be6\u89e3</p> <p>[23] Buildroot\u8be6\u89e3</p> <p>[24] \u3010\u8bb0\u5f55\u3011Ubuntu\u4e0b\u7528crosstool-ng\u4e3axscale\u5efa\u7acb\u4ea4\u53c9\u7f16\u8bd1\u5668arm-xscale-linux-gnueabi-gcc</p> <p>[25] \u3010\u6574\u7406\u3011\u4ea4\u53c9\u7f16\u8bd1\u5fc3\u5f97\u548c\u6ce8\u610f\u4e8b\u9879</p> <p>[26]   \u4ea4\u53c9\u7f16\u8bd1\u5668 arm-linux-gnueabi \u548c arm-linux-gnueabihf \u7684\u533a\u522b</p> <p>[27]   arm-none-linux-gnueabi, arm-none-eabi \u4e0earm-eabi \u533a\u522b</p> <p>[28]   What's the difference between arm-linux- / arm-none-linux-gnueabi- / arm-fsl-linux-gnueabi- in LTIB?</p> <p>[29]   arm\u4ea4\u53c9\u7f16\u8bd1\u5668gnueabi\u3001none-eabi\u3001arm-eabi\u3001gnueabihf\u3001gnueabi\u533a\u522b</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/arm%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91%E8%AF%A6%E8%A7%A3/#42","title":"4.2   \u5df2\u6709\u7684\u4ea4\u53c9\u5de5\u5177\u94fe\u7684\u4e0b\u8f7d","text":"<ul> <li>\u7f51\u4e0a\u53c2\u8003\u8d44\u6e90</li> </ul> <p>http://www.cnblogs.com/esion/archive/2012/08/28/2660033.html\uff0c\u5176\u5b9e\u662f\u53ef\u4ee5\u5b89\u88c5\u540e\uff0c\u8bbe\u7f6e\u597d\u73af\u5883\u53d8\u91cf\uff0c\u4e4b\u540e\u5c31\u53ef\u4ee5\u4e00\u76f4\u4e0d\u53d8\u7684\u53bb\u4f7f\u7528\u7684\u3002</p> <p>http://www.myir-tech.com/download.asp\u4e2d\u63d0\u4f9b\u4e86\u5f88\u591a\u4e1c\u897f\u4e0b\u8f7d\uff0c\u5305\u62ec\u5de5\u5177\u94fe\u3002</p> <ul> <li>linaro</li> </ul> <p>Linaro\uff0c\u4e00\u95f4\u975e\u8425\u5229\u6027\u8d28\u7684\u5f00\u653e\u6e90\u4ee3\u7801\u8f6f\u4ef6\u5de5\u7a0b\u516c\u53f8\uff0c\u4e3b\u8981\u7684\u76ee\u6807\u5728\u4e8e\u5f00\u53d1\u4e0d\u540c\u534a\u5bfc\u4f53\u516c\u53f8\u7cfb\u7edf\u5355\u82af\u7247\uff08SoC\uff09\u5e73\u53f0\u7684\u5171\u901a\u8f6f\u4ef6\uff0c\u4ee5\u4fc3\u8fdb\u6d88\u8d39\u8005\u53ca\u5382\u5546\u7684\u798f\u7949\u3002\u9488\u5bf9\u4e8e\u5404\u4e2a\u6210\u5458\u63a8\u51fa\u7684 ARM\u7cfb\u7edf\u5355\u82af\u7247\uff08SoC\uff09\uff0c\u5b83\u5f00\u53d1\u4e86ARM\u5f00\u53d1\u5de5\u5177\u3001Linux\u5185\u6838\u4ee5\u53caLinux\u53d1\u884c\u7248\uff08\u5305\u62ec Android \u53ca Ubuntu\uff09\u7684\u4e3b\u8981\u81ea\u52a8\u5efa\u6784\u7cfb\u7edf\u3002</p> <p>\u7531ARM\u3001\u98de\u601d\u5361\u5c14\u3001IBM\u3001Samsung\u3001ST-Ericsson \u53ca\u5fb7\u5dde\u4eea\u5668 (TI)\u7b49\u534a\u5bfc\u4f53\u5382\u5546\u8054\u5408\uff0c\u57282010\u5e743\u6708\u6210\u7acb\u30022010\u5e746\u6708\u5728\u53f0\u5317\u5bf9\u5916\u5ba3\u5e03\u8fd9\u4e2a\u6d88\u606f\u3002\u9884\u8ba1\u57282010\u5e7411\u6708\uff0c\u63a8\u51fa\u7b2c\u4e00\u7248\u4ee5ARM Cortex-A \u4e3a\u6838\u5fc3\u7684 SoC \u8fdb\u884c\u6548\u80fd\u4f18\u5316\u7684\u8f6f\u4ef6\u5de5\u5177</p> <p>\u9664\u4e86\u63a8\u51fa\u4ea4\u53c9\u7f16\u8bd1\u5668\u8fd8\u63a8\u51fa\u4fee\u6539\u7684linux\u548c\u5b89\u5353\u5185\u6838\u7b49\u5305</p> <p>Ubuntu\u6e90\u4e2d\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668\u5373\u4f7f\u7528linaro\u4e0b\u8f7d\u7f16\u8bd1\u7684\u4ea4\u53c9\u7f16\u8bd1\u5668</p> <p>\u4e0b\u8f7d   https://releases.linaro.org/components/toolchain/binaries/latest/</p> <ul> <li>ELDK\u7684\u4e0b\u8f7d</li> </ul> <p>http://www.denx.de/en/News/WebHome</p> <p>-&gt; ftp://ftp.denx.de/pub/eldk/5.3/</p> <p>-&gt; ftp://ftp.denx.de/pub/eldk/5.3/iso/</p> <p>\u4e2d\u6709\u5404\u79cd\u7684\uff0c\u57fa\u4e8earm\u7684eldk\uff0c\u6bd4\u5982\uff1a</p> <pre><code>eldk-5.3-armv4t.iso\neldk-5.3-armv5te.iso\neldk-5.3-armv6.iso\neldk-5.3-armv6.iso\neldk-5.3-armv7a-hf.iso\neldk-5.3-armv7a.iso\n</code></pre> <p>\u4e0b\u8f7d\u4e0b\u6765\uff0c\u89e3\u538b\u540e\uff0c\u53bb\u8fd0\u884c\u5b89\u88c5\u811a\u672c\u540e\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86</p> <ul> <li>Codesourcery</li> </ul> <p><code>Codesourcery</code> \u63a8\u51fa\u7684\u4ea7\u54c1\u53eb <code>Sourcery G++ Lite Edition</code>, \u5176\u4e2d\u57fa\u4e8e <code>command-line</code> \u7684\u7f16\u8bd1\u5668\u662f\u514d\u8d39\u7684, \u5728\u5b98\u7f51\u4e0a\u53ef\u4ee5\u4e0b\u8f7d, \u800c\u5176\u4e2d\u5305\u542b\u7684 <code>IDE</code> \u548c <code>debug</code>  \u5de5\u5177\u662f\u6536\u8d39\u7684, \u5f53\u7136\u4e5f\u670930\u5929\u8bd5\u7528\u7248\u672c\u7684.</p> <p>\u76ee\u524d <code>CodeSourcery</code> \u5df2\u7ecf\u7531\u660e\u5bfc\u56fd\u9645(<code>Mentor Graphics</code>)\u6536\u8d2d, \u6240\u4ee5\u539f\u672c\u7684\u7f51\u7ad9\u98ce\u683c\u5df2\u7ecf\u5168\u90e8\u53d8\u4e3a <code>Mentor</code> \u6837\u5f0f, \u4f46\u662f <code>Sourcery G++ Lite Edition</code> \u540c\u6837\u53ef\u4ee5\u6ce8\u518c\u540e\u514d\u8d39\u4e0b\u8f7d.</p> <p><code>Codesourcery</code>\u4e00\u76f4\u662f\u5728\u505a <code>ARM</code> \u76ee\u6807 <code>GCC</code> \u7684\u5f00\u53d1\u548c\u4f18\u5316, \u5b83\u7684 <code>ARM GCC</code> \u5728\u76ee\u524d\u5728\u5e02\u573a\u4e0a\u975e\u5e38\u4f18\u79c0, \u5f88\u591a <code>patch</code> \u53ef\u80fd\u8fd8\u6ca1\u88ab <code>gcc</code> \u63a5\u53d7, \u6240\u4ee5\u8fd8\u662f\u5e94\u8be5\u76f4\u63a5\u7528\u5b83\u7684(\u800c\u4e14\u4ed6\u63d0\u4f9b <code>Windows</code> \u4e0b[<code>mingw</code>\u4ea4\u53c9\u7f16\u8bd1\u7684]\u548c<code>Linux</code>\u4e0b\u7684\u4e8c\u8fdb\u5236\u7248\u672c, \u6bd4\u8f83\u65b9\u4fbf; \u5982\u679c\u4e0d\u662f\u5f88\u6709\u65f6\u95f4\u548c\u5174\u8da3, \u4e0d\u5efa\u8bae\u4e0b\u8f7d <code>src</code> \u6e90\u7801\u5305\u81ea\u5df1\u7f16\u8bd1, \u5f88\u9ebb\u70e6, <code>Codesourcery</code>\u7ed9\u7684 <code>shell</code> \u811a\u672c\u5f88\u591a\u65f6\u5019\u6839\u672c\u6ca1\u529e\u6cd5\u76f4\u63a5\u7528, \u5f97\u81ea\u884c\u63d0\u53d6\u5173\u952e\u7684\u90e8\u5206\u624b\u5de5\u6267\u884c, \u53c8\u8d39\u7cbe\u529b\u53c8\u8d39\u65f6\u95f4, \u5982\u679c\u60f3\u77e5\u9053\u7ec6\u8282, \u5176\u5b9e\u4e0d\u7528\u81ea\u5df1\u7f16\u8bd1\u4e00\u904d, \u770b\u770b\u4ed6\u662f\u7528\u4ec0\u4e48\u6b65\u9aa4\u6784\u5efa\u7684\u5373\u53ef, \u5982\u679c\u4f60\u5bf9\u4ea4\u53c9\u7f16\u8bd1\u5668\u611f\u5174\u8da3\u7684\u8bdd.</p> <ul> <li>FriednlyARM\u53cb\u5584\u4e4b\u81c2</li> </ul> <p>arm9\u4e4b\u5bb6  http://www.arm9home.net/</p> <p>\u8bba\u575b  http://www.friendlyarm.net/forum/topic/5203</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/colab/","title":"colab\u5c0f\u6280\u5de7\u8bb0\u5f55","text":"<ul> <li>colab\u5c0f\u6280\u5de7\u8bb0\u5f55<ul> <li>\u4ea4\u4e92<ul> <li>\u4e0a\u4f20\u6587\u4ef6</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/colab/#_1","title":"\u4ea4\u4e92","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/colab/#_2","title":"\u4e0a\u4f20\u6587\u4ef6","text":"<p>colab\u5b98\u65b9\u7684file.upload\u65b9\u6cd5\u4f7f\u7528\u4e3e\u4f8b\uff1a <pre><code>from google.colab import files\n\nuploaded = files.upload()\nfilepath = list(uploaded.keys())[0]\n\nimage = cv2.imread(filepath)\n</code></pre></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/dataset/","title":"\u6570\u636e\u96c6\u76f8\u5173","text":"<ul> <li>\u6570\u636e\u96c6\u76f8\u5173<ul> <li>MNIST\u548cFashionMNIST\u7684\u683c\u5f0f</li> </ul> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/dataset/#mnistfashionmnist","title":"MNIST\u548cFashionMNIST\u7684\u683c\u5f0f","text":"<p>\u56fe\u50cf\u548clabel\u6587\u4ef6\u90fd\u662fbig endian\u7684\u5b57\u8282\u6d41 \u56fe\u50cf\u6587\u4ef6\u7684\u524d4\u4e2a32\u4f4d\u6574\u6570\u5206\u522b\u662fmagic number\uff0c\u56fe\u50cf\u603b\u6570\uff0c\u5355\u5f20\u56fe\u50cf\u884c\u6570\u548c\u5217\u6570\uff0c\u4e4b\u540e\u6bcf784\u4e2abytes\u8868\u793a\u4e00\u5f20\u56fe\u7247 label\u6587\u4ef6\u7684\u524d2\u4e2a32\u4f4d\u6574\u6570\u5206\u522b\u662fmagic number\u548c\u56fe\u50cf\u6574\u6570\uff0c\u4e4b\u540e\u6bcf\u4e2abyte\u8868\u793a\u4e00\u5f20\u56fe\u7247</p> <p>\u4ee5\u8bad\u7ec3\u96c6\u4e3a\u4f8b\uff1a image: magic 2051, numImages 60000, numRows 28, numColumns 28  label: magic 2049, numImages 60000</p> <pre><code>import numpy as np\nimport struct\nfrom PIL import Image\nimport scipy.misc\nimport os\n\nif not os.path.exists('train'):\n    os.mkdir('train')\n\nlabelfn = r'raw/train-labels-idx1-ubyte'\nimgfn = r'raw/train-images-idx3-ubyte'\nimgfile = open(imgfn, 'rb')\nlabelfile = open(labelfn, 'rb')\nimgbuf = imgfile.read()\nlabelbuf = labelfile.read()\nimgfile.close()\nlabelfile.close()\n\nindex = 0\nmagic, numImages, numRows, numColumns = struct.unpack_from('&gt;IIII', imgbuf, index)\nindex += struct.calcsize('&gt;IIII')\nprint ('image: magic %d, numImages %d, numRows %d, numColumns %d'%(magic, numImages, numRows, numColumns))\n\nlabelindex = 0\nmagicl, numImagesl = struct.unpack_from('&gt;II', labelbuf, labelindex)\nlabelindex += struct.calcsize('&gt;II')\nprint ('label: magic %d, numImages %d'%(magicl, numImagesl))\n\n# num of images u wanna dump\nnumImages = 70\n\nfor i in range(numImages):\n    im = struct.unpack_from('&gt;784B', imgbuf, index)  # 28*28=784 bytes, big endian\n    index += struct.calcsize('&gt;784B')\n    im = np.array(im)\n    im = im.reshape(28, 28)\n\n    l = struct.unpack_from('&gt;B', labelbuf, labelindex)\n    l = l[0]\n    labelindex += struct.calcsize('&gt;B')\n\n    scipy.misc.imsave('train/'+\"train\" + str(i)+'_'+str(l) + \".png\", im)\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/","title":"Electron nodejs","text":"<ul> <li>windows\u4e0b\u5b89\u88c5nodejs\uff08\u6ce8\u610f\u8fd9\u662f\u57fa\u4e8e\u539f\u751fwindows\u800c\u975ewsl2\u4e0a\u5b89\u88c5\uff0cwsl2\u7684\u5b89\u88c5\u6d41\u7a0b\u4e0elinux\u57fa\u672c\u4e00\u81f4\uff09<ul> <li>\u76f4\u63a5\u5b89\u88c5</li> <li>\u901a\u8fc7nvm\u5b89\u88c5</li> </ul> </li> <li>Linux\u4e0b\u5b89\u88c5nodejs</li> <li>\u8bbe\u7f6e\u6dd8\u5b9d\u955c\u50cf</li> <li>\u5165\u95e8\u793a\u4f8b<ul> <li>electron</li> <li>electron+react</li> </ul> </li> <li>npm\u7ec4\u4ef6\u96c6<ul> <li>\u57fa\u4e8ereact\u7684json treeview</li> </ul> </li> <li>FAQ<ul> <li>npm\u5b89\u88c5\u51fa\u9519</li> </ul> </li> <li>\u6253\u5305</li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/#windowsnodejswindowswsl2wsl2linux","title":"windows\u4e0b\u5b89\u88c5nodejs\uff08\u6ce8\u610f\u8fd9\u662f\u57fa\u4e8e\u539f\u751fwindows\u800c\u975ewsl2\u4e0a\u5b89\u88c5\uff0cwsl2\u7684\u5b89\u88c5\u6d41\u7a0b\u4e0elinux\u57fa\u672c\u4e00\u81f4\uff09","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/#_1","title":"\u76f4\u63a5\u5b89\u88c5","text":"<p>\u4ecehttps://nodejs.org/en/ \u4e0b\u8f7dnodejs\u7136\u540e\u53cc\u51fb\u5b89\u88c5\u3002\u5efa\u8bae\u5b8c\u6210\u540e\u5b89\u88c5yarn\uff1a<code>npm install -g yarn</code>\u3002</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/#nvm","title":"\u901a\u8fc7nvm\u5b89\u88c5","text":"<p>\u8fd9\u662f https://docs.microsoft.com/en-us/windows/dev-environment/javascript/nodejs-on-windows \u5b98\u65b9\u63a8\u8350\u7684\u65b9\u6cd5\uff0c\u4f46nvm for windows\u95ee\u9898\u771f\u7684\u5f88\u591a\uff0c\u975e\u5e38\u4e0d\u63a8\u8350\u3002 1. \u4ece https://github.com/coreybutler/nvm-windows#node-version-manager-nvm-for-windows \u4e0b\u8f7dnvm for wondows 2. \u89e3\u538b\u8fd0\u884c 3. \u7ba1\u7406\u5458\u6a21\u5f0f\u6253\u5f00powershell\uff0c\u8f93\u5165 <pre><code>nvm install latest # \u5b89\u88c5\u6700\u65b0\u7248\u672cnodejs\uff0c\u5982\u679c\u60f3\u88c5\u7a33\u5b9a\u7248\u672c\u5219install lts\nnvm ls # \u663e\u793a\u5df2\u5b89\u88c5\u7684nodejs\u7248\u672c\u53f7\uff0c\u6bd4\u65b9\u8bf4\u662f17.3.0\nnvm use 17.3.0 # \u4f7f\u7528\u521a\u88c5\u7684\u7248\u672c\uff0c\u6ce8\u610fnvm install\u5e76\u4e0d\u4f1a\u81ea\u52a8use\u65b0\u88c5\u7684\u7248\u672c\nnpm --version # \u68c0\u67e5npm\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u53ca\u5176\u7248\u672c\u53f7\nnpm install -g yarn # \u5b89\u88c5yarn\uff08\u53ef\u9009\uff09\n</code></pre> \u5982\u679cnvm use\u51fa\u73b0\u95ee\u9898\u53ef\u67e5\u770bhttps://github.com/coreybutler/nvm-windows/wiki/Common-Issues#permissions-exit-1-exit-5-access-denied\uff0c\u505a\u597d\u627e\u4e0d\u5230\u7b54\u6848\u7684\u51c6\u5907\uff0c\u5982\u679c\u975e\u8981\u7528nvm\uff0cwindows11\u4e0b\u7684wsl2\u4f1a\u662f\u66f4\u597d\u7684\u9009\u62e9\u3002</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/#linuxnodejs","title":"Linux\u4e0b\u5b89\u88c5nodejs","text":"<p>\u4e0ewindows\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8envm\u7684\u5b89\u88c5\u4f7f\u7528\uff0c\u5148\u5230https://github.com/nvm-sh/nvm \u4e0b\u67e5\u770b\u6700\u65b0\u7248\u672c\u7684nvm\uff0c\u5047\u5b9a\u662f0.39.1\uff0c\u7136\u540e\u5b89\u88c5\uff1a <pre><code>$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash\n$ nvm install --latest # \u6ce8\u610f\u8fd9\u91cc\u8981\u52a0--\uff0c\u800cnvm for wondows\u5219\u4e0d\u7528\uff01\n$ nvm ls # \u663e\u793a\u5df2\u5b89\u88c5\u7684nodejs\u7248\u672c\u53f7\uff0c\u6bd4\u65b9\u8bf4\u662f17.3.0\n$ nvm use 17.3.0 # \u4f7f\u7528\u521a\u88c5\u7684\u7248\u672c\uff0c\u6ce8\u610fnvm install\u5e76\u4e0d\u4f1a\u81ea\u52a8use\u65b0\u88c5\u7684\u7248\u672c\n$ npm --version # \u68c0\u67e5npm\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u53ca\u5176\u7248\u672c\u53f7\n$ npm install -g yarn # \u5b89\u88c5yarn\uff08\u53ef\u9009\uff09\n</code></pre></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/#_2","title":"\u8bbe\u7f6e\u6dd8\u5b9d\u955c\u50cf","text":"<p><code>npm config set ELECTRON_MIRROR=https://npm.taobao.org/mirrors/electron/</code> \u6ce8\u610f\u540e\u9762\u7684/\u8981\u52a0\u4e0a\uff0c\u4e0d\u52a0\u5730\u5740\u4f1a\u53d8\u6210 https://npm.taobao.org/mirrors/ \u3002\u53e6\u5916\u6709\u65f6\u5019\u5b83\u6ca1\u6709\u8ddf\u4e3b\u7ad9\u53ca\u65f6\u540c\u6b65\u4f1a\u5bfc\u81f4\u6700\u65b0\u7248\u672c\u5b89\u88c5\u5931\u8d25\uff0c\u8fd9\u65f6\u5019\u7528@+\u7248\u672c\u53f7\u6307\u5b9a\u5b89\u88c5\u67d0\u4e2a\u670d\u52a1\u5668\u4e0a\u6709\u7684\u7248\u672c\u5c31\u884c\u4e86\uff0c\u5982<code>npm install -g electron@16.0.5</code></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/#_3","title":"\u5165\u95e8\u793a\u4f8b","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/#electron","title":"electron","text":"<p>https://github.com/hokein/electron-sample-apps https://www.electronjs.org/community#boilerplates https://github.com/electron-userland/electron-webpack-quick-start</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/#electronreact","title":"electron+react","text":"<p>https://github.com/electron-react-boilerplate/electron-react-boilerplate (\u57fa\u4e8ewebpack) https://electron-react-boilerplate.js.org/docs/app-showcase/ https://github.com/electron-userland/electron-webpack-quick-start https://github.com/jschr/electron-react-redux-boilerplate (\u57fa\u4e8eredux)</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/#npm","title":"npm\u7ec4\u4ef6\u96c6","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/#reactjson-treeview","title":"\u57fa\u4e8ereact\u7684json treeview","text":"<p>https://www.npmjs.com/package/react-json-view</p> <p>\u4f7f\u7528\u65f6\u53ea\u8981\u6dfb\u52a0dependency\uff0c\u800c\u540e\u76f4\u63a5\u8c03\u7528<code>&lt;ReactJson src={JSON_OBJECT} /&gt;</code>\u5373\u53ef\u3002\u4e3e\u4f8b\uff1a\u5047\u5b9a\u6211\u4eec\u7528<code>npx create-react-app myproj</code>\u5efa\u7acb\u4e86\u540d\u4e3amyproj\u7684\u76ee\u5f55\uff0c\u90a3\u4e48 1. \u5728\\(myproj/package.json\\)\u4e2d\u6dfb\u52a0\u4e0a<code>\"react-json-view\": \"latest\"</code>\uff08\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5b89\u88c5<code>npm install -save react-json-view</code>\uff0c\u5b8c\u6210\u540enpm\u4f1a\u81ea\u52a8\u4fee\u6539package.react-json-view 2. \u5982\u4e0b\u4fee\u6539\\(myproj/src/app.js\\)\uff1b <pre><code>import './App.css';\nimport ReactJson from 'react-json-view';\n\nlet my_important_json = {\n    test: 'this is a test string',\n    another_sibling: 45,\n    basic_array: [1, 2, 3],\n    how_will_floats_do: -2.757,\n    parent: {\n        sibling1: true,\n        sibling2: false,\n        sibling3: null,\n        sibling4: 'test',\n        'last-sibling': {\n            grand_child: NaN,\n            'grand-child-func': (a) =&gt; {\n                let b = 5;\n                return a.push(b);\n            }\n        }\n    },\n    number: 1234\n}\n\nfunction App() {\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;header className=\"App-header\"&gt;\n          &lt;div style={{marginTop: 15}}&gt;\n              &lt;div  className=\"modal\" align=\"left\"&gt;\n                  &lt;ReactJson src={my_important_json} theme=\"monokai\" /&gt;\n              &lt;/div&gt;\n          &lt;/div&gt;\n      &lt;/header&gt;\n    &lt;/div&gt;\n  );\n}\nexport default App;\n</code></pre> 3. \u542f\u52a8npm\u5373\u53ef\u751f\u6548 <pre><code>npm i\nnpm start\n</code></pre></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/#faq","title":"FAQ","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/#npm_1","title":"npm\u5b89\u88c5\u51fa\u9519","text":"<p>\u6709\u65f6<code>npm install</code>\u6ca1\u6709\u63d0\u793a\u95ee\u9898\uff0c\u4f46<code>npm start</code>\u65f6\u5219\u63d0\u793a\u5b89\u88c5\u51fa\u9519\uff0c\u627e\u4e0d\u5230electron\u7b49\u3002\u8fd9\u65f6\u53ef\u4ee5\u663e\u5f0f\u6307\u5b9a\u8981\u88c5\u7684\u6a21\u5757\u5e76\u52a0\u4e0a--verbose\uff0c\u5982<code>npm install electron --verbose</code>\uff0c\u68c0\u67e5\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u65b9\u4fbf\u5206\u6790\u95ee\u9898\u3002</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/electron-nodejs/#_4","title":"\u6253\u5305","text":"<p>\u5e38\u7528\u6253\u5305\u5de5\u5177\u6709electron-builder\u548celectron-packager\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7yarn\u5b89\u88c5\uff1a<code>yarn add electron-builder --dev</code> \uff08\u6ce8\u610fyarn\u7f3a\u7701\u4e5f\u662flocal\u5b89\u88c5\u7684\uff0c\u5168\u5c40\u5b89\u88c5\u540c\u6837\u9700\u8981\u52a0-g\u5f00\u5173\uff09</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/","title":"git\u76f8\u5173","text":"<ul> <li>git\u76f8\u5173<ul> <li>\u5feb\u901f\u4e0b\u8f7dgithub repo<ul> <li>\u5bfc\u5165\u56fd\u5185</li> <li>\u8bbe\u7f6e\u4ee3\u7406</li> </ul> </li> <li>submodule<ul> <li>\u6dfb\u52a0</li> <li>\u66f4\u65b0</li> <li>\u83b7\u53d6</li> <li>\u5378\u8f7d</li> </ul> </li> <li>\u53ea\u4e0b\u8f7d\u6700\u65b0\u7684x\u4e2a\u7248\u672c<ul> <li>--depth</li> <li>--unshallow</li> </ul> </li> <li>\u5408\u5e76\u4e0d\u5fc5\u8981\u7684\u63d0\u4ea4</li> <li>Rebase\u548cmerge\u7684\u533a\u522b</li> <li>\u4f7f\u7528stash\u6682\u5b58\u548c\u6062\u590d\u5f53\u524d\u5de5\u4f5c</li> <li>\u540c\u4e00\u673a\u5668\u4e0a\u4f7f\u7528\u591a\u4e2agithub\u8d26\u53f7</li> <li>\u540c\u4e00\u673a\u5668\u4e0a\u8fde\u63a5github\u548c\u5176\u5b83\u670d\u52a1\u5668</li> <li>\u4e00\u4e9bgit\u548cgithub\u5c0f\u6280\u5de7</li> <li>gitk\u4e2d\u6587\u4e71\u7801\u95ee\u9898\u89e3\u51b3</li> <li>github\u56fe\u7247\u663e\u793a\u548c\u6587\u4ef6\u4e0b\u8f7d\u51fa\u9519<ul> <li>\u6539hosts</li> <li>\u7528cloudflare worker\u6216python\u5bf9github\u8fdb\u884c\u8f6c\u53d1</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#github-repo","title":"\u5feb\u901f\u4e0b\u8f7dgithub repo","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#_1","title":"\u5bfc\u5165\u56fd\u5185","text":"<p>\u4ee5opencv\u4e3a\u4f8b\uff0c\u5728\u7801\u4e91\u7528\u6237\u201cGitee \u6781\u901f\u4e0b\u8f7d\u201drepo\u4e2d\u627e\u5230\u5bf9\u5e94\u8fde\u63a5\u7684\u955c\u50cf\uff08\u5982\u679c\u6ca1\u6709\u5c31\u81ea\u5df1\u5bfc\u5165\u4e00\u4e2a\uff09\uff0c\u7136\u540eclone\uff1a <pre><code>git clone https://gitee.com/mirrors/opencv.git\n</code></pre> \u8fdb\u5165opencv\u76ee\u5f55\uff0c\u5220\u9664\u539forigin\u5e76\u628agithub\u8bbe\u4e3aorigin\uff1a <pre><code>git remote remove origin\ngit remote add origin https://github.com/opencv/opencv.git\n</code></pre> \u66f4\u65b0\u5e76\u5f3a\u5236\u8986\u76d6\uff1a <pre><code>git fetch --all\ngit reset --hard origin/master\ngit pull\n</code></pre></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#_2","title":"\u8bbe\u7f6e\u4ee3\u7406","text":"<p>\u8bbe\u7f6e127.0.0.1\uff1a1080\u4e3a\u5168\u5c40\u4ee3\u7406\uff1a <pre><code>git config --global https.proxy http://127.0.0.1:1080\ngit config --global https.proxy https://127.0.0.1:1080\ngit config --global http.proxy 'socks5://127.0.0.1:1080'\ngit config --global https.proxy 'socks5://127.0.0.1:1080'\n</code></pre> \u4ee3\u7406\u670d\u52a1\u5668\u9700\u8981\u9274\u6743\u914d\u7f6e\uff1a <pre><code>git config --global https.proxy https://username:password@proxy.baidu.com:8080\n</code></pre> \u6ce8\u610f\u5982\u679c\u5bc6\u7801\u4e2d\u6709@\u7b49\u7279\u6b8a\u5b57\u7b26\uff0c\u4f1a\u51fa\u9519\u3002\u6b64\u65f6\u8981\u4f7f\u7528\u767e\u5206\u6bd4\u7f16\u7801(Percent-encoding)\u5bf9\u7279\u6b8a\u5b57\u7b26\u8fdb\u884c\u8f6c\u6362\uff0c\u8f6c\u6362\u5217\u8868\u5982\u4e0b\uff1a</p> <p>! --&gt; %21\u00a0 \u00a0 \u00a0 \u00a0# --&gt; %23\u00a0 \u00a0 \u00a0$ --&gt; %24\u00a0 \u00a0 \u00a0&amp; --&gt; %26\u00a0 \u00a0 \u00a0' --&gt; %27 ( --&gt; %28\u00a0 \u00a0 \u00a0 \u00a0) --&gt; %29\u00a0 \u00a0 \u00a0 * --&gt; %2A\u00a0 \u00a0 \u00a0+ --&gt; %2B\u00a0 \u00a0 \u00a0, --&gt; %2C\u00a0  / --&gt; %2F\u00a0 \u00a0 \u00a0 : --&gt; %3A\u00a0 \u00a0 \u00a0 ; --&gt; %3B\u00a0 \u00a0 \u00a0 = --&gt; %3D\u00a0 \u00a0 \u00a0? --&gt; %3F\u00a0  @ --&gt; %40\u00a0 \u00a0 \u00a0[ --&gt; %5B\u00a0 \u00a0 \u00a0] --&gt; %5D  </p> <p>\u5220\u9664\u4ee3\u7406\uff1a <pre><code>git config --global --unset http.proxy\ngit config --global --unset https.proxy\n</code></pre></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#submodule","title":"submodule","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#_3","title":"\u6dfb\u52a0","text":"<p>\u9996\u5148\u5728\u4e3b\u9879\u76ee\u5185\u6dfb\u52a0\u5b50\u9879\u76ee\uff1a <pre><code>git submodule add git@192.168.8.41:zhizhang/subtest1.git algorithm\ngit submodule add git@192.168.8.41:zhizhang/subtest2.git toolset\n</code></pre></p> <p>\u8fd0\u884c\u540e\uff0cgit\u4f1a\u5c06\u76f8\u5e94\u4ee3\u7801clone\u5230\u672c\u5730\u3002\u4e4b\u540e\u8fdb\u5165\u76f8\u5e94\u76ee\u5f55\uff0c\u5207\u6362\u5230\u6240\u9700\u7684\u5206\u652f\u6216\u6807\u7b7e\u5373\u53ef\u3002 <pre><code>cd algorithm\ngit checkout tag1_master\n</code></pre></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#_4","title":"\u66f4\u65b0","text":"<p>commit\u548c\u52a0tag\u65f6\u4f1a\u5c06\u5b50\u6a21\u5757\u7248\u672c\u9501\u5b9a\u5728\u5f53\u524d\u4f4d\u7f6e\uff0c\u9664\u975e\u7279\u610f\u66f4\u65b0\u3002\u53ef\u4ee5\u7528foreach\u66f4\u65b0\u6240\u6709submodule\uff1a <pre><code>git submodule foreach 'git pull origin master'\n</code></pre></p> <p>\u9488\u5bf9\u5355\u4e2a\u5b50\u6a21\u5757\uff0c\u53ef\u4ee5\u8fdb\u5165\u5bf9\u5e94\u76ee\u5f55\u5185pull <pre><code>cd project-sub-1\ngit pull origin master\n</code></pre> \u4e4b\u540e\u5b50\u6a21\u5757\u76ee\u5f55\u4e0b\u7684\u4ee3\u7801\u7248\u672c\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u8fd9\u65f6\u56de\u5230\u4e3b\u76ee\u5f55git status\u53ef\u4ee5\u770b\u5230\u5b50\u6a21\u5757\u6709\u65b0\u7684\u63d0\u4ea4\uff0c\u4f7f\u7528 git add/commit \u5c06\u5176\u6dfb\u52a0\u5230\u4e3b\u9879\u76ee\u7684\u4ee3\u7801\u63d0\u4ea4\u4e2d\u5373\u53ef\uff0c\u5b9e\u9645\u6539\u52a8\u5c31\u662f.gitmodules\u6587\u4ef6\u4e2d\u4fdd\u5b58\u7684\u5b50\u6a21\u5757\u7248\u672c\u4fe1\u606f\u3002</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#_5","title":"\u83b7\u53d6","text":"<p>\u901a\u5e38\u4e3b\u9879\u76ee\u4f7f\u7528clone \u64cd\u4f5c\u5e76\u4e0d\u4f1a\u62c9\u53d6\u5230\u5b50\u6a21\u5757\u4e2d\u7684\u5b9e\u9645\u4ee3\u7801\uff0c\u5982\u679c\u9700\u8981\uff0c\u53ef\u4ee5\u7528--recurse-submodules\u53c2\u6570 <pre><code>git clone https://github.com/username/project-main.git --recurse-submodules\n</code></pre></p> <p>\u5982\u679c\u4e3b\u9879\u76ee\u5df2\u4e0b\u8f7d\uff0c\u53ef\u4ee5\u7528submodule update --init(\u7b49\u4ef7\u4e8esubmodule init\u52a0submodule update)\uff0c\u5982\u679c\u5b50\u6a21\u5757\u76ee\u5f55\u4e2d\u5df2\u7ecf\u6709\u5185\u5bb9\uff0c\u8be5\u547d\u4ee4\u4e5f\u4f1a\u628a\u5176\u66f4\u65b0\u5230.gitmodules\u4e2d\u6307\u5b9a\u7684\u7248\u672c <pre><code>git submodule update --init\n</code></pre></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#_6","title":"\u5378\u8f7d","text":"<p>\u6839\u636e\u5b98\u65b9\u6587\u6863\u7684\u8bf4\u660e\uff0c\u5e94\u8be5\u4f7f\u7528 git submodule deinit \u547d\u4ee4\u5378\u8f7d\u4e00\u4e2a\u5b50\u6a21\u5757\u3002\u8fd9\u4e2a\u547d\u4ee4\u5982\u679c\u6dfb\u52a0\u4e0a\u53c2\u6570 --force\u6216\u8005 -f\uff0c\u5219\u5b50\u6a21\u5757\u5de5\u4f5c\u533a\u5185\u5373\u4f7f\u6709\u672c\u5730\u7684\u4fee\u6539\uff0c\u4e5f\u4f1a\u88ab\u79fb\u9664\u3002</p> <p>\u7136\u9e45\u5b9e\u6d4b\u53ea\u9760git submodule deinit\u662f\u5220\u4e0d\u5e72\u51c0\u7684\uff0c\u53c2\u8003 https://stackoverflow.com/questions/1260748/how-do-i-remove-a-submodule/36593218#36593218 \uff0c\u9700\u8981\u624b\u52a8\u5220\u9664.git/modules\u76ee\u5f55\u4e0b\u7684\u5bf9\u5e94\u6587\u4ef6\u5939\u7136\u540e\u518dgit rm\uff0c\u5982\u4e0b\uff1a <pre><code># Remove the submodule entry from .git/config\ngit submodule deinit project-sub-1\n# Remove the submodule directory from the superproject's .git/modules directory\nrm -rf .git/modules/project-sub-1\n# Remove the entry in .gitmodules and remove the submodule directory located at path/to/submodule\ngit rm -f project-sub-1\n</code></pre></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#x","title":"\u53ea\u4e0b\u8f7d\u6700\u65b0\u7684x\u4e2a\u7248\u672c","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#-depth","title":"--depth","text":"<p>\u4e00\u4e2arepo\u7ef4\u62a4\u65f6\u95f4\u4e45\u4e86\u4e4b\u540e\uff0c\u4f1a\u6709\u5927\u91cf\u7684\u5386\u53f2\u63d0\u4ea4\uff0c\u4f7f\u5f97\u6574\u4e2a\u7248\u672c\u5e93\u4f53\u79ef\u53d8\u7684\u5f88\u5927\u3002\u4f46\u7edd\u5927\u90e8\u5206\u65f6\u5019\uff0c\u5f00\u53d1\u8005\u5176\u5b9e\u5e76\u4e0d\u5173\u6ce8\u5386\u53f2\u66f4\u6539\uff0c\u53ea\u8981\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u5c31\u884c\u4e86\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u7528 --depth x\u6765\u63a7\u5236\u53ea\u62c9\u53d6\u6700\u8fd1\u7684x\u5c42\u63d0\u4ea4\uff1a <pre><code>git clone --depth 1 --branch ttt https://github.com/xxx/yyy.git\n</code></pre> \u4ee5\u4e0a\u547d\u4ee4\u4f1aclone yyy\u9879\u76ee\u5728ttt\u5206\u652f\u4e0a\u7684\u6700\u65b0\u7248\u672c\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f1\u662f\u5c42\u6570\u800c\u975e\u603b\u6570\uff0c\u4f8b\u5982\uff0c\u82e5\u6700\u540e\u4e00\u6b21\u63d0\u4ea4\u65f6merge\u4e86\u4e09\u4e2a\u63d0\u4ea4\uff0c\u90a3\u4e48 --depth 2\u4e00\u5171\u4f1a\u62c9\u53d64\u6b21\u63d0\u4ea4\u800c\u4e0d\u662f2\u6b21\u3002</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#-unshallow","title":"--unshallow","text":"<p>\u5982\u679c\u7528 --depth\u6d45\u5c42\u514b\u9686\u4e4b\u540e\u53c8\u9700\u8981\u4e0b\u8f7d\u5b8c\u6574\u7248\u672c\uff0c\u53ef\u4ee5\u7528 --unshallow\u6062\u590d\uff1a <pre><code>git fetch --unshallow\n</code></pre></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#_7","title":"\u5408\u5e76\u4e0d\u5fc5\u8981\u7684\u63d0\u4ea4","text":"<p>\u5927\u91cf\u96f6\u788e\u7684commit\u4f1a\u4f7f\u7248\u672c\u5386\u53f2\u53d8\u5f97\u6df7\u4e71\uff0c\u4e0d\u5229\u4e8e\u67e5\u627e\uff0c\u8fd9\u65f6\u53ef\u4ee5\u7528rebase\u6765\u5408\u5e76\u591a\u6b21commit\u7684\u5386\u53f2\u3002 <pre><code># \u5305\u62ecHEAD\u7248\u672c\u5728\u5185\uff0c\u6700\u8fd1\u76843\u4e2a\u7248\u672c\u4f1a\u88ab\u62c9\u51fa\u6765\u8be2\u95ee\u662f\u5426\u5408\u5e76\ngit rebase -i HEAD~3\n\n# \u5408\u5e76\u6307\u5b9a\u7248\u672c\u53f7\uff08\u4e0d\u5305\u542b\u6b64\u7248\u672c\uff09\n# \u6ce8\u610fcommitid\u5e94\u8be5\u662f\u8981\u5408\u5e76\u7684\u63d0\u4ea4\u4e2d\u6700\u65e9\u7684\uff0c\u4f8b\u5982\u8fde\u7eed\u4e09\u6b21\u63d0\u4ea4id\u5206\u522b\u4e3a111\uff0c222\uff0c333\uff0c\u8981\u5408\u5e76\u5b83\u4eec\uff0c\u9700\u8981\ngit rebase -i 111\n</code></pre> \u8fd0\u884c\u540e\u4f1a\u8fdb\u5165vi\u7f16\u8f91\u5668(\u5982\u679c\u662fvscode\u4f1a\u8df3\u51fa\u7f16\u8f91\u7a97\u53e3)\uff0c\u5982\u4e0b\uff0c\u5c06\u4e0d\u9700\u8981\u7684commit\u4ecepick\u6539\u4e3as(quash)\u6216f(ixup)\uff0c\u7136\u540e:wq\u4fdd\u5b58\u9000\u51fa <pre><code># \u6307\u5b9a\u8981\u5408\u5e76\u7248\u672c\u53f7\uff0ccf7e875 \u4e0d\u53c2\u4e0e\u5408\u5e76\uff0c\u8fdb\u5165 vi \u7f16\u8f91\u5668\n$ git rebase -i cf7e875 \npick 17cb931 fix &amp;&amp; add batch del\npick e57b0e6 fix &amp;&amp; add batch del\npick 2db6ad3 add clear logs scripts\npick 3a51aaa fix shellcheck problem\npick 9536dab add dingtalk script\npick 1d795e6 fix &amp;&amp; update clear-logs.sh 0.0.2\npick fc36a2a add links\npick 3759b84 update clear-logs.sh\npick 1693a6f update clear-logs.sh version\npick 8c8f3f4 update website\n\n# Rebase cf7e875..291e427 onto cf7e875 (10 commands)\n#\n# Commands:\n# p, pick = use commit\n# r, reword = use commit, but edit the commit message\n# e, edit = use commit, but stop for amending\n# s, squash = use commit, but meld into previous commit\n# f, fixup = like \"squash\", but discard this commit's log message\n# x, exec = run command (the rest of the line) using shell\n# d, drop = remove commit\n#\n# These lines can be re-ordered; they are executed from top to bottom.\n#\n# If you remove a line here THAT COMMIT WILL BE LOST.\n#\n# However, if you remove everything, the rebase will be aborted.\n#\n# Note that empty commits are commented out\n</code></pre> \u7136\u540e\u4f1a\u8fdb\u5165commit\u4fe1\u606f\u4fee\u6539\u754c\u9762\uff0c\u6539\u5b8c:wq\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u201cNo one shall rebase a shared branch\u201d\u2014\u2014\u5426\u5219\u5176\u4ed6\u4eba\u5408\u5e76\u65f6\u4f1a\u5f88\u75db\u82e6</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#rebasemerge","title":"Rebase\u548cmerge\u7684\u533a\u522b","text":"<p>Rebase means reapply commits on top of another base tip\u3002\u4e5f\u5c31\u662f\u5728\u65b0base\u4e0a\u628a\u81ea\u5df1\u7684\u6539\u52a8\u91cd\u65b0apply\u4e00\u904d  Merge means Join two or more development histories together\u3002\u539f\u5148\u7684\u6539\u52a8\u90fd\u4fdd\u7559\u4e0d\u53d8\uff0c\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u63d0\u4ea4\u628a\u4e24\u8fb9\u7684\u6539\u52a8\u90fd\u5408\u8fdb\u53bb </p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#stash","title":"\u4f7f\u7528stash\u6682\u5b58\u548c\u6062\u590d\u5f53\u524d\u5de5\u4f5c","text":"<p><code>git stash</code>\u547d\u4ee4\u7528\u4e8e\u6682\u65f6\u4fdd\u5b58\u6ca1\u6709\u63d0\u4ea4\u7684\u5de5\u4f5c\u3002\u8fd0\u884c\u8be5\u547d\u4ee4\u540e\uff0c\u6240\u6709\u5df2\u63d0\u4ea4\u5230\u6682\u5b58\u533a\uff0c\u4ee5\u53ca\u6ca1\u6709\u63d0\u4ea4\u7684\u4fee\u6539\u90fd\u5c06\u88ab\u5185\u90e8\u4fdd\u5b58\uff0c\u5de5\u4f5c\u533a\u6062\u590d\u5230\u4e0a\u4e00\u6b21commit\u7684\u72b6\u6001\u3002\u5b83\u5904\u4e8e<code>git reset --hard</code>\uff08\u5b8c\u5168\u653e\u5f03\u8fd8\u4fee\u6539\u4e86\u4e00\u534a\u7684\u4ee3\u7801\uff09\u4e0e<code>git commit</code>\uff08\u63d0\u4ea4\u4ee3\u7801\uff09\u547d\u4ee4\u4e4b\u95f4\uff0c\u5f88\u7c7b\u4f3c\u4e8e\u201c\u6682\u505c\u201d\u6309\u94ae\u3002</p> <p>\u540c\u65f6\u7ef4\u62a4\u591a\u4e2a\u5206\u652f\u7684\u60c5\u51b5\u4e0b\uff0c\u7528stash\u53ef\u4ee5\u5b9e\u73b0\u591a\u4e2a\u4efb\u52a1\u95f4\u7684\u7075\u6d3b\u5207\u6362\u3002\u4f8b\u5982\uff1a\u5728\u5206\u652fA\u6539\u5230\u4e00\u534a\u65f6\u6682\u5b58\uff0c\u5207\u6362\u5230\u5206\u652fB\u4fee\u6539\u5e76commit\uff0c\u7136\u540epop\u7ee7\u7eed\u5de5\u4f5c\u3002</p> <pre><code># \u6682\u65f6\u4fdd\u5b58\u6ca1\u6709\u63d0\u4ea4\u7684\u5de5\u4f5c\n$ git stash\nwarning: LF will be replaced by CRLF in \u8c46\u77e5\u8bc6/jupyter.ipynb.\nThe file will have its original line endings in your working directory\nSaved working directory and index state WIP on main: 6645a0b add readme.md\n\n# \u5217\u51fa\u6240\u6709\u6682\u65f6\u4fdd\u5b58\u7684\u5de5\u4f5c\n$ git stash list\nstash@{0}: WIP on main: 6645a0b add readme.md\nstash@{1}: WIP on main: 6645a0b add readme.md\n\n# \u6062\u590d\u67d0\u4e2a\u6682\u65f6\u4fdd\u5b58\u7684\u5de5\u4f5c\uff0c\u6062\u590d\u65f6\u4f1a\u4e0e\u5f53\u524d\u5de5\u4f5c\u533a\u7684\u4ee3\u7801\u5408\u5e76\uff0c\u6ce8\u610f\u4fdd\u5b58\u8d8a\u65e9\u7684stash\u6570\u5b57\u8d8a\u5927\uff0c0\u662f\u6700\u65b0\u7f13\u5b58\u7684\u90a3\u4e2a\n$ git stash apply stash@{1}\n\n# \u6062\u590d\u6700\u8fd1\u4e00\u6b21stash\u7684\u6587\u4ef6\uff0c\u5b83\u4f1a\u4e0e\u5f53\u524d\u5de5\u4f5c\u533a\u7684\u4ee3\u7801\u5408\u5e76\n$ git stash pop\n\n# \u4e22\u5f03\u6700\u8fd1\u4e00\u6b21stash\u7684\u6587\u4ef6\n$ git stash drop\n\n# \u4e22\u5f03\u5012\u6570\u7b2c\u4e8c\u4e2astash\n$ git stash drop stash@{1}\n\n# \u5220\u9664\u6240\u6709\u7684stash\n$ git stash clear\n\n# \u5c55\u793a\u76ee\u524d\u5b58\u5728\u7684stash\uff0c\u5982\u679c\u52a0 -p \uff0c\u4f1a\u663e\u793a\u5177\u4f53\u6539\u52a8\u5185\u5bb9\u5e76\u8fdb\u5165vi\u7f16\u8f91\u9875\u9762\n$ git stash show\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#github","title":"\u540c\u4e00\u673a\u5668\u4e0a\u4f7f\u7528\u591a\u4e2agithub\u8d26\u53f7","text":"<p>\u5047\u8bbe\u8981\u6dfb\u52a0\u7684github\u8d26\u53f7\u540d\u662fmy2ndgitaccount\uff0c\u6ce8\u518c\u90ae\u7bb1\u4e3amy2ndname@companyname.com.cn\u3002</p> <ul> <li>\u9996\u5148\u4e3a\u65b0\u8d26\u53f7\u751f\u6210ssh key\uff0c\u8d77\u540d\u4e3aid_companyname\u5e76\u6dfb\u52a0 <pre><code># \u751f\u6210key\u65f6\u5efa\u8bae\u4e0egithub\u6ce8\u518c\u65f6\u7684\u90ae\u4ef6\u5730\u5740\u4e00\u4e00\u5bf9\u5e94\uff0c\u65b9\u4fbf\u67e5\u627e\n$ ssh-keygen -t ed25519 -C \"my2ndname@companyname.com.cn\"\n# /c/Users/myname/.ssh/id_companyname\u662f\u521a\u521a\u751f\u6210\u7684key\u6587\u4ef6\u540d\u548c\u8def\u5f84\n$ ssh-add  /c/Users/myname/.ssh/id_companyname\n</code></pre></li> </ul> <ul> <li>\u5728my2ndgitaccount\u7684github\u7528\u6237\u9875\u9762\u627e\u5230SSH and GPG keys\uff0c\u9009\u62e9new SSH key\uff0c\u628a\u751f\u6210\u7684id_companyname.pub\u5185\u5bb9\u5b8c\u6574\u7c98\u8d34\u8fdb\u53bb\u4fdd\u5b58\u3002</li> <li>\u4e0b\u4e00\u6b65\uff0c\u7f16\u8f91\u672c\u5730.ssh\u76ee\u5f55\u4e2d\u7684config\u6587\u4ef6\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u6bb5\u843d <pre><code>Host host2nd # \u540d\u5b57\u968f\u4fbf\u8d77\n    HostName github.com # \u8fd9\u884c\u548c\u4e0b\u884c\u4e0d\u8981\u6539\n    User git\n    IdentityFile C:\\Users\\myname\\.ssh\\id_companyname # \u4f7f\u7528\u521a\u521a\u751f\u6210\u7684key\u6587\u4ef6\u540d\u548c\u8def\u5f84\uff0c\u6ce8\u610fwindows\u548clinux\u8def\u5f84\u683c\u5f0f\u4e0d\u540c\n</code></pre></li> </ul> <ul> <li>\u5bf9\u4e8e\u8981\u4f7f\u7528\u8fd9\u4e2a\u8d26\u53f7\u64cd\u4f5c\u7684repo\uff0c\u9996\u5148\u770b\u5168\u5c40\u8bbe\u7f6e\u4e2d\u7684user.name\u548cuser.email\u662f\u5426\u4e0e\u8be5\u8d26\u53f7\u4e00\u81f4\uff0c\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u5219\u4f7f\u7528\\(git config --local\\)\u8bbe\u7f6e\u4ec5\u5bf9\u5f53\u524d\u76ee\u5f55\u751f\u6548\u7684user.name\u548cuser.email\uff0c <pre><code>git config --list\ngit config --local user.email my2ndname@companyname.com.cn\ngit config --local user.name my2ndgitaccount\ngit config --list --local\n</code></pre></li> </ul> <ul> <li>\u4e4b\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528\\(host2nd\\)\u7684\u540d\u5b57\u6dfb\u52a0\u8fdc\u7a0b\u5e76\u53d1\u5e03\u4e86 <pre><code>git remote add origin git@host2nd:my2ndgitaccount/myrepo.git\n# \u5bf9\u6bd4\uff1a\u7528\u7f3a\u7701\u8d26\u53f7\u53d1\u5e03\u65f6\u5c31\u4e0d\u9700\u8981\u52a0git@host2nd\uff1a\n# git remote add origin https://github.com/my2ndgitaccount/myrepo.git\ngit push -u origin main\n</code></pre></li> </ul> <ul> <li>\u5982\u679c\u514b\u9686my2ndgitaccount\u7684repo\u65f6\u6307\u660e\u4f7f\u7528\\(host2nd\\)\uff0c\u540e\u7eed\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u548cpush\u3002\u4f46\u5982\u679c\u6ca1\u6709\u8bbe\u7f6euser.name\u548cuser.email\uff0cgithub\u4e0a\u770b\u5230\u7684\u4fee\u6539\u8bb0\u5f55\u4f1a\u662f\u6765\u81ea\u4e3b\u8d26\u53f7\u800c\u975emy2ndgitaccount\uff0c\u8fd9\u70b9\u9700\u8981\u6ce8\u610f <pre><code>git clone git@host2nd:my2ndgitaccount/myrepo.git\n</code></pre></li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#github_1","title":"\u540c\u4e00\u673a\u5668\u4e0a\u8fde\u63a5github\u548c\u5176\u5b83\u670d\u52a1\u5668","text":"<p>\u9996\u5148\u786e\u8ba4\u5168\u5c40\u7528\u6237\u540d\uff0cemail\u7b49\u5df2\u6e05\u9664\uff1a</p> <pre><code>git config --system --unset user.name\ngit config --system --unset user.email\ngit config --system --unset credential.helper\n</code></pre> <p>\u914d\u5b8c\u540e\u901a\u8fc7git config -l\u68c0\u67e5\u8fd9\u4e09\u9879\u786e\u5b9e\u6ca1\u4e86\u3002\u7136\u540e\u4e3a\u6bcf\u4e2a\u670d\u52a1\u5668\u751f\u6210\u5bc6\u94a5\u5e76\u8d77\u4e0d\u540c\u7684\u540d\u5b57\uff0c\u5c06\u5176\u653e\u5230ssh\u76ee\u5f55\uff08windows\u4e0b\u5728C:\\Users\\\u7528\u6237\u540d.ssh\uff09\u4e0b\uff1a</p> <pre><code>ssh-keygen -t rsa -C \"youremail@example.com\"\n</code></pre> <p>\u5728\u670d\u52a1\u5668\u4fa7\u6dfb\u52a0\u5bf9\u5e94\u7684ssh\u5bc6\u94a5\u3002\u6700\u540e\u5728ssh\u76ee\u5f55\u4e0b\u521b\u5efaconfig\u6587\u4ef6\uff0c\u5185\u5bb9\u793a\u4f8b\uff1a</p> <pre><code>    # \u8be5\u914d\u7f6e\u7528\u4e8e\u5de5\u4f5c\n    # Host \u670d\u52a1\u5668\u522b\u540d\n    Host 192.168.8.41\n    # HostName \u670d\u52a1\u5668ip\u5730\u5740\u6216\u673a\u5668\u540d\n    HostName 192.168.8.41\n    # User\u8fde\u63a5\u670d\u52a1\u5668\u7684\u7528\u6237\u540d\n    User zhizhang\n    # IdentityFile \u5bc6\u5319\u6587\u4ef6\u7684\u5177\u4f53\u8def\u5f84\n    IdentityFile C:/Users/HP/.ssh/id_rsa_gitlab\n\n\n    # \u8be5\u914d\u7f6e\u7528\u4e8egithub\n    # Host \u670d\u52a1\u5668\u522b\u540d\n    Host github.com\n    # HostName \u670d\u52a1\u5668ip\u5730\u5740\u6216\u673a\u5668\u540d\n    HostName github.com\n    # User\u8fde\u63a5\u670d\u52a1\u5668\u7684\u7528\u6237\u540d\n    User zhizhang77\n    # IdentityFile \u5bc6\u5319\u6587\u4ef6\u7684\u5177\u4f53\u8def\u5f84\n    IdentityFile C:/Users/HP/.ssh/id_rsa\n</code></pre> <p>\u4e4b\u540e\u63d0\u4ea4\u65f6\u8fd8\u6709\u53ef\u80fd\u4f1a\u8981\u6c42\u8f93\u5165\u7528\u6237\u540d\u548cemail\uff0c\u5982\u679c\u4e0d\u60f3\u6bcf\u6b21\u90fd\u8f93\u5165\uff0c\u53ef\u4ee5\u5728repo\u6240\u5728\u76ee\u5f55\u4e0b\u8bbe\u7f6e\u4e0d\u5e26--global\u7684\u7528\u6237\u4fe1\u606f\uff0c\u8fd9\u6837\u8be5\u7528\u6237\u540d\u548c\u7535\u90ae\u5c31\u53ea\u5bf9\u5f53\u524drepo\u751f\u6548\u4e86</p> <pre><code>    git config user.email \"you@example.com\"\ngit config user.name \"Your Name\"\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#gitgithub","title":"\u4e00\u4e9bgit\u548cgithub\u5c0f\u6280\u5de7","text":"<ul> <li>https://github.com/tiimgreen/github-cheat-sheet</li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#gitk","title":"gitk\u4e2d\u6587\u4e71\u7801\u95ee\u9898\u89e3\u51b3","text":"<ol> <li>\u6253\u5f00gitk-&gt;file\u83dc\u5355-&gt;start git gui</li> <li>git gui-&gt;edit\u83dc\u5355-&gt;options</li> <li>\u5c06local\u548cglobal\u7684default file contents encoding\u90fd\u6539\u4e3autf-8</li> <li>\u91cd\u542fgitk</li> </ol>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#github_2","title":"github\u56fe\u7247\u663e\u793a\u548c\u6587\u4ef6\u4e0b\u8f7d\u51fa\u9519","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#hosts","title":"\u6539hosts","text":"<p>\u5148\u5230https://www.ipaddress.com/ \u8f93\u5165raw.githubusercontent.com\u67e5\u8be2\u5230\u771f\u5b9eIP\u5730\u5740\uff0cping\u4e00\u4e0b\u9009\u62e9\u5ef6\u8fdf\u6700\u5c0f\u7684\uff0c\u7136\u540e\u624b\u52a8\u4fee\u6539hosts\u52a0\u6620\u5c04  - windows\u7cfb\u7edf\u7684hosts\u6587\u4ef6\u5728C:\\Windows\\System32\\drivers\\etc\u76ee\u5f55\u4e0b  - linux\u5728etc\u76ee\u5f55\u4e0b</p> <p>\u5f53\u7136\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u7ffb\u5899~</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/git/#cloudflare-workerpythongithub","title":"\u7528cloudflare worker\u6216python\u5bf9github\u8fdb\u884c\u8f6c\u53d1","text":"<p>https://github.com/hunshcn/gh-proxy \u73b0\u6210\u7ad9\u70b9\uff1a https://gh.api.99988866.xyz/ https://g.ioiox.com http://toolwa.com/github/</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/jupyter/","title":"jupyter\u76f8\u5173","text":"<p>\u548c\u51fd\u6570\u3001\u7c7b\u540d\u4e00\u6837\uff0c\u4efb\u610f\u53d8\u91cf\u4e5f\u53ef\u4ee5\u7528?\u770b\u65b9\u6cd5\u548c\u6210\u5458</p> In\u00a0[\u00a0]: Copied! <pre>a = 'hello world'\na?\n</pre> a = 'hello world' a? <p>\u5355\u95ee\u53f7?\u663e\u793a\u51fd\u6570docstr\uff0c\u53cc\u95ee\u53f7??\u663e\u793a\u6e90\u4ee3\u7801</p> In\u00a0[\u00a0]: Copied! <pre>def myadd(x,y):\n'''add y to x'''\n    return x+y\n\nmyadd??\n</pre> def myadd(x,y):     '''add y to x'''     return x+y  myadd?? <p>\u901a\u914d\u7b26*\u52a0?\u65b9\u4fbf\u67e5\u627e</p> In\u00a0[\u00a0]: Copied! <pre>str.*for*?\n</pre> str.*for*? In\u00a0[\u00a0]: Copied! <pre>from IPython.display import IFrame\nIFrame('http://www.baidu.com', width=1000, height=300)\n</pre> from IPython.display import IFrame IFrame('http://www.baidu.com', width=1000, height=300) In\u00a0[\u00a0]: Copied! <pre>from IPython.display import Image\nImage('../images/1.gif')\n</pre> from IPython.display import Image Image('../images/1.gif') In\u00a0[\u00a0]: Copied! <pre>from IPython.display import IFrame\nIFrame('../cheatsheets/Importing Data File.pdf', width=1000, height=300) # output varies depend on browser\n</pre> from IPython.display import IFrame IFrame('../cheatsheets/Importing Data File.pdf', width=1000, height=300) # output varies depend on browser In\u00a0[\u00a0]: Copied! <pre>from ipywidgets import interact\nimport ipywidgets as widgets\n\ndef f(x):\n    return x\n</pre> from ipywidgets import interact import ipywidgets as widgets  def f(x):     return x In\u00a0[\u00a0]: Copied! <pre># Generate a slider \ninteract(f, x=10);\n</pre> # Generate a slider  interact(f, x=10); In\u00a0[\u00a0]: Copied! <pre>interact(f, x=True);\n</pre> interact(f, x=True); In\u00a0[\u00a0]: Copied! <pre>interact(f, x='Hi there!');\n</pre> interact(f, x='Hi there!'); In\u00a0[\u00a0]: Copied! <pre>interact(f, x=['Okay','No way']);\n</pre> interact(f, x=['Okay','No way']); In\u00a0[\u00a0]: Copied! <pre>interact(f, x=[('one', 10), ('two', 20)]);\n</pre> interact(f, x=[('one', 10), ('two', 20)]); In\u00a0[\u00a0]: Copied! <pre>play = widgets.Play(\n    # interval=10,\n    value=50,\n    min=0,\n    max=100,\n    step=1,\n    description=\"Press play\",\n    disabled=False\n)\nslider = widgets.IntSlider()\nwidgets.jslink((play, 'value'), (slider, 'value'))\nwidgets.HBox([play, slider])\n</pre> play = widgets.Play(     # interval=10,     value=50,     min=0,     max=100,     step=1,     description=\"Press play\",     disabled=False ) slider = widgets.IntSlider() widgets.jslink((play, 'value'), (slider, 'value')) widgets.HBox([play, slider]) In\u00a0[\u00a0]: Copied! <pre>widgets.DatePicker(\n    description='Pick a Date',\n    disabled=False\n)\n</pre> widgets.DatePicker(     description='Pick a Date',     disabled=False ) In\u00a0[\u00a0]: Copied! <pre>widgets.ColorPicker(\n    concise=False,\n    description='Pick a color',\n    value='blue',\n    disabled=False\n)\n</pre> widgets.ColorPicker(     concise=False,     description='Pick a color',     value='blue',     disabled=False ) In\u00a0[\u00a0]: Copied! <pre>tab_contents = ['P0', 'P1', 'P2', 'P3', 'P4']\nchildren = [widgets.Text(description=name) for name in tab_contents]\ntab = widgets.Tab()\ntab.children = children\nfor i in range(len(children)):\n    tab.set_title(i, str(i))\ntab\n</pre> tab_contents = ['P0', 'P1', 'P2', 'P3', 'P4'] children = [widgets.Text(description=name) for name in tab_contents] tab = widgets.Tab() tab.children = children for i in range(len(children)):     tab.set_title(i, str(i)) tab In\u00a0[\u00a0]: Copied! <pre>from ipywidgets import interactive\nimport matplotlib.pyplot as plt\nimport numpy as np\n\ndef f(m, b):\n    plt.figure(2)\n    x = np.linspace(-10, 10, num=1000)\n    plt.plot(x, m * x + b)\n    plt.ylim(-5, 5)\n    plt.show()\n\ninteractive_plot = interactive(f, m=(-2.0, 2.0), b=(-3, 3, 0.5))\noutput = interactive_plot.children[-1]\noutput.layout.height = '350px'\ninteractive_plot\n</pre> from ipywidgets import interactive import matplotlib.pyplot as plt import numpy as np  def f(m, b):     plt.figure(2)     x = np.linspace(-10, 10, num=1000)     plt.plot(x, m * x + b)     plt.ylim(-5, 5)     plt.show()  interactive_plot = interactive(f, m=(-2.0, 2.0), b=(-3, 3, 0.5)) output = interactive_plot.children[-1] output.layout.height = '350px' interactive_plot In\u00a0[\u00a0]: Copied! <pre># \u590d\u5408\u529f\u80fd\nfrom ipywidgets import Layout, Button, Box, FloatText, Textarea, Dropdown, Label, IntSlider\n\nform_item_layout = Layout(\n    display='flex',\n    flex_flow='row',\n    justify_content='space-between'\n)\n\nform_items = [\n    Box([Label(value='Age of the captain'), IntSlider(min=40, max=60)], layout=form_item_layout),\n    Box([Label(value='Egg style'),\n         Dropdown(options=['Scrambled', 'Sunny side up', 'Over easy'])], layout=form_item_layout),\n    Box([Label(value='Ship size'),\n         FloatText()], layout=form_item_layout),\n    Box([Label(value='Information'),\n         Textarea()], layout=form_item_layout)\n]\n\nform = Box(form_items, layout=Layout(\n    display='flex',\n    flex_flow='column',\n    border='solid 2px',\n    align_items='stretch',\n    width='50%'\n))\nform\n</pre> # \u590d\u5408\u529f\u80fd from ipywidgets import Layout, Button, Box, FloatText, Textarea, Dropdown, Label, IntSlider  form_item_layout = Layout(     display='flex',     flex_flow='row',     justify_content='space-between' )  form_items = [     Box([Label(value='Age of the captain'), IntSlider(min=40, max=60)], layout=form_item_layout),     Box([Label(value='Egg style'),          Dropdown(options=['Scrambled', 'Sunny side up', 'Over easy'])], layout=form_item_layout),     Box([Label(value='Ship size'),          FloatText()], layout=form_item_layout),     Box([Label(value='Information'),          Textarea()], layout=form_item_layout) ]  form = Box(form_items, layout=Layout(     display='flex',     flex_flow='column',     border='solid 2px',     align_items='stretch',     width='50%' )) form <p>\u7528Jupyter\u5185\u7f6e\u7684PPT\u9009\u9879\uff0c\u4f9d\u6b21\u70b9\u51fb\u83dc\u5355\u680f\u91cc\u7684View \u2192 Cell Toolbar \u2192 Slideshow\uff0c\u4e4b\u540e\u6bcf\u4e2a\u5355\u5143\u683c\u4e0a\u9762\u90fd\u4f1a\u6709\u4e00\u4e2a\u7070\u8272\u7684\u6a2a\u6761\uff0c\u9009Sub-Slide\u3002</p> <p>\u7136\u540e\u5728\u547d\u4ee4\u884c\u8f93\u5165\u4ee5\u4e0b\u4ee3\u7801</p> <pre><code>jupyter nbconvert *.ipynb --to slides --post serve\n# insert your notebook name instead of *.ipynb\n</code></pre> In\u00a0[\u00a0]: Copied! <pre>%lsmagic\n</pre> %lsmagic In\u00a0[\u00a0]: Copied! <pre>%quickref\n</pre> %quickref In\u00a0[\u00a0]: Copied! <pre>%timeit?\n</pre> %timeit? In\u00a0[\u00a0]: Copied! <pre>%magic??\n</pre> %magic?? In\u00a0[\u00a0]: Copied! <pre>%timeit a = range(10)\nmin(a)\n# line mode: \u6267\u884c\u5f53\u524d\u884c\u7684\u6307\u4ee4\uff0c\u5982\u4e0a\u4f8b\u4e2dmin(a)\u7684\u65f6\u95f4\u4e0d\u4f1a\u88ab\u8ba1\u5165\n</pre> %timeit a = range(10) min(a) # line mode: \u6267\u884c\u5f53\u524d\u884c\u7684\u6307\u4ee4\uff0c\u5982\u4e0a\u4f8b\u4e2dmin(a)\u7684\u65f6\u95f4\u4e0d\u4f1a\u88ab\u8ba1\u5165 In\u00a0[\u00a0]: Copied! <pre>%%timeit a = range (10)\nmin(a)\n# cell mode: \u6267\u884c\u6574\u4e2acell\uff0c\u6ce8\u610f%%\u53ea\u80fd\u653e\u5728\u5f53\u524dcell\u7684\u7b2c\u4e00\u884c\uff0c\u800cline mode\u5219\u6ca1\u6709\u8fd9\u4e2a\u9650\u5236\n</pre> %%timeit a = range (10) min(a) # cell mode: \u6267\u884c\u6574\u4e2acell\uff0c\u6ce8\u610f%%\u53ea\u80fd\u653e\u5728\u5f53\u524dcell\u7684\u7b2c\u4e00\u884c\uff0c\u800cline mode\u5219\u6ca1\u6709\u8fd9\u4e2a\u9650\u5236 <p>\u5728\u5f00\u59cb\u83dc\u5355\u91cc\u627e\u5230\u5e76\u6253\u5f00Anaconda Prompt\uff0c\u8f93\u5165\u5982\u4e0b\u547d\u4ee4\uff0c\u7136\u540e\u6267\u884c\u3002</p> <p>$jupyter notebook --generate-config$</p> <p>\u7136\u540e\u7528\u6587\u672c\u7f16\u8f91\u5668\u6253\u5f00C:\\Users\\username.jupyter\\jupyter_notebook_config.py\uff0c\u641c\u7d22\"c.NotebookApp.notebook_dir\"\uff0cuncomment\u5b83\u5e76\u5c06\u5176\u8bbe\u4e3a\u4f60\u60f3\u8981\u7684\u76ee\u5f55\uff0c\u5982c.NotebookApp.notebook_dir = 'D:\\work'\u3002</p> <p>\u6700\u540e\u5728win\u5f00\u59cb\u83dc\u5355\u4e2d\u627e\u5230jupyter notebook\u5feb\u6377\u56fe\u6807\uff0c\u9f20\u6807\u53f3\u952e&gt;&gt;\u5c5e\u6027&gt;&gt;\u5feb\u6377\u65b9\u5f0f&gt;&gt;\u76ee\u6807\uff0c\u5220\u9664\u6700\u540e\u7684 \"%USERPROFILE%/\"\u5373\u53ef</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/jupyter/#jupyter","title":"jupyter\u76f8\u5173\u00b6","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/jupyter/","title":"\u770b\u5c5e\u6027\u00b6","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/jupyter/#etc","title":"\u5d4c\u5165\u94fe\u63a5\u3001\u56fe\u50cf\u3001etc\u00b6","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/jupyter/#ipywidgets","title":"\u5404\u79cdipywidgets\u63d2\u4ef6\u00b6","text":"<p>ipywidgets\u53ef\u901a\u8fc7<code>pip install -U ipywidgets</code>\u5b89\u88c5\uff0c\u9700\u8981jupyterlab3.0.0\u4ee5\u4e0a</p> <p>\u8be6\u7ec6\u8bf4\u660e\uff1a https://ipywidgets.readthedocs.io/en/latest/examples/Using%20Interact.html</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/jupyter/#ppt","title":"ppt\u663e\u793a\u00b6","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/jupyter/","title":"\u9b54\u672f\u5b57\u00b6","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/jupyter/#magic-command","title":"magic command\u7684\u4e24\u79cd\u8fd0\u884c\u6a21\u5f0f\u00b6","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/jupyter/#pythonnotebook","title":"\u5176\u5b83\u73af\u5883\u4e0b\u8fd0\u884c\u6b63\u5e38\u7684python\u4ee3\u7801\u5728notebook\u4e2d\u4e0d\u5de5\u4f5c\u00b6","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/jupyter/#1-python","title":"\u53ef\u80fd1: \u53f3\u4e0a\u89d2\u663e\u793a\u7684python\u7248\u672c\u548c\u5b9e\u9645\u60c5\u51b5\u4e0d\u4e00\u81f4\u00b6","text":"<p>\u5728\u83dc\u5355\u201c\u5e2e\u52a9-&gt;\u5173\u4e8e\u201d\u4e2d\u53ef\u4ee5\u770b\u5230\u5f53\u524d\u8fd0\u884c\u7684notebook\u548cPython\u7248\u672c\uff0c\u82e5\u786e\u5b9e\u6709\u95ee\u9898\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u6267\u884cjupyter kernelspec list\uff0c\u5047\u8bbe\u663e\u793a\u5982\u4e0b\uff08\u5176\u4e2dpython3\u5de5\u4f5c\u4e0d\u6b63\u5e38\uff09\uff1a</p> <p>Available kernels:</p> <pre><code>  python2    /usr/local/share/jupyter/kernels/python2  \n  python3    /usr/local/share/jupyter/kernels/python3\n\n</code></pre> <p>\u5230/usr/local/share/jupyter/kernels/python3\u76ee\u5f55\u4e0b\uff0c\u7f16\u8f91kernel.json\uff0c\u5982\u4e0b\uff1a</p> <pre>{\n\"argv\": [\n\"python\",\n\"-m\",\n\"ipykernel_launcher\",\n\"-f\",\n\"{connection_file}\"\n],\n\"display_name\": \"Python 3\",\n\"language\": \"python\"\n}\n</pre> <p>\u53ef\u4ee5\u770b\u5230python3\u4e5f\u662f\u76f4\u63a5\u6267\u884cpython\u547d\u4ee4\uff0c\u800c\u5f53\u524d\u7cfb\u7edf\u9ed8\u8ba4python\u7248\u672c\u662f2.7\uff0c\u6240\u4ee5\u4f1a\u6709\u95ee\u9898\uff0c\u628aargv\u4e0b\u4e00\u884c\u7684python\u6539\u6210python3\u5c31ok\u4e86</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/jupyter/#windowsnotebook","title":"\u4fee\u6539windows\u4e0bnotebook\u7684\u542f\u52a8\u76ee\u5f55\u00b6","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/opencv/","title":"opencv\u76f8\u5173","text":"<ul> <li>opencv\u76f8\u5173<ul> <li>contour\u7684\u683c\u5f0f</li> <li>\u5c06\u7070\u5ea6\u56fe\u6216\u8005\u63a9\u6a21\u6269\u5c55\u52303\u901a\u9053\u4e0a\uff0c\u4ee5\u4fbf\u4e0e\u5f69\u8272\u56fe\u7247\u4e92\u64cd\u4f5c</li> <li>\u68c0\u67e5\u5f53\u524dopencv\u7684build\u4fe1\u606f</li> </ul> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/opencv/#contour","title":"contour\u7684\u683c\u5f0f","text":"<pre><code># -*- coding: utf-8 -*-\n\nimport os\nimport numpy as np\nimport cv2\nimport matplotlib.pyplot as plt\n\nimg = np.zeros((720, 1280, 3), dtype=np.uint8)\ncont = np.zeros((4, 1, 2), dtype=np.int32)\ncont[0][0] = (212, 69)\ncont[1][0] = (1012, 102)\ncont[2][0] = (989, 569)\ncont[3][0] = (210, 526)\ncc = [cont]\n# cont = [cont1,cont2,cont3,cont4]\n# cont = [np.array(((((212,69))),(((2012,102))),(((1989,769))),(((210,726)))))]\nimg2 = img.copy()\ncv2.drawContours(img2, cc, -1, (0, 0, 255), cv2.FILLED)\nimg1 = cv2.addWeighted(img2, 0.5, img, 0.5, 0)\nimg1 = cv2.cvtColor(img1, cv2.COLOR_RGB2BGR)\n\nplt.figure(figsize=(10, 10))\nplt.subplot(121)\nplt.imshow(img)\nplt.subplot(122)\nplt.imshow(img1)\nplt.show()\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/opencv/#3","title":"\u5c06\u7070\u5ea6\u56fe\u6216\u8005\u63a9\u6a21\u6269\u5c55\u52303\u901a\u9053\u4e0a\uff0c\u4ee5\u4fbf\u4e0e\u5f69\u8272\u56fe\u7247\u4e92\u64cd\u4f5c","text":"<pre><code>mask3channel = np.expand_dims(mask,2).repeat(3,axis=2)\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/opencv/#opencvbuild","title":"\u68c0\u67e5\u5f53\u524dopencv\u7684build\u4fe1\u606f","text":"<p><code>print(cv2.getBuildInformation()</code>\u53ef\u4ee5\u663e\u793a\u7f16\u8bd1\u65f6\u4f7f\u7528\u7684\u6a21\u5757\u3001\u4f9d\u8d56\u7b49\u4fe1\u606f\uff0c\u4e0ecmake\u65f6\u8f93\u51fa\u7684\u4e00\u81f4</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/os/","title":"OS\u76f8\u5173","text":"<ul> <li>OS\u76f8\u5173<ul> <li>windows+ubuntu\u53cc\u7cfb\u7edf\u65f6\u95f4\u4e0d\u4e00\u81f4</li> <li>Ubuntu\u542f\u52a8\u65f6\u81ea\u52a8\u6267\u884c\u811a\u672c\u7684\u51e0\u79cd\u65b9\u5f0f</li> <li>\u4e0d\u5378\u8f7d\u7a0b\u5e8f\u7684\u60c5\u51b5\u4e0b\u9632\u6b62\u5176\u670d\u52a1\u5f00\u5173\u673a\u542f\u52a8</li> <li>\u8bbe\u7f6e\u6253\u5370\u673a</li> <li>win10\u4e0b\u4f7f\u7528sfc(system file checker)\u4fee\u590d\u7cfb\u7edf\u6587\u4ef6</li> </ul> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/os/#windowsubuntu","title":"windows+ubuntu\u53cc\u7cfb\u7edf\u65f6\u95f4\u4e0d\u4e00\u81f4","text":"<p>- \u95ee\u9898\uff1a\u540c\u4e00\u673a\u5668\u4e0a\u5b89\u88c5windows+ubuntu\u53cc\u7cfb\u7edf\u65f6\uff0c\u4e24\u4e2a\u7cfb\u7edf\u65f6\u95f4\u76f8\u5dee\u516b\u5c0f\u65f6   - \u539f\u56e0\uff1awindows\u7f3a\u7701\u4f7f\u7528\u7cfb\u7edf\u65f6\u95f4\uff08\u4e1c\u516b\u533a\uff09\uff0c\u800cLinux\u7f3a\u7701\u4f7f\u7528UTC   - \u89e3\u51b3\u65b9\u6848\uff1awindows\u4e0b\u542f\u52a8regedit\uff0c\u5728 HKEY_LOCAL_MACHINE/SYSTEM/CurrentControlSet/Control/TimeZoneInformation/\u4e0b\u589e\u52a0\u7c7b\u578b\u4e3a REG_DWORD\u7684\u952e\u503c\uff0c\u547d\u540d\u4e3aRealTimeIsUniversal\uff0c\u503c\u4e3a1\uff0c \u4fdd\u5b58\u540e\u91cd\u542f\u5373\u53ef</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/os/#ubuntu","title":"Ubuntu\u542f\u52a8\u65f6\u81ea\u52a8\u6267\u884c\u811a\u672c\u7684\u51e0\u79cd\u65b9\u5f0f","text":"<p>Ubuntu\u542f\u52a8\u65f6\u81ea\u52a8\u6267\u884c\u811a\u672c\u6709\u51e0\u79cd\u65b9\u5f0f\uff1a</p> <ul> <li>/etc/profile:\u5728\u767b\u5f55\u65f6,\u64cd\u4f5c\u7cfb\u7edf\u5b9a\u5236\u7528\u6237\u73af\u5883\u65f6\u4f7f\u7528\u7684\u7b2c\u4e00\u4e2a\u6587\u4ef6 ,\u6b64\u6587\u4ef6\u4e3a\u7cfb\u7edf\u7684\u6bcf\u4e2a\u7528\u6237\u8bbe\u7f6e\u73af\u5883\u4fe1\u606f,\u4ec5\u5f53\u7528\u6237\u7b2c\u4e00\u6b21\u767b\u5f55\u65f6,\u8be5\u6587\u4ef6\u88ab\u6267\u884c\u3002\u8be5\u6587\u4ef6\u4f1a\u904d\u5386/etc/profile.d/\u76ee\u5f55\u4e0b\u7684\u6bcf\u4e2a\u6587\u4ef6\u5e76\u6267\u884c\uff0c\u6240\u4ee5\u901a\u5e38\u4e0d\u63a8\u8350\u76f4\u63a5\u4fee\u6539profile\u672c\u8eab\uff0c\u800c\u662f\u628a\u8981\u6267\u884c\u7684\u811a\u672c\u4f5c\u4e3a\u72ec\u7acb\u6587\u4ef6\u653e\u5230/etc/profile.d/\u91cc\uff0c\u8fd9\u6837\u9700\u8981\u6062\u590d\u539f\u72b6\u65f6\u53ea\u8981\u5220\u9664\u8be5\u6587\u4ef6\u5c31\u53ef\u4ee5\u4e86</li> </ul> <ul> <li>/etc/environment:\u5728\u767b\u5f55\u65f6\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u7684\u7b2c\u4e8c\u4e2a\u6587\u4ef6, \u7cfb\u7edf\u5728\u8bfb\u53d6\u4f60\u81ea\u5df1\u7684profile\u524d,\u8bbe\u7f6e\u73af\u5883\u6587\u4ef6\u7684\u73af\u5883\u53d8\u91cf\u3002</li> </ul> <ul> <li>~/.profile: \u5728\u767b\u5f55\u65f6\u7528\u5230\u7684\u7b2c\u4e09\u4e2a\u6587\u4ef6\u662f.profile\u6587\u4ef6,\u6bcf\u4e2a\u7528\u6237\u90fd\u53ef\u4f7f\u7528\u8be5\u6587\u4ef6\u8f93\u5165\u4e13\u7528\u4e8e\u81ea\u5df1\u4f7f\u7528\u7684shell\u4fe1\u606f,\u5f53\u7528\u6237\u767b\u5f55\u65f6,\u8be5\u6587\u4ef6\u4ec5\u4ec5\u6267\u884c\u4e00\u6b21!\u9ed8\u8ba4\u60c5\u51b5\u4e0b,\u4ed6\u8bbe\u7f6e\u4e00\u4e9b\u73af\u5883\u53d8\u91cf,\u6267\u884c\u7528\u6237\u7684.bashrc\u6587\u4ef6\u3002</li> </ul> <ul> <li>/etc/bashrc:\u4e3a\u6bcf\u4e00\u4e2a\u8fd0\u884cbash shell\u7684\u7528\u6237\u6267\u884c\u6b64\u6587\u4ef6.\u5f53bash shell\u88ab\u6253\u5f00\u65f6,\u8be5\u6587\u4ef6\u88ab\u6267\u884c\u3002</li> </ul> <ul> <li>~/.bashrc:\u8be5\u6587\u4ef6\u5305\u542b\u4e13\u7528\u4e8e\u4f60\u7684bash shell\u7684bash\u4fe1\u606f,\u5f53\u767b\u5f55\u65f6\u4ee5\u53ca\u6bcf\u6b21\u6253\u5f00\u65b0\u7684shell\u65f6,\u8be5\u6587\u4ef6\u88ab\u6267\u884c\u3002</li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/os/#_1","title":"\u4e0d\u5378\u8f7d\u7a0b\u5e8f\u7684\u60c5\u51b5\u4e0b\u9632\u6b62\u5176\u670d\u52a1\u5f00\u5173\u673a\u542f\u52a8","text":"<p>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0csystemd\u5f00\u673a\u542f\u52a8\u7684\u670d\u52a1\u4f1a\u88ab\u6807\u4e3aenabled\uff0c\u53ef\u4ee5\u7528systemctl\u5217\u51fa\uff1a <pre><code>systemctl list-unit-files --type=service | grep enabled\n</code></pre> \u76f4\u63a5\u7528<code>sudo systemctl disable xxx.service</code>\u5c31\u80fd\u9632\u6b62\u5176\u5f00\u673a\u542f\u52a8\u3002\u4f46\u5b9e\u9645\u4e0a\uff0cdisable\u7684\u670d\u52a1\u8fdb\u7a0b\u4ecd\u7136\u53ef\u80fd\u88ab\u53e6\u5916\u4e00\u4e2a\u670d\u52a1\u8fdb\u7a0b\u5524\u8d77\u3002\u5982\u679c\u5e0c\u671b\u5b8c\u5168\u7981\u6b62\u8be5\u8fdb\u7a0b\u542f\u52a8\uff0c\u540c\u65f6\u4e0d\u5378\u8f7d\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u628a\u5b83mask\u8d77\u6765\uff1a <pre><code>sudo systemctl mask xxx.service\n</code></pre> mask\u4f1a\u628a\u8be5\u670d\u52a1\u7684\u7b26\u53f7\u94fe\u63a5\u6307\u5411/dev/null\uff0c\u8fd9\u6837\u4efb\u4f55\u5524\u8d77\u8bf7\u6c42\u90fd\u4e0d\u751f\u6548\u3002</p> <p>\u67d0\u4e9b\u7a0b\u5e8f\u5982mysql\u8fd8\u4f1a\u5728\u5b89\u88c5\u5378\u8f7d\u65f6\u90fd\u5f3a\u884c\u542f\u52a8\u670d\u52a1\u72b6\u6001\u68c0\u67e5\uff0c\u8fd9\u6837\u5982\u679c\u5b89\u88c5\u51fa\u95ee\u9898\uff0c\u8f6f\u4ef6\u5c31\u65e0\u6cd5\u5378\u8f7d\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e5f\u53ef\u4ee5\u5148\u628a\u5176mask\u6389\u518d\u5378\u3002</p> <p>\u53e6\u5916\u4e00\u4e2a\u5f00\u673a\u81ea\u542f\u52a8\u7684\u9014\u5f84\u662f\u628a\u94fe\u63a5\u653e\u5230 /etc/init.d \u76ee\u5f55\u5185\u3002</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/os/#_2","title":"\u8bbe\u7f6e\u6253\u5370\u673a","text":"<p>Ubuntu\u7684\u8bbe\u7f6e-&gt;\u6253\u5370\u673a\u6709\u65f6\u4f1a\u51fa\u9519\u6253\u4e0d\u5f00\uff0c\u8fd9\u65f6\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7CUPS\uff08Common UNIX Printing System\uff09\u7684\u7f51\u9875\u754c\u9762http://localhost:631 \u6765\u5b9e\u73b0\u7ba1\u7406\uff0c\u64cd\u4f5c\u65f6\u5982\u679c\u63d0\u793a\u8f93\u5165\u7528\u6237\u540d\u5bc6\u7801\uff0c\u7528Linux\u8d26\u6237\u5373\u53ef</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/os/#win10sfcsystem-file-checker","title":"win10\u4e0b\u4f7f\u7528sfc(system file checker)\u4fee\u590d\u7cfb\u7edf\u6587\u4ef6","text":"<p>\u7528admin\u8d26\u6237\u6253\u5f00\u547d\u4ee4\u884c\u6216\u8005powershell\uff0c\u7136\u540e\u8fd0\u884c<code>sfc /scannow</code>\uff0c\u8be5\u547d\u4ee4\u4f1a\u81ea\u52a8\u6821\u9a8c\u7cfb\u7edf\u6587\u4ef6\u5e76\u4fee\u590d\uff0c\u53ef\u4ee5\u89e3\u51b3\u4e00\u4e9b\u5947\u5947\u602a\u602a\u7684\u5f02\u5e38\u73b0\u8c61\u3002\u6267\u884c\u5b8c\u4e4b\u540e\u5728\u63d0\u793a\u4f4d\u7f6e\u7684CBS.log\u4e2d\u53ef\u4ee5\u770b\u5230\u53d7\u5f71\u54cd\u7684\u6587\u4ef6\u5217\u8868\u3002</p> <p>\u53e6\u4e00\u4e2a\u547d\u4ee4\u662f<code>DISM.exe /Online /Cleanup-Image /Restorehealth</code>\uff0c\\(/Online\\)\u8868\u793a\u68c0\u67e5\u5f53\u524d\u8fd0\u884c\u4e2d\u7684\u7cfb\u7edf\uff0c\\(/Cleanup-Image\\)\u8868\u793a\u7cfb\u7edf\u8fd8\u539f\uff0c\\(/Restorehealth\\)\u8868\u793a\u4fee\u590d\u635f\u574f\u7684\u6587\u4ef6\u3002</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/","title":"python\u76f8\u5173","text":"<ul> <li>python\u76f8\u5173<ul> <li>\u591apython\u7248\u672c\u5171\u5b58\u65f6\u4f7f\u7528pip</li> <li>\u8c46\u74e3\u6e90\u5730\u5740</li> <li>\u5c0f\u77e5\u8bc6\u548c\u8bed\u6cd5\u7cd6<ul> <li>\u5b57\u7b26\u4e32\u548c\u5217\u8868\u901a\u7528\u7684\u9006\u5e8f\u65b9\u6cd5</li> <li>\u6709\u653e\u56de\u968f\u673a\u91c7\u6837\u548c\u65e0\u653e\u56de\u968f\u673a\u91c7\u6837</li> <li>\u5927\u6570\u5b57\u4e2d\u95f4\u53ef\u4ee5\u52a0\u4e0b\u5212\u7ebf</li> <li>\u4e09\u5143\u8fd0\u7b97\u7b26</li> <li>== \u548c is</li> <li>\u65e0\u9650\u503c</li> <li>zip\u6253\u5305</li> <li>\u628a\u64cd\u4f5cmap\u5230\u5217\u8868\u6216\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e0a</li> <li>iter\u6392\u5e8f\u548c\u6392\u5217\u7ec4\u5408</li> <li>enumerate\u5b9e\u73b0\u52a0\u7d22\u5f15\u7684\u679a\u4e3e</li> <li>\u8c03\u7528\u5916\u90e8\u547d\u4ee4\u5e76\u68c0\u67e5\u8fd4\u56de\u7ed3\u679c</li> <li>\u51fd\u6570\u53ef\u4ee5\u7528 * \u548c  \u8fd0\u7b97\u7b26\u4f20\u9012\u591a\u4e2a\u51fd\u6570\u53c2\u6570\u3002* \u5305\u542b\u6240\u6709\u4e0d\u5e26\u540d\u5b57\u7684\u53c2\u6570\uff0c  \u5305\u542b\u6240\u6709\u5e26\u540d\u5b57\u7684\u53c2\u6570</li> <li>\u7528\u88c5\u9970\u5668\u5bf9\u51fd\u6570\u8fdb\u884c\u5c01\u88c5\u53ef\u4ee5\u4e0d\u5f71\u54cd\u5176\u5b83\u4ee3\u7801</li> <li>\u9519\u8bef\u3001\u8b66\u544a\u548c\u8c03\u8bd5\u4fe1\u606f<ul> <li>\u9519\u8bef</li> <li>\u8b66\u544a</li> <li>\u63a7\u5236\u8b66\u544a\u6d88\u606f\u7684\u8f93\u51fa</li> <li>\u53ea\u5728\u8c03\u8bd5\u65f6\u6267\u884c\u7684\u8bed\u53e5</li> </ul> </li> <li>\u67e5\u770b\u7f16\u8bd1\u540e\u7684\u4ee3\u7801</li> <li>\u4ee3\u7801\u8017\u65f6\u6d4b\u8bd5</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#pythonpip","title":"\u591apython\u7248\u672c\u5171\u5b58\u65f6\u4f7f\u7528pip","text":"<p>\u7528<code>python\u7248\u672c\u53f7 -m pip</code>\u7684\u65b9\u6cd5\u53ef\u4ee5\u4fdd\u8bc1\u5728\u6b63\u786e\u7684python\u7248\u672c\u4e0b\u64cd\u4f5c\uff1a</p> <pre><code>python3.7 -m pip install numpy\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_1","title":"\u8c46\u74e3\u6e90\u5730\u5740","text":"<p><pre><code>sudo -H pip install numpy -i http://pypi.douban.com/simple/ --trusted-host=pypi.douban.com/simple\n# \u6216\u8005\nsudo -H pip install numpy -i https://pypi.doubanio.com/simple\n</code></pre> \u4e5f\u53ef\u5c06\u5176\u8bbe\u4e3a\u7f3a\u7701\u6e90 <pre><code>pip config set global.index-url https://pypi.doubanio.com/simple\n</code></pre></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_2","title":"\u5c0f\u77e5\u8bc6\u548c\u8bed\u6cd5\u7cd6","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_3","title":"\u5b57\u7b26\u4e32\u548c\u5217\u8868\u901a\u7528\u7684\u9006\u5e8f\u65b9\u6cd5","text":"<pre><code>a = [1,2,3,4]\nb = a[::-1]\nprint(b)\nc = 'how dare you'\nd = c[::-1]\nprint(d)\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_4","title":"\u6709\u653e\u56de\u968f\u673a\u91c7\u6837\u548c\u65e0\u653e\u56de\u968f\u673a\u91c7\u6837","text":"<pre><code>import random\nrandom.choices(seq, k=1)  # \u957f\u5ea6\u4e3ak\u7684list\uff0c\u6709\u653e\u56de\u91c7\u6837\nrandom.sample(seq, k)     # \u957f\u5ea6\u4e3ak\u7684list\uff0c\u65e0\u653e\u56de\u91c7\u6837\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_5","title":"\u5927\u6570\u5b57\u4e2d\u95f4\u53ef\u4ee5\u52a0\u4e0b\u5212\u7ebf","text":"<pre><code>bn = 123_456_789 # bn = 123456789\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_6","title":"\u4e09\u5143\u8fd0\u7b97\u7b26","text":"<pre><code>max = a if a &gt; b else b \n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#is","title":"== \u548c is","text":"<pre><code>x == y  # \u4e24\u5f15\u7528\u5bf9\u8c61\u662f\u5426\u6709\u76f8\u540c\u503c\nx is y  # \u4e24\u5f15\u7528\u662f\u5426\u6307\u5411\u540c\u4e00\u5bf9\u8c61\uff0c\u6240\u4ee5\u5224\u65adx\u4e3a\u7a7a\u5fc5\u987b\u662fx is None\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_7","title":"\u65e0\u9650\u503c","text":"<pre><code>a = float('inf')\nb = float('-inf')\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#zip","title":"zip\u6253\u5305","text":"<pre><code>list1 = [1, 2, 3] \nlist2 = ['a', 'b', 'c'] \nfor x, y in zip(list1, list2):\n    print(x, y)\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#map","title":"\u628a\u64cd\u4f5cmap\u5230\u5217\u8868\u6216\u53ef\u8fed\u4ee3\u5bf9\u8c61\u4e0a","text":"<pre><code>slist = [x**2 for x in range(1, 6)]     # \u7ed3\u679c\u662f\u5217\u8868[1, 4, 9, 16, 25]\nsdict = {x: x**2 for x in range(1, 6)}  # \u7ed3\u679c\u662f\u5b57\u5178{1: 1, 2: 4, 3: 9, 4: 16, 5: 25}\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#iter","title":"iter\u6392\u5e8f\u548c\u6392\u5217\u7ec4\u5408","text":"<pre><code>sorted(iterable, key=None, reverse=False)\n\nitertools.groupby(iterable, key=None)              # \u6309\u503c\u5206\u7ec4\uff0citerable\u9700\u8981\u5148\u88ab\u6392\u5e8f\n# groupby(sorted([1, 4, 6, 4, 1])) -&gt; (1, iter1), (4, iter4), (6, iter6)\n\nitertools.permutations(iterable, r=None)           # \u6392\u5217\uff0c\u8fd4\u56de\u503c\u662fTuple\n# permutations('ABCD', 2) -&gt; AB, AC, AD, BA, BC, BD, CA, CB, CD, DA, DB, DC\n\nitertools.combinations(iterable, r=None)           # \u7ec4\u5408\uff0c\u8fd4\u56de\u503c\u662fTuple\nitertools.combinations_with_replacement(...)\n# combinations('ABCD', 2) -&gt; AB, AC, AD, BC, BD, CD\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#enumerate","title":"enumerate\u5b9e\u73b0\u52a0\u7d22\u5f15\u7684\u679a\u4e3e","text":"<pre><code>fruits = ['apple', 'banana', 'mango'] \nfor index, fruit in enumerate(fruits): \n    print(index, fruit)\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_8","title":"\u8c03\u7528\u5916\u90e8\u547d\u4ee4\u5e76\u68c0\u67e5\u8fd4\u56de\u7ed3\u679c","text":"<pre><code>import subprocess\n# \u5982\u679c\u5916\u90e8\u547d\u4ee4\u8fd4\u56de\u503c\u975e0\uff0c\u5219\u629b\u51fasubprocess.CalledProcessError\u5f02\u5e38\nresult = subprocess.check_output(['cmd', 'arg1', 'arg2']).decode('utf-8')  \n# \u540c\u65f6\u6536\u96c6\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\nresult = subprocess.check_output(['cmd', 'arg1', 'arg2'], stderr=subprocess.STDOUT).decode('utf-8')  \n# \u6267\u884cshell\u547d\u4ee4\uff08\u7ba1\u9053\u3001\u91cd\u5b9a\u5411\u7b49\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528shlex.quote()\u5c06\u53c2\u6570\u53cc\u5f15\u53f7\u5f15\u8d77\u6765\nresult = subprocess.check_output('grep python | wc &gt; out', shell=True).decode('utf-8')\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_9","title":"\u51fd\u6570\u53ef\u4ee5\u7528 * \u548c  \u8fd0\u7b97\u7b26\u4f20\u9012\u591a\u4e2a\u51fd\u6570\u53c2\u6570\u3002* \u5305\u542b\u6240\u6709\u4e0d\u5e26\u540d\u5b57\u7684\u53c2\u6570\uff0c  \u5305\u542b\u6240\u6709\u5e26\u540d\u5b57\u7684\u53c2\u6570","text":"<pre><code>def print_arguments(*args, **kwargs):\n    print(args)\n    print(kwargs)\n\nprint_arguments(1, 2, 3, name='John', age=30)\n# \u8f93\u51fa\uff1a\n# (1, 2, 3)\n# {'name': 'John', 'age': 30}\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_10","title":"\u7528\u88c5\u9970\u5668\u5bf9\u51fd\u6570\u8fdb\u884c\u5c01\u88c5\u53ef\u4ee5\u4e0d\u5f71\u54cd\u5176\u5b83\u4ee3\u7801","text":"<pre><code>def log_function(func):\n    def wrapper(*args, **kwargs):\n        print(f'Running {func.__name__}')\n        result = func(*args, **kwargs)\n        print(f'{func.__name__} returned {result}')\n        return result\n    return wrapper\n\n@log_function\ndef add(x, y):\n    return x + y\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_11","title":"\u9519\u8bef\u3001\u8b66\u544a\u548c\u8c03\u8bd5\u4fe1\u606f","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_12","title":"\u9519\u8bef","text":"<pre><code>import sys\nsys.stderr.write('')\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_13","title":"\u8b66\u544a","text":"<pre><code>import warnings\nwarnings.warn(message, category=UserWarning)  \n# category\u7684\u53d6\u503c\u6709DeprecationWarning, SyntaxWarning, RuntimeWarning, ResourceWarning, FutureWarning\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_14","title":"\u63a7\u5236\u8b66\u544a\u6d88\u606f\u7684\u8f93\u51fa","text":"<pre><code>$ python -W all     # \u8f93\u51fa\u6240\u6709\u8b66\u544a\uff0c\u7b49\u540c\u4e8e\u8bbe\u7f6ewarnings.simplefilter('always')\n$ python -W ignore  # \u5ffd\u7565\u6240\u6709\u8b66\u544a\uff0c\u7b49\u540c\u4e8e\u8bbe\u7f6ewarnings.simplefilter('ignore')\n$ python -W error   # \u5c06\u6240\u6709\u8b66\u544a\u8f6c\u6362\u4e3a\u5f02\u5e38\uff0c\u7b49\u540c\u4e8e\u8bbe\u7f6ewarnings.simplefilter('error')\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_15","title":"\u53ea\u5728\u8c03\u8bd5\u65f6\u6267\u884c\u7684\u8bed\u53e5","text":"<pre><code># \u5728\u4ee3\u7801\u4e2d\u7684debug\u90e8\u5206\nif __debug__:\n    pass\n</code></pre> <p>\u901a\u8fc7\u5728\u547d\u4ee4\u884c\u6267\u884c -O \u9009\u9879\uff0c\u4f1a\u5ffd\u7565\u8fd9\u90e8\u5206\u4ee3\u7801 <pre><code>$ python -0 main.py\n</code></pre></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_16","title":"\u67e5\u770b\u7f16\u8bd1\u540e\u7684\u4ee3\u7801","text":"<pre><code>import dis\n\ndef add10(x):\n    return x+10\n\ndis.dis(add10)\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/python/#_17","title":"\u4ee3\u7801\u8017\u65f6\u6d4b\u8bd5","text":"<pre><code>$ python -m cProfile main.py\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/qt/","title":"qt","text":"<ul> <li>qt<ul> <li>qt\u9879\u76ee\u751f\u6210makefile\uff1a</li> </ul> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/qt/#qtmakefile","title":"qt\u9879\u76ee\u751f\u6210makefile\uff1a","text":"<p>\u5728.pro\u6240\u5728\u76ee\u5f55\u4e0b\u4f7f\u7528qmake\u53ef\u4ee5\u751f\u6210makefile\uff1a <pre><code>qmake -makefile *.pro\n</code></pre> \u6709\u65f6\u5019\u4f1a\u63d0\u793a <code>Could not find qmake spec 'linux-g++'.</code> \u4e4b\u7c7b\uff0c\u8fd9\u662f\u56e0\u4e3a\u7cfb\u7edf\u5f15\u7528\u4e86\u9519\u8bef\u4f4d\u7f6e\u7684qmake\uff0c\u7528\uff1a <pre><code>which -a qmake\n</code></pre> \u770b\u770b\u6709\u591a\u5c11\u4e2aqmake\uff0c\u52a0\u4e0a\u6b63\u786e\u7684\u8def\u5f84\u5c31\u884c\u4e86\uff0c\u6b63\u786e\u8def\u5f84\u901a\u5e38\u662f <pre><code>/usr/bin/qmake *.pro -o makefile\n</code></pre></p> <p>\u53e6\u5916\uff0c\u7528<code>qmake -v</code>\u53ef\u4ee5\u770b\u5230\u5176\u5bf9\u5e94\u7684qt\u7248\u672c\u548c\u4f4d\u7f6e\uff0c\u7c7b\u4f3c\uff1a</p> <p>QMake version 2.01a Using Qt version 4.8.7 in /usr/lib/x86_64-linux-gnu</p> <p><code>qmake -query</code>\u5219\u53ef\u4ee5\u663e\u793a\u5f53\u524d\u7684\u914d\u7f6e\u548c\u76ee\u5f55\u4fe1\u606f</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/sympy/","title":"Sympy","text":"<p>\u8fd9\u4e2anotebook\u7684\u5185\u5bb9\u57fa\u672c\u6765\u81ea https://dynamics-and-control.readthedocs.io/en/latest/0_Getting_Started/Notebook%20introduction.html \u3002https://www.sympy.org/scipy-2017-codegen-tutorial/notebooks/01-intro-sympy.html \u8fd9\u91cc\u4e5f\u6709\u5f88\u597d\u7684\u8bf4\u660e</p> In\u00a0[1]: Copied! <pre>import sympy\nsympy.__version__\n</pre> import sympy sympy.__version__ Out[1]: <pre>'1.10.1'</pre> <p>\u7528<code>Symbol</code>\u5b9a\u4e49\u53d8\u91cf\uff0c<code>symbols</code>\u5b9a\u4e49\u591a\u4e2a\u53d8\u91cf\u3002\u53ef\u4ee5\u57fa\u4e8e\u53d8\u91cf\u5b9a\u4e49\u51fd\u6570\uff0c\u4e5f\u53ef\u4ee5\u7528<code>Function</code>\u5b9a\u4e49\u672a\u77e5\u7684\u51fd\u6570</p> In\u00a0[2]: Copied! <pre>h = sympy.Function('h')  # This is how to specify an unknown function in sympy\nx = sympy.Symbol('x', positive=True)\nalpha1, omega_2 = sympy.symbols('alpha1 omega_2') # sympy\u80fd\u591f\u81ea\u52a8\u89e3\u6790\u5e0c\u814a\u5b57\u6bcd\u540d\u4ee5\u53ca\u6570\u5b57\u4e0b\u6807\ntrial = h(x).diff(x) - alpha1*h(x).diff(x,2) + h(x).integrate(x) + omega_2\ntrial\n</pre> h = sympy.Function('h')  # This is how to specify an unknown function in sympy x = sympy.Symbol('x', positive=True) alpha1, omega_2 = sympy.symbols('alpha1 omega_2') # sympy\u80fd\u591f\u81ea\u52a8\u89e3\u6790\u5e0c\u814a\u5b57\u6bcd\u540d\u4ee5\u53ca\u6570\u5b57\u4e0b\u6807 trial = h(x).diff(x) - alpha1*h(x).diff(x,2) + h(x).integrate(x) + omega_2 trial Out[2]:  $\\displaystyle - \\alpha_{1} \\frac{d^{2}}{d x^{2}} h{\\left(x \\right)} + \\omega_{2} + \\frac{d}{d x} h{\\left(x \\right)} + \\int h{\\left(x \\right)}\\, dx$  <p>\u7528<code>sympify</code>\u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u51fd\u6570</p> In\u00a0[3]: Copied! <pre>str = \"x**2 + 3*x - 1/2\"\nstr_exp = sympy.sympify(str)\nstr_exp\n</pre> str = \"x**2 + 3*x - 1/2\" str_exp = sympy.sympify(str) str_exp Out[3]:  $\\displaystyle x^{2} + 3 x - \\frac{1}{2}$  <p>\u8fd8\u53ef\u4ee5\u7528lambdify\u6784\u5efalambda\u51fd\u6570</p> In\u00a0[4]: Copied! <pre>import numpy \na = numpy.arange(10) \nexpr = sympy.sin(x)\nf = sympy.lambdify(x, expr, \"numpy\") \nf(a)\n</pre> import numpy  a = numpy.arange(10)  expr = sympy.sin(x) f = sympy.lambdify(x, expr, \"numpy\")  f(a)  Out[4]: <pre>array([ 0.        ,  0.84147098,  0.90929743,  0.14112001, -0.7568025 ,\n       -0.95892427, -0.2794155 ,  0.6569866 ,  0.98935825,  0.41211849])</pre> <p>\u51fd\u6570\u53ef\u4ee5\u5c55\u5f00</p> In\u00a0[5]: Copied! <pre>polynomial = (2*x + 3)**4\npolynomial.expand()\n</pre> polynomial = (2*x + 3)**4 polynomial.expand() Out[5]:  $\\displaystyle 16 x^{4} + 96 x^{3} + 216 x^{2} + 216 x + 81$  <p>\u53ef\u4ee5\u5206\u89e3\u56e0\u5f0f</p> In\u00a0[6]: Copied! <pre>(x**2+4*x+3).factor()\n</pre> (x**2+4*x+3).factor() Out[6]:  $\\displaystyle \\left(x + 1\\right) \\left(x + 3\\right)$  <p>\u53ef\u4ee5\u5316\u7b80</p> In\u00a0[7]: Copied! <pre>sympy.simplify((x**3 + x**2 - x - 1)/(x**2 + 2*x + 1))\n</pre> sympy.simplify((x**3 + x**2 - x - 1)/(x**2 + 2*x + 1)) Out[7]:  $\\displaystyle x - 1$  <p>\u53ef\u4ee5\u6c42\u5fae\u5206</p> In\u00a0[8]: Copied! <pre>eq = sympy.tan(sympy.log(x**2 + 1))\neq.diff(x)\n</pre> eq = sympy.tan(sympy.log(x**2 + 1)) eq.diff(x) Out[8]:  $\\displaystyle \\frac{2 x \\left(\\tan^{2}{\\left(\\log{\\left(x^{2} + 1 \\right)} \\right)} + 1\\right)}{x^{2} + 1}$  <p>\u53ef\u4ee5\u6c42n\u9636\u5fae\u5206</p> In\u00a0[9]: Copied! <pre>polynomial.diff(x, 2) # Second derivative\n</pre> polynomial.diff(x, 2) # Second derivative Out[9]:  $\\displaystyle 48 \\left(2 x + 3\\right)^{2}$  <p>\u53ef\u4ee5\u6c42\u4e0d\u5b9a\u79ef\u5206</p> In\u00a0[10]: Copied! <pre>polynomial.integrate(x) # indefinite integral - note no constant of integration is added\n</pre> polynomial.integrate(x) # indefinite integral - note no constant of integration is added Out[10]:  $\\displaystyle \\frac{16 x^{5}}{5} + 24 x^{4} + 72 x^{3} + 108 x^{2} + 81 x$  <p>\u53ef\u4ee5\u6c42\u5b9a\u79ef\u5206</p> In\u00a0[11]: Copied! <pre>polynomial.integrate((x, 1, 2)) # Note that integrate takes one argument which is a tuple for the definite integral\n</pre> polynomial.integrate((x, 1, 2)) # Note that integrate takes one argument which is a tuple for the definite integral Out[11]:  $\\displaystyle \\frac{6841}{5}$  <p>\u53ef\u4ee5\u6c42\u6781\u9650</p> In\u00a0[12]: Copied! <pre>lim = sympy.limit((2*sympy.sin(x) - sympy.sin(2*x))/(x - sympy.sin(x)), x, 0,'+')\nlim\n</pre> lim = sympy.limit((2*sympy.sin(x) - sympy.sin(2*x))/(x - sympy.sin(x)), x, 0,'+') lim Out[12]:  $\\displaystyle 6$  <p>\u53ef\u4ee5\u5728\u6307\u5b9a\u70b9\u6cf0\u52d2\u5c55\u5f00\u6307\u5b9a\u9636\u6570</p> In\u00a0[13]: Copied! <pre>sympy.series(sympy.sin(x), x, 2, 7) # taylor expansion in terms of the x variable, around x=2, first order.\n</pre> sympy.series(sympy.sin(x), x, 2, 7) # taylor expansion in terms of the x variable, around x=2, first order. Out[13]:  $\\displaystyle \\sin{\\left(2 \\right)} + \\left(x - 2\\right) \\cos{\\left(2 \\right)} - \\frac{\\left(x - 2\\right)^{2} \\sin{\\left(2 \\right)}}{2} - \\frac{\\left(x - 2\\right)^{3} \\cos{\\left(2 \\right)}}{6} + \\frac{\\left(x - 2\\right)^{4} \\sin{\\left(2 \\right)}}{24} + \\frac{\\left(x - 2\\right)^{5} \\cos{\\left(2 \\right)}}{120} - \\frac{\\left(x - 2\\right)^{6} \\sin{\\left(2 \\right)}}{720} + O\\left(\\left(x - 2\\right)^{7}; x\\rightarrow 2\\right)$  <p>\u7528<code>removeO</code>\u53ef\u4ee5\u4e0d\u4ea7\u751fO\u9879</p> In\u00a0[14]: Copied! <pre>(sympy.series(sympy.sin(x), x, 2, 7)).removeO()\n</pre> (sympy.series(sympy.sin(x), x, 2, 7)).removeO() Out[14]:  $\\displaystyle - \\frac{\\left(x - 2\\right)^{6} \\sin{\\left(2 \\right)}}{720} + \\frac{\\left(x - 2\\right)^{5} \\cos{\\left(2 \\right)}}{120} + \\frac{\\left(x - 2\\right)^{4} \\sin{\\left(2 \\right)}}{24} - \\frac{\\left(x - 2\\right)^{3} \\cos{\\left(2 \\right)}}{6} - \\frac{\\left(x - 2\\right)^{2} \\sin{\\left(2 \\right)}}{2} + \\left(x - 2\\right) \\cos{\\left(2 \\right)} + \\sin{\\left(2 \\right)}$  <p>\u4ee5\u53ca\u7528<code>sub</code>\u65b9\u6cd5\u628a\u7b97\u5f0f\u7684\u6307\u5b9a\u90e8\u5206\u66ff\u6362\u6210\u7279\u5b9a\u7684\u503c(\u7279\u522b\u6ce8\u610f\uff1a\u8fd9\u91cc\u7684sin(2x)\u4e0d\u4f1a\u88ab\u5c55\u5f00\u62102cos(x)sin(x)\u7136\u540e\u628asin(x)\u66ff\u6362\u6389)</p> In\u00a0[17]: Copied! <pre>((x-sympy.sin(2*x))/sympy.sin(x)).subs(sympy.sin(x), 1)\n</pre> ((x-sympy.sin(2*x))/sympy.sin(x)).subs(sympy.sin(x), 1) Out[17]:  $\\displaystyle x - \\sin{\\left(2 x \\right)}$  <p>\u6ce8\u610f<code>subs</code>\u8f93\u51fa\u7684\u662f\u6570\u5b57\u8868\u8fbe\u5f0f\uff0c\u610f\u5473\u7740\u4e0d\u4f1a\u76f4\u63a5\u5f97\u5230\u7acb\u5373\u6570\u7ed3\u679c\uff0c\u9664\u975e\u7ed3\u679c\u662f\u4e00\u4e2a\u7cbe\u786e\u7684\u6574\u6570</p> In\u00a0[18]: Copied! <pre>x, y, z = sympy.symbols('x y z')\nexp = 2*x**2+y/7+3*z\nres_exp = exp.subs([(x, 2), (y, 4), (z, 1)])\nres_exp\n</pre> x, y, z = sympy.symbols('x y z') exp = 2*x**2+y/7+3*z res_exp = exp.subs([(x, 2), (y, 4), (z, 1)]) res_exp Out[18]:  $\\displaystyle \\frac{81}{7}$  In\u00a0[19]: Copied! <pre>exp = (2*sympy.sin(x**2) - sympy.sin(2*y))/(x - sympy.sin(z))\nres_exp = exp.subs([(x, 2), (y, 4), (z, 1)])\nres_exp\n</pre> exp = (2*sympy.sin(x**2) - sympy.sin(2*y))/(x - sympy.sin(z)) res_exp = exp.subs([(x, 2), (y, 4), (z, 1)]) res_exp Out[19]:  $\\displaystyle \\frac{2 \\sin{\\left(4 \\right)} - \\sin{\\left(8 \\right)}}{2 - \\sin{\\left(1 \\right)}}$  <p><code>evalf</code>\u53ef\u4ee5\u6c42\u8fd1\u4f3c\u503c\uff0c\u5176\u53ef\u9009\u53c2\u6570\u5305\u62ec\u7cbe\u5ea6\u4f4d\u6570\uff0c\u4ee5\u53ca\u622a\u5c3e<code>chop=True</code>\u3002\u6709\u53d8\u91cf\u7684\u8868\u8fbe\u5f0f\u53ef\u4ee5\u4ee5\u5e26<code>subs=</code>\u53c2\u6570\u7684\u65b9\u5f0f\u8c03\u7528<code>evalf</code></p> In\u00a0[20]: Copied! <pre>print(res_exp.evalf())\nprint(res_exp.evalf(6))\n\none= sympy.cos(1)**2 + sympy.sin(1)**2\nprint((one-1).evalf())\nprint((one-1).evalf(chop=True))\n\nprint(exp.evalf(subs={x: 2, y: 4, z: 1}))\n</pre> print(res_exp.evalf()) print(res_exp.evalf(6))  one= sympy.cos(1)**2 + sympy.sin(1)**2 print((one-1).evalf()) print((one-1).evalf(chop=True))  print(exp.evalf(subs={x: 2, y: 4, z: 1})) <pre>-2.16046659549930\n-2.16047\n-0.e-124\n0\n-2.16046659549930\n</pre> <p>\u628a\u6570\u503c\u8868\u8fbe\u5f0f\u53d8\u6210\u666e\u901a\u6d6e\u70b9\u6570\u7684\u65b9\u5f0f\u8fd8\u5305\u62ec<code>sympy.N</code>\u548c<code>float</code>\uff0c\u5176\u4e2d<code>sympy.N</code>\u53ef\u7528\u4e8e\u5e26\u53c2\u6570\u7684\u8868\u8fbe\u5f0f\u5316\u7b80</p> In\u00a0[21]: Copied! <pre>print(float(res_exp))\nnew_exp = res_exp*sympy.sqrt(2)*sympy.pi*x\nNexp=sympy.N(new_exp)\nprint(Nexp)\nprint(new_exp)\nnew_exp\n</pre> print(float(res_exp)) new_exp = res_exp*sympy.sqrt(2)*sympy.pi*x Nexp=sympy.N(new_exp) print(Nexp) print(new_exp) new_exp <pre>-2.160466595499298\n-9.59870017560492*x\nsqrt(2)*pi*x*(2*sin(4) - sin(8))/(2 - sin(1))\n</pre> Out[21]:  $\\displaystyle \\frac{\\sqrt{2} \\pi x \\left(2 \\sin{\\left(4 \\right)} - \\sin{\\left(8 \\right)}\\right)}{2 - \\sin{\\left(1 \\right)}}$  <p>\u7528<code>solve</code>\u89e3\u65b9\u7a0b</p> In\u00a0[22]: Copied! <pre>solutions = sympy.solve(2*x**2 + 2 - 4) # \u89e3\u65b9\u7a0b 2*x**2 + 2 - 4 = 0\nprint(solutions)\n</pre> solutions = sympy.solve(2*x**2 + 2 - 4) # \u89e3\u65b9\u7a0b 2*x**2 + 2 - 4 = 0 print(solutions) <pre>[-1, 1]\n</pre> <p>\u7528<code>Eq</code>\u6784\u5efa\u65b9\u7a0b\u7136\u540e\u7528<code>roots</code>\u6c42\u89e3</p> In\u00a0[23]: Copied! <pre>equation = sympy.Eq(2*x**2 + 2, 4) # \u89e3\u65b9\u7a0b 2*x**2 + 2 = 4\nsympy.roots(equation)\n</pre> equation = sympy.Eq(2*x**2 + 2, 4) # \u89e3\u65b9\u7a0b 2*x**2 + 2 = 4 sympy.roots(equation) Out[23]: <pre>{-1: 1, 1: 1}</pre> <p>\u65b9\u7a0b\u7684\u89e3\u4e2d\u53ef\u4ee5\u5305\u542b\u53d8\u91cf(var)\uff0c\u4e5f\u53ef\u4ee5\u5c06\u4e00\u4e2asymbol\u7528\u5176\u5b83symbol\u8868\u793a</p> In\u00a0[25]: Copied! <pre>a, b, c = sympy.var('a, b, c')\nsolution = sympy.solve([a*x + b*y - 2,\n                        a*x - b*y - c], [x, y])\nsolution\n</pre> a, b, c = sympy.var('a, b, c') solution = sympy.solve([a*x + b*y - 2,                         a*x - b*y - c], [x, y]) solution Out[25]: <pre>{x: (c + 2)/(2*a), y: (2 - c)/(2*b)}</pre> In\u00a0[26]: Copied! <pre>sympy.solve(x + y - z, z)\n</pre> sympy.solve(x + y - z, z) Out[26]: <pre>[x + y]</pre> <p><code>plot</code>\u753b\u56fe</p> In\u00a0[27]: Copied! <pre>badeq = (x - sympy.cos(x))\nsympy.plot(badeq)\n</pre> badeq = (x - sympy.cos(x)) sympy.plot(badeq) Out[27]: <pre>&lt;sympy.plotting.plot.Plot at 0x1b16027f520&gt;</pre> <p>\u5bf9\u4e8e\u96be\u4ee5\u6c42\u89e3\u6790\u89e3\u7684\u65b9\u7a0b\uff0c\u53ef\u4ee5\u6307\u5b9a\u521d\u59cb\u503c\u7136\u540e\u7528<code>nsolve</code>\u6c42\u6570\u503c\u89e3</p> In\u00a0[28]: Copied! <pre>sympy.nsolve(badeq, x, 0.5) # \u4ece\u56fe\u4e0a\u770b\u8fd9\u9644\u8fd1\u6709\u4e00\u4e2a\u89e3\n</pre> sympy.nsolve(badeq, x, 0.5) # \u4ece\u56fe\u4e0a\u770b\u8fd9\u9644\u8fd1\u6709\u4e00\u4e2a\u89e3 Out[28]:  $\\displaystyle 0.739085133215161$  <p>sympy\u4e5f\u80fd\u4e3a\u67d0\u4e9b\u65b9\u7a0b\u6c42\u89e3\u6790\u89e3\uff0c\u4f7f\u7528<code>dsolve</code></p> In\u00a0[3]: Copied! <pre>de = h(x)+h(x).diff(x)-2\nde\n</pre> de = h(x)+h(x).diff(x)-2 de Out[3]:  $\\displaystyle h{\\left(x \\right)} + \\frac{d}{d x} h{\\left(x \\right)} - 2$  In\u00a0[30]: Copied! <pre>solution = sympy.dsolve(de)\nsolution\n</pre> solution = sympy.dsolve(de) solution Out[30]:  $\\displaystyle h{\\left(x \\right)} = C_{1} e^{- x} + 2$  <p>\u7528<code>latex</code>\u53ef\u4ee5\u751f\u6210\u51fd\u6570\u7684latex\u8868\u8fbe\u5f0f\uff08\u8981\u901a\u8fc7print\u8f93\u51fa\uff0c\u5426\u5219\u4f1a\u6709\u989d\u5916\u7684<code>\\</code>\u8f6c\u4e49\u7b26\uff09</p> In\u00a0[5]: Copied! <pre>print(sympy.latex(de))\n</pre> print(sympy.latex(de)) <pre>h{\\left(x \\right)} + \\frac{d}{d x} h{\\left(x \\right)} - 2\n</pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/vscode/","title":"VSCode\u76f8\u5173","text":"<ul> <li>VSCode\u76f8\u5173<ul> <li>\u7a0b\u5e8f\u8c03\u8bd5\u65f6\u5e26\u8f93\u5165\u53c2\u6570</li> <li>vscode\u7f16\u8bd1\u548c\u8c03\u8bd5C++</li> <li>vscode\u4e2d\u4f7f\u7528cmake</li> </ul> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/vscode/#_1","title":"\u7a0b\u5e8f\u8c03\u8bd5\u65f6\u5e26\u8f93\u5165\u53c2\u6570","text":"<ol> <li>\u83dc\u5355\u201c\u8c03\u8bd5-&gt;\u6253\u5f00\u914d\u7f6e\u201d\u6253\u5f00launch.json</li> <li>\u5728configurations\u4e2d\u589e\u52a0args\uff0c\u53c2\u6570\u4e2d\u7684\u6bcf\u4e2a\u7528\u7a7a\u683c\u9694\u5f00\u7684\u90fd\u7528\u53cc\u5f15\u53f7\u62ec\u8d77\uff0c\u5982\u4e0b\u4f8b\uff1a <p>\"args\": [ \"--model\", \"EDSR\", \"--scale\", \"2\", \"--save\", \"edsr_x2\", \"--n_resblocks\", \"32\", \"--n_feats\", \"256\", \"--res_scale\", \"0.1\", \"--reset\"]</p> </li> </ol> <ul> <li>\u9996\u5148\u5728F1\u9762\u677f\u91cc\u8f93\u5165\u5173\u952e\u8bcd\"C/C++ edit\"\uff0c\u9009\u62e9\u5339\u914d\u5230\u7684\u547d\u4ee4\"C/C++: Edit Configurations (UI)\"\uff0c\u786e\u8ba4\u7f16\u8bd1\u7a0b\u5e8f\u548cintelliSenseMode\u90fd\u662f\u6b63\u786e\u7684\u3002\u5982\u679c\u4e4b\u524d\u4ece\u672a\u914d\u7f6e\u8fc7\uff0c\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u914d\u7f6e\u540d\u79f0\u6bd4\u5982win32\uff0c\u8bbe\u7f6e\u5176\u7f16\u8bd1\u5668\u8def\u5f84\u7b49\u53c2\u6570</li> <li>\u6253\u5f00\u6240\u5728\u6587\u4ef6\u5939\u4e4b\u540e\u9009\u62e9\u83dc\u5355\u680f\u3010\u8fd0\u884c\u3011-&gt;\u3010\u6dfb\u52a0\u914d\u7f6e\u2026\u3011-&gt;\"C++ (GDB/LLDB)\"-&gt;\"g++.exe - \u751f\u6210\u548c\u8c03\u8bd5\u6d3b\u52a8\u6587\u4ef6\"(\u540e\u4e24\u8005\u6309\u5b9e\u9645\u60c5\u51b5\u9009)</li> <li>\u4e0a\u8ff0\u64cd\u4f5c\u5b8c\u6210\u540e\u4f1a\u751f\u6210task.json\u548claunch.json\u4e24\u4e2a\u6587\u4ef6\uff0c\u6253\u5f00task.json\uff0c\u589e\u52a0\u4f60\u60f3\u8981\u7684\u914d\u7f6e\uff0c\u6216\u8005\u628a\u539f\u6709\u914d\u7f6e\u6539\u6210\u60f3\u8981\u7684\u5373\u53ef\u3002\u6bd4\u65b9\u8bf4\u539f\u6709\u914d\u7f6e\u662f \"command\": \"gcc\", \uff0c\u800c\u6211\u4eec\u9700\u8981\u7528makefile\u7f16\u8bd1\uff0c\u90a3\u5c31\u628a\u5b83\u6539\u6210 \"command\": \"make\" </li> <li>\u901a\u5e38\u4e0d\u7528\u6539launch.json\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662fcwd\u548cprogram\u7684\u76ee\u5f55\uff0c\u6839\u636e\u60c5\u51b5\u53ef\u80fd\u8981\u8bbe\u4e3a\u5de5\u4f5c\u76ee\u5f55\\({workspaceFolder}\\)\u6216\\({fileDirname}\\)</li> <li>\u9700\u8981\u8c03\u8bd5gcc/g++\u7684\u8bdd\u7f16\u8bd1\u65f6\u8981\u5728\u6587\u4ef6\u540d\u524d\u52a0-g\u6807\u5fd7\uff0c\u5982\u4e0b\u3002\u5982\u679c-g\u653e\u5230$&lt;\u4e4b\u540e\u662f\u65e0\u6548\u7684\u3002</li> </ul> <pre><code>    %.o: %.cpp; $(CXX) -g $&lt; -o $@ $(CXXFLAGS)\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/vscode/#vscodec","title":"vscode\u7f16\u8bd1\u548c\u8c03\u8bd5C++","text":""},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/vscode/#vscodecmake","title":"vscode\u4e2d\u4f7f\u7528cmake","text":"<ul> <li>\u9996\u5148\u786e\u8ba4\u7cfb\u7edf\u4e2d\u6709\u5b89\u88c5cmake\u5e76\u4e14\u5df2\u6dfb\u52a0\u7cfb\u7edf\u8def\u5f84\uff08\u6216\u624b\u52a8\u8bbe\u7f6evscode\u8bbe\u7f6e\u9879\u4e2d\u7684cmake.cmakepath\u4e3a\u6b63\u786e\u7684cmake\u8def\u5f84\uff09\uff0c\u5426\u5219vscode\u5185\u7684\u63d2\u4ef6\u8fd0\u884c\u4f1a\u51fa\u9519\u3002</li> <li>\u5176\u6b21\u5b89\u88c5cmake(\u4f5c\u8005twxs)\u548ccmake tools\uff08\u4f5c\u8005microsoft\uff09\u4e24\u4e2avscode\u63d2\u4ef6\uff0c\u5fae\u8f6f\u5b98\u65b9\u7684C++ extension pack\u5185\u5df2\u5305\u542b\u3002\u5b89\u88c5\u540e\u4f1a\u81ea\u52a8\u626b\u63cf\u53ef\u4ee5\u7528\u7684\u5de5\u5177\u94fe\uff08kits\uff09\uff0cwin10\u4e0b\u626b\u63cf\u7ed3\u679c\u4fdd\u5b58\u5728C:\\Users\\zhi.zhang\\AppData\\Local\\CMakeTools\\cmake-tools-kits.json\u4e2d\uff0c\u4e4b\u540e\u4e5f\u53ef\u4ee5\u5728f1\u547d\u4ee4\u9762\u677f\u4e2d\u9009\u62e9cmake: scan for kits\u6765\u6dfb\u52a0\u65b0\u7684\u5de5\u5177\u94fe\uff0c\u6ce8\u610f\u5de5\u5177\u94fe\u7684c\u7f16\u8bd1\u5668\u6240\u5728\u76ee\u5f55\u8981\u5728\u5f53\u524d\u7cfb\u7edf\u8def\u5f84\u91cc\uff0c\u5426\u5219\u641c\u7d22\u4e0d\u5230\u3002</li> <li>\u65b0\u5efa\u5de5\u7a0b\u65f6\u53ef\u4ee5\u7528f1\u9762\u677f\u7684cmake: quick start\u751f\u6210CMakeLists.txt\uff0c\u4f46\u8fd9\u6837\u4f1a\u81ea\u52a8\u751f\u6210main.cpp\u6587\u4ef6\uff0c\u4e0d\u9700\u8981\u7684\u8bdd\u53ef\u4ee5\u624b\u52a8\u5220\u6389</li> <li>\u624b\u52a8\u4fee\u6539CMakeLists.txt\u6dfb\u52a0\u6240\u9700\u7684\u6587\u4ef6\uff0c\u5982\u4ee5\u4e0b\u4ee3\u7801\u628a\u5f53\u524d\u76ee\u5f55\u548csub1\u5b50\u76ee\u5f55\u4e0b\u6240\u6709\u540e\u7f00\u540d\u5339\u914d\u7684\u6587\u4ef6\u52a0\u5165\u9700\u8981\u7f16\u8bd1\u7684\u6587\u4ef6\u5217\u8868\uff0c\u5e76\u628asub1\u5b50\u76ee\u5f55\u52a0\u5165.h\u6587\u4ef6\u7684\u641c\u7d22\u5217\u8868\uff08\u5f53\u524d\u76ee\u5f55\u7f3a\u7701\u5305\u542b\u5728\u641c\u7d22\u5217\u8868\u5185\uff09\uff0c\u751f\u6210\u6587\u4ef6\u540d\u4e3azztest\u7684\u53ef\u6267\u884c\u6587\u4ef6 <pre><code>aux_source_directory(. DIR_SRCS)\naux_source_directory(sub1 TEST_SRCS)\n\ninclude_directories(sub1)\n# message\u53ef\u7528\u4e8e\u68c0\u67e5\u53d8\u91cf\u7684\u503c\nmessage (\"files in .: ${DIR_SRCS}, files in sub1: ${TEST_SRCS}\")\n\nadd_executable(zztest  ${DIR_SRCS} ${TEST_SRCS})\n</code></pre></li> <li>\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5728\u5de6\u4e0b\u89d2\u9009\u62e9build\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u9009bug\u56fe\u6807\u542f\u52a8debug\uff0c\u4e09\u89d2\u56fe\u6807\u6267\u884c\uff0c\u4ee5\u53ca\u9009\u62e9\u4f7f\u7528\u7684kit\uff0c\u7f16\u8bd1\u9009\u9879\u7b49\u7b49\u3002</li> <li>\u901a\u8fc7f1\u9762\u677f\u8c03\u51facmake: edit Cmake Cache(UI)\uff0c\u53ef\u4ee5\u5728\u4e0d\u4fee\u6539CMakeLists.txt\u7684\u60c5\u51b5\u4e0b\uff0c\u901a\u8fc7\u76f4\u63a5\u7f16\u8f91build\u76ee\u5f55\u4e0b\u7684CMakeCache.txt\uff0c\u4e34\u65f6\u4fee\u6539\u5404\u79cd\u53c2\u6570\u5982\u7f16\u8bd1\u9009\u9879\uff08CMAKE_C_FLAGS_RELEASE\uff0cCMAKE_C_FLAGS_DEBUG\u7b49\uff09\u8bbe\u7f6e\uff0c\u4ee5\u53caCMakeLists.txt\u4e2d\u7528option\u547d\u4ee4\u81ea\u5b9a\u4e49\u7684\u53d8\u91cf\u5f00\u5173\u7b49\u7b49\u3002</li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/wsl/","title":"WSL\u76f8\u5173","text":"<ul> <li>WSL\u76f8\u5173<ul> <li>\u4eceWSL1\u5347\u7ea7\u5230WSL2</li> <li>win10\u8bbf\u95eeWSL2\u6587\u4ef6</li> <li>powershell\u6267\u884cwsl</li> <li>locale\u9519\u8bef</li> <li>VSCode\u8fdc\u7a0b\u4e0d\u5de5\u4f5c</li> <li>\u5728WSL\u4e0b\u4f7f\u7528Windows\u7684\u5b57\u4f53\u5e93</li> <li>\u5c06\u6307\u5b9a\u7684wsl\u7cfb\u7edf\u8fc1\u79fb\u5230\u5176\u5b83\u76ee\u5f55</li> <li>wsl\u7a7a\u95f4\u56de\u6536</li> </ul> </li> </ul>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/wsl/#wsl1wsl2","title":"\u4eceWSL1\u5347\u7ea7\u5230WSL2","text":"<p>\u53c2\u8003https://docs.microsoft.com/zh-cn/windows/wsl/install-win10#set-your-distribution-version-to-wsl-1-or-wsl-2\u3002\u57fa\u672c\u6d41\u7a0b\uff1a</p> <ol> <li> <p>\u542f\u7528WSL\uff1a\u7528\u7ba1\u7406\u5458\u6743\u9650\u6253\u5f00powershell\u5e76\u8f93\u5165</p> <pre><code>dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\n</code></pre> </li> <li> <p>\u786e\u5b9awin10\u5df2\u5347\u7ea7\u5230\u7248\u672c 1903 \u6216\u66f4\u9ad8\u7248\u672c</p> </li> <li> <p>\u5b89\u88c5 WSL 2 \u4e4b\u524d\uff0c\u5fc5\u987b\u542f\u7528\u201c\u865a\u62df\u673a\u5e73\u53f0\u201d\u53ef\u9009\u529f\u80fd\u3002 \u8ba1\u7b97\u673a\u9700\u8981\u865a\u62df\u5316\u529f\u80fd\u624d\u80fd\u4f7f\u7528\u6b64\u529f\u80fd\u3002\u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u6253\u5f00 PowerShell \u5e76\u8fd0\u884c\uff1a</p> <pre><code>dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart\n</code></pre> </li> <li> <p>\u4e0b\u8f7d\u5e76\u5b89\u88c5\u9002\u7528\u4e8e x64 \u8ba1\u7b97\u673a\u7684 WSL2 Linux \u5185\u6838\u66f4\u65b0\u5305</p> </li> <li> <p>\u5c06 WSL 2 \u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\uff1a</p> <pre><code>wsl --set-default-version 2\n</code></pre> </li> <li> <p>\u4f7f\u7528<code>wsl -l -v</code>\u53ef\u4ee5\u770b\u5230\u5f53\u524d\u5b89\u88c5\u7684\u7cfb\u7edf\u540d\u79f0\u548c\u4f7f\u7528\u7684wsl\u7248\u672c\uff0c\u5982\u679c\u60f3\u4fee\u6539\u6240\u7528\u7684wsl\u7248\u672c\uff0c\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4<code>wsl --set-version linuxname wslversion</code>\uff0c\u5176\u4e2dlinuxname\u8981\u8ddf<code>wsl -l -v</code>\u663e\u793a\u7684name\u4e00\u81f4\uff0cwslversion\u5c31\u662f\u6570\u5b571\u6216\u80052\u3002\u8f6c\u6362\u8fc7\u7a0b\u9700\u8981\u4e00\u4e9b\u65f6\u95f4\u3002</p> </li> </ol>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/wsl/#win10wsl2","title":"win10\u8bbf\u95eeWSL2\u6587\u4ef6","text":"<p>WSL2\u4f7f\u7528\u865a\u62df\u673a\u5b9e\u73b0\uff0c\u542f\u52a8\u540e\u53ef\u4ee5\u5728\u6587\u4ef6\u7ba1\u7406\u5668\u91cc\u8bbf\u95ee\\\\wsl$\u6765\u64cd\u4f5c\u5176\u5185\u90e8\u6587\u4ef6\uff0c\u5176\u5b83\u65b9\u5f0f\u90fd\u5e94\u907f\u514d\u3002wsl\u8bbf\u95eewindows\u6587\u4ef6\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee/mnt/\\\uff0c\u542f\u52a8\u65f6\u7f3a\u7701\u90fd\u5df2\u7ecfmount\u3002"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/wsl/#powershellwsl","title":"powershell\u6267\u884cwsl","text":"<p>powershell\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884clinux\u547d\u4ee4\uff0c\u5728\u547d\u4ee4\u524d\u9762\u52a0wsl\u5373\u53ef\uff0c\u4f8b\u5982<code>wsl sudo apt update</code>\uff0c\u5982\u679c\u6709\u591a\u4e2a\u53d1\u884c\u7248\uff0c\u53ef\u4ee5\u7528<code>wslconfig /setdefault &lt;DistributionName&gt;</code>\u8bbe\u7f6e\u7f3a\u7701\u8fd0\u884c\u7684\u7248\u672c\u3002</p> <p>\u4e5f\u53ef\u4ee5\u628awindows\u548clinux\u6307\u4ee4\u6df7\u5408\u4f7f\u7528\uff0c\u5982<code>dir | wsl grep git</code></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/wsl/#locale","title":"locale\u9519\u8bef","text":"<p>\u73b0\u6709WSL\u91cc\u6ca1\u6709\u81ea\u5e26\u4e2d\u6587\uff0c\u5b89\u88c5\u67d0\u4e9b\u5305\uff08\u5982flask\uff09\u65f6\u4f1a\u56e0\u4e3alocale\u9519\u8bef\u800c\u5931\u8d25\uff0c\u88c5\u4e0a\u5c31\u597d\u4e86</p> <pre><code>sudo apt install language-pack-zh-hans\n</code></pre>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/wsl/#vscode","title":"VSCode\u8fdc\u7a0b\u4e0d\u5de5\u4f5c","text":"<p>\u5728wsl\u91cc\u7684\u5de5\u4f5c\u76ee\u5f55\u8f93\u5165code .\u63d0\u793a\u547d\u4ee4code\u4e0d\u5b58\u5728\uff0c\u8fd9\u65f6\u5019\u5728win10\u7cfb\u7edf\u53d8\u91cf\u7684path\u91cc\u52a0\u4e0a (vscode\u6240\u5728\u76ee\u5f55)/bin \u5c31\u53ef\u4ee5\u4e86</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/wsl/#wslwindows","title":"\u5728WSL\u4e0b\u4f7f\u7528Windows\u7684\u5b57\u4f53\u5e93","text":"<p>\u5728WSL\u4e2d/etc/fonts\u4e0b\u521b\u5efa\u6587\u4ef6<code>local.conf</code>\uff1a <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE fontconfig SYSTEM \"fonts.dtd\"&gt;\n&lt;fontconfig&gt;\n&lt;dir&gt;/mnt/c/Windows/Fonts&lt;/dir&gt;\n&lt;/fontconfig&gt;\n</code></pre></p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/wsl/#wsl_1","title":"\u5c06\u6307\u5b9a\u7684wsl\u7cfb\u7edf\u8fc1\u79fb\u5230\u5176\u5b83\u76ee\u5f55","text":"<p><pre><code>PS D:\\&gt; wsl --shutdown\nPS D:\\&gt; wsl --list --verbose\n  NAME                   STATE           VERSION\n* Ubuntu-20.04           Stopped         2\n  docker-desktop         Stopped         2\n  docker-desktop-data    Stopped         2\nPS D:\\&gt; wsl --export Ubuntu-20.04 D:\\tools\\wsl\\u.tar\n\u6b63\u5728\u5bfc\u51fa\uff0c\u8fd9\u53ef\u80fd\u9700\u8981\u51e0\u5206\u949f\u65f6\u95f4\u3002\n\u64cd\u4f5c\u6210\u529f\u5b8c\u6210\u3002\nPS D:\\&gt; wsl --unregister Ubuntu-20.04 #\u6ce8\u610f\u8be5\u64cd\u4f5c\u4f1a\u5b8c\u5168\u5220\u9664\u539f\u6709\u7684\u6570\u636e\uff0c\u64cd\u4f5c\u524d\u5e94\u786e\u8ba4\u5907\u4efd\u5df2\u6210\u529f\u5b8c\u6210\u3002\n\u6b63\u5728\u6ce8\u9500\u3002\n\u64cd\u4f5c\u6210\u529f\u5b8c\u6210\u3002\nPS D:\\&gt; wsl --import Ubuntu-20.04 D:\\tools\\wsl\\ D:\\tools\\wsl\\u.tar\n\u6b63\u5728\u5bfc\u5165\uff0c\u8fd9\u53ef\u80fd\u9700\u8981\u51e0\u5206\u949f\u65f6\u95f4\u3002\n\u64cd\u4f5c\u6210\u529f\u5b8c\u6210\u3002\nPS D:\\&gt; ubuntu2004.exe config --default-user yourusername # \u8fc1\u79fb\u540e\u7f3a\u7701\u7684\u767b\u5f55\u7528\u6237\u662froot\uff0c\u7528\u8fd9\u4e2a\u6539\u4e3a\u4f60\u60f3\u8981\u7684\u7528\u6237\uff0c\u4e0d\u540c\u53d1\u5e03\u7248\u6587\u4ef6\u540d\u4e0d\u540c\u3002\n</code></pre> \u5982\u679c\u539f\u7cfb\u7edf\u96c6\u6210\u4e86docker desktop\uff0c\u8fc1\u79fb\u540e\u9700\u8981\u5728docker desktop\u7684Settings-&gt;Resources-&gt;WSL integration\u91cc\u91cd\u65b0\u6253\u5f00\u3002</p>"},{"location":"%E8%B1%86%E7%9F%A5%E8%AF%86/wsl/#wsl_2","title":"wsl\u7a7a\u95f4\u56de\u6536","text":"<p>wsl\u7684\u865a\u62df\u673a\u6587\u4ef6\uff08ext4.vhdx\uff09\u5927\u5c0f\u53ea\u4f1a\u589e\u52a0\uff0c\u4e0d\u4f1a\u81ea\u52a8\u7f29\u51cf\u3002\u5982\u679c\u5728linux\u5185\u90e8\u5220\u9664\u4e00\u4e9b\u6587\u4ef6\uff0c<code>df -h</code>\u53ef\u4ee5\u770b\u5230\u5176\u5bf9\u5e94\u7684/dev/sdc\u7a7a\u95f4\u5360\u7528\u51cf\u5c11\u4e86\uff0c\u4f46\u4ecewindows\u6587\u4ef6\u7ba1\u7406\u5668\u91cc\u770b\uff0cext4.vhdx\u6587\u4ef6\u7684\u5927\u5c0f\u5e76\u6ca1\u6709\u53d8\u5316\u3002\u8fd9\u65f6\u53ef\u4ee5\u7528windows\u81ea\u5e26\u5de5\u5177diskpart\u7f29\u51cf\u6587\u4ef6\u5927\u5c0f\u3002</p> <p>\u9996\u5148\u5728powershell\u4e0b\u5173\u95edwsl\uff0c\u7136\u540e\u542f\u52a8diskpart <pre><code>PS D:\\&gt; wsl --shutdown\nPS D:\\&gt; diskpart\n</code></pre></p> <p>\u7136\u540e\u5728diskpart\u4e2d\u64cd\u4f5c <pre><code>select vdisk file=\"D:\\wsl\\ext4.vhdx\"\nattach vdisk readonly\ncompact vdisk\ndetach vdisk\nexit\n</code></pre></p>"}]}